(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"f+ep":function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=e("ZZ/e"),u=e("0LBq"),a=function(n,l,e,t){return new(e||(e=Promise))(function(o,u){function a(n){try{s(t.next(n))}catch(l){u(l)}}function r(n){try{s(t.throw(n))}catch(l){u(l)}}function s(n){n.done?o(n.value):new e(function(l){l(n.value)}).then(a,r)}s((t=t.apply(n,l||[])).next())})},r=function(n,l){var e,t,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function r(u){return function(r){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,t&&(o=2&u[0]?t.return:u[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,u[1])).done)return o;switch(t=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,t=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=l.call(n,a)}catch(r){u=[6,r],t=0}finally{e=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,r])}}},s=function(){function n(n,l,e,t,o){this.alertCtrl=n,this.db=l,this.navCtrl=e,this.modalCtrl=t,this.storage=o,this.homeURL="/tabs/tabs/login",this.htmlControls={toolbar:{title:"",buttons:{cancel:"",password:""}},id:"",phone:"",submit:""},this.LANGUAGE={english:{toolbar:{title:"Login",buttons:{cancel:"Cancel",password:"Set Password"}},id:"ID or Full Name with a space in between",phone:"Phone Number",submit:"Submit"},spanish:{toolbar:{title:"Sesi\xf3n",buttons:{cancel:"Cancelar",password:"Contrase\xf1a"}},id:"Id o nombre completo con espacio entre medio",phone:"Tel\xe9fono",submit:"Someter"}}}return n.prototype.ionViewWillEnter=function(){var n=this;this.storage.get("language").then(function(l){l?(n.language=l,n.htmlControls=n.LANGUAGE[l]):(n.language="english",n.htmlControls=n.LANGUAGE.english)})},n.prototype.cancel=function(){return a(this,void 0,void 0,function(){var n=this;return r(this,function(l){switch(l.label){case 0:return"spanish"!==this.language?[3,3]:[4,this.alertCtrl.create({header:"Informaci\xf3n",subHeader:"Entra la contrase\xf1a para volver a la pantalla principal.",inputs:[{name:"password",type:"password",placeholder:"Contrase\xf1a"}],buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Ok",handler:function(l){return a(n,void 0,void 0,function(){return r(this,function(n){return l.password===this.modalVal&&this.modalCtrl.dismiss(),[2]})})}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[3,6];case 3:return[4,this.alertCtrl.create({header:"Information",subHeader:"Enter password to go back to Main Screen.",inputs:[{name:"password",type:"password",placeholder:"Password"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Ok",handler:function(l){return a(n,void 0,void 0,function(){return r(this,function(n){return l.password===this.modalVal&&this.modalCtrl.dismiss(),[2]})})}}]})];case 4:return[4,l.sent().present()];case 5:l.sent(),l.label=6;case 6:return[2]}})})},n.prototype.checkUser=function(n){if(n.password){var l=this.db.checkIfUserExists(n);this.showSimpleAlert(l.success?"spanish"===this.language?{header:"\xa1\xc9xito!",message:"\xa1"+l.data+" esta presente hoy!"}:{header:"Success!",message:l.data+" is present today!"}:"spanish"===this.language?{header:"\xa1Error!",message:"El usuario no existe! Por favor, compruebe que sus entradas fueron escritas correctamente y vuelva a intentarlo\n          Si se us\xf3 el nombre, verifique que haya un espacio entre el nombre y el apellido y\n          Compruebe el uso correcto de may\xfasculas."}:{header:"Error!",message:"User does not exist! Please check that your entries were written correctly and try again!\n          If the name was used please check that there is one space between the first name and last name and\n          check for correct capitalization."})}else this.showSimpleAlert({header:"Error",message:"El campo de Contrase\xf1a no puede estar vacio."})},n.prototype.showSimpleAlert=function(n){return a(this,void 0,void 0,function(){return r(this,function(l){switch(l.label){case 0:return[4,this.alertCtrl.create({header:n.header,message:n.message,buttons:n.buttons})];case 1:return l.sent().present(),[2]}})})},n.prototype.goToLogin=function(){return a(this,void 0,void 0,function(){var l=this;return r(this,function(e){switch(e.label){case 0:return"spanish"!==this.language?[3,3]:[4,this.alertCtrl.create({header:"Information",subHeader:"Este componente crear\xe1 una nueva pantalla de inicio de sesi\xf3n que no se puede cancelar\n        a menos que se ingrese una contrase\xf1a cuando se presiona el bot\xf3n CANCELAR en la siguiente pantalla.\n         Si olvida la contrase\xf1a simplemente cierre la aplicaci\xf3n. Ninguno de los datos de asistencia\n         se perder\xe1 si se ingresa correctamente.",inputs:[{name:"password",type:"password",placeholder:"Password"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Ok",handler:function(e){return a(l,void 0,void 0,function(){return r(this,function(l){switch(l.label){case 0:return e.password?[4,this.modalCtrl.create({component:n,backdropDismiss:!1,componentProps:{modalVal:e.password}})]:[3,2];case 1:l.sent().present(),l.label=2;case 2:return[2]}})})}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[3,6];case 3:return[4,this.alertCtrl.create({header:"Information",subHeader:"This component will create a new Login Screen that cannot be canceled\n        unless a password is entered when the CANCEL button is pressed in the next screen.\n         If you forget the password simply close the app. None of the attendance data will\n         be lost if properly entered.",inputs:[{name:"password",type:"password",placeholder:"Password"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Ok",handler:function(e){return a(l,void 0,void 0,function(){return r(this,function(l){switch(l.label){case 0:return e.password?[4,this.modalCtrl.create({component:n,backdropDismiss:!1,componentProps:{modalVal:e.password}})]:[3,2];case 1:l.sent().present(),l.label=2;case 2:return[2]}})})}}]})];case 4:return[4,e.sent().present()];case 5:e.sent(),e.label=6;case 6:return[2]}})})},n}(),i=function(){return function(){}}(),c=e("pMnS"),b=e("oBZk"),p=e("A8JQ"),d=e("6qqX"),h=e("Ip0R"),m=e("gIcY"),f=e("iw74"),g=t.nb({encapsulation:0,styles:[["#clientlogin[_ngcontent-%COMP%]   #card[_ngcontent-%COMP%]{position:absolute;top:15%;right:0;bottom:0;left:20%;width:60%;height:200px}"]],data:{}});function w(n){return t.Eb(0,[(n()(),t.pb(0,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.cancel()&&t),t},b.R,b.d)),t.ob(1,49152,null,0,o.k,[t.h,t.k],null,null),(n()(),t.Db(2,0,[" "," "]))],null,function(n,l){n(l,2,0,l.component.htmlControls.toolbar.buttons.cancel)})}function v(n){return t.Eb(0,[(n()(),t.pb(0,0,null,null,1,"app-menu-button",[],null,null,null,p.b,p.a)),t.ob(1,49152,null,0,d.a,[o.Jb,o.sb],null,null)],null,null)}function k(n){return t.Eb(0,[(n()(),t.pb(0,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.goToLogin()&&t),t},b.R,b.d)),t.ob(1,49152,null,0,o.k,[t.h,t.k],null,null),(n()(),t.Db(2,0,[" "," "]))],null,function(n,l){n(l,2,0,l.component.htmlControls.toolbar.buttons.password)})}function C(n){return t.Eb(0,[(n()(),t.pb(0,0,null,null,16,"ion-header",[],null,null,null,b.eb,b.q)),t.ob(1,49152,null,0,o.B,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,14,"ion-toolbar",[["color","primary"]],null,null,null,b.Ab,b.M)),t.ob(3,49152,null,0,o.Bb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(4,0,null,0,2,"ion-title",[],null,null,null,b.zb,b.L)),t.ob(5,49152,null,0,o.zb,[t.h,t.k],null,null),(n()(),t.Db(6,0,["",""])),(n()(),t.pb(7,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,b.S,b.e)),t.ob(8,49152,null,0,o.l,[t.h,t.k],null,null),(n()(),t.gb(16777216,null,0,1,null,w)),t.ob(10,16384,null,0,h.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,0,1,null,v)),t.ob(12,16384,null,0,h.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.pb(13,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,b.S,b.e)),t.ob(14,49152,null,0,o.l,[t.h,t.k],null,null),(n()(),t.gb(16777216,null,0,1,null,k)),t.ob(16,16384,null,0,h.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.pb(17,0,null,null,29,"ion-content",[["id","clientlogin"],["padding",""]],null,null,null,b.ab,b.m)),t.ob(18,49152,null,0,o.u,[t.h,t.k],null,null),(n()(),t.pb(19,0,null,0,27,"div",[["id","card"]],null,null,null,null,null)),(n()(),t.pb(20,0,null,null,0,"img",[["alt","A cluttered desk"],["src","assets/cartoon-desk.jpg"]],null,null,null,null,null)),(n()(),t.pb(21,0,[["clientLoginForm",1]],null,25,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0,u=n.component;return"submit"===l&&(o=!1!==t.zb(n,23).onSubmit(e)&&o),"reset"===l&&(o=!1!==t.zb(n,23).onReset()&&o),"ngSubmit"===l&&(o=!1!==u.checkUser({username:t.zb(n,33).value,password:t.zb(n,42).value})&&o),o},null,null)),t.ob(22,16384,null,0,m.l,[],null,null),t.ob(23,4210688,null,0,m.i,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t.Ab(2048,null,m.b,null,[m.i]),t.ob(25,16384,null,0,m.h,[[4,m.b]],null,null),(n()(),t.pb(26,0,null,null,8,"ion-item",[],null,null,null,b.jb,b.u)),t.ob(27,49152,null,0,o.H,[t.h,t.k],null,null),(n()(),t.pb(28,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,b.kb,b.w)),t.ob(29,49152,null,0,o.N,[t.h,t.k],{position:[0,"position"]},null),(n()(),t.Db(30,0,["",""])),(n()(),t.pb(31,0,null,0,3,"ion-input",[["type","text"],["value",""]],null,[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var o=!0;return"ionBlur"===l&&(o=!1!==t.zb(n,34)._handleBlurEvent()&&o),"ionChange"===l&&(o=!1!==t.zb(n,34)._handleInputEvent(e.target.value)&&o),o},b.hb,b.t)),t.Ab(5120,null,m.e,function(n){return[n]},[o.Ob]),t.ob(33,49152,[["username",4]],0,o.G,[t.h,t.k],{type:[0,"type"],value:[1,"value"]},null),t.ob(34,16384,null,0,o.Ob,[t.k],null,null),(n()(),t.pb(35,0,null,null,8,"ion-item",[],null,null,null,b.jb,b.u)),t.ob(36,49152,null,0,o.H,[t.h,t.k],null,null),(n()(),t.pb(37,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,b.kb,b.w)),t.ob(38,49152,null,0,o.N,[t.h,t.k],{position:[0,"position"]},null),(n()(),t.Db(39,0,["",""])),(n()(),t.pb(40,0,null,0,3,"ion-input",[["type","password"]],null,[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var o=!0;return"ionBlur"===l&&(o=!1!==t.zb(n,43)._handleBlurEvent()&&o),"ionChange"===l&&(o=!1!==t.zb(n,43)._handleInputEvent(e.target.value)&&o),o},b.hb,b.t)),t.Ab(5120,null,m.e,function(n){return[n]},[o.Ob]),t.ob(42,49152,[["password",4]],0,o.G,[t.h,t.k],{type:[0,"type"]},null),t.ob(43,16384,null,0,o.Ob,[t.k],null,null),(n()(),t.pb(44,0,null,null,2,"ion-button",[["full",""],["large",""],["type","submit"]],null,null,null,b.R,b.d)),t.ob(45,49152,null,0,o.k,[t.h,t.k],{type:[0,"type"]},null),(n()(),t.Db(46,0,["",""]))],function(n,l){var e=l.component;n(l,3,0,"primary"),n(l,10,0,e.modalVal),n(l,12,0,!e.modalVal),n(l,16,0,!e.modalVal),n(l,29,0,"stacked"),n(l,33,0,"text",""),n(l,38,0,"stacked"),n(l,42,0,"password"),n(l,45,0,"submit")},function(n,l){var e=l.component;n(l,6,0,e.htmlControls.toolbar.title),n(l,21,0,t.zb(l,25).ngClassUntouched,t.zb(l,25).ngClassTouched,t.zb(l,25).ngClassPristine,t.zb(l,25).ngClassDirty,t.zb(l,25).ngClassValid,t.zb(l,25).ngClassInvalid,t.zb(l,25).ngClassPending),n(l,30,0,e.htmlControls.id),n(l,39,0,e.htmlControls.phone),n(l,46,0,e.htmlControls.submit)})}function y(n){return t.Eb(0,[(n()(),t.pb(0,0,null,null,1,"app-login",[],null,null,null,C,g)),t.ob(1,49152,null,0,s,[o.a,u.a,o.Hb,o.Gb,f.b],null,null)],null,null)}var x=t.lb("app-login",s,y,{modalVal:"modalVal",htmlControls:"htmlControls"},{},[]),E=e("j1ZV"),S=e("ZYCi");e.d(l,"LoginPageModuleNgFactory",function(){return I});var I=t.mb(i,[],function(n){return t.wb([t.xb(512,t.j,t.bb,[[8,[c.a,x]],[3,t.j],t.x]),t.xb(4608,h.k,h.j,[t.u,[2,h.s]]),t.xb(4608,m.m,m.m,[]),t.xb(4608,o.b,o.b,[t.z,t.g]),t.xb(4608,o.Gb,o.Gb,[o.b,t.j,t.q,h.c]),t.xb(4608,o.Kb,o.Kb,[o.b,t.j,t.q,h.c]),t.xb(1073742336,h.b,h.b,[]),t.xb(1073742336,m.k,m.k,[]),t.xb(1073742336,m.d,m.d,[]),t.xb(1073742336,o.Db,o.Db,[]),t.xb(1073742336,E.a,E.a,[]),t.xb(1073742336,S.o,S.o,[[2,S.u],[2,S.m]]),t.xb(1073742336,i,i,[]),t.xb(1024,S.k,function(){return[[{path:"",component:s}]]},[])])})}}]);
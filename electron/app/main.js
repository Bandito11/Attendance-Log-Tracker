(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/@ionic/core/dist/esm/es5/build lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/es5/build lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ namespace object ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./0jv2gqw7.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0jv2gqw7.entry.js",
		"common",
		10
	],
	"./0jv2gqw7.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0jv2gqw7.sc.entry.js",
		"common",
		11
	],
	"./1hlqf399.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1hlqf399.entry.js",
		"common",
		54
	],
	"./1hlqf399.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1hlqf399.sc.entry.js",
		"common",
		55
	],
	"./1smtjtrp.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1smtjtrp.entry.js",
		"common",
		56
	],
	"./1smtjtrp.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1smtjtrp.sc.entry.js",
		"common",
		57
	],
	"./2fikn3fc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/2fikn3fc.entry.js",
		0,
		"common",
		128
	],
	"./2fikn3fc.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/2fikn3fc.sc.entry.js",
		0,
		"common",
		129
	],
	"./3ul05w05.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/3ul05w05.entry.js",
		"common",
		58
	],
	"./3ul05w05.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/3ul05w05.sc.entry.js",
		"common",
		59
	],
	"./4zh8hiut.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4zh8hiut.entry.js",
		0,
		"common",
		130
	],
	"./4zh8hiut.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4zh8hiut.sc.entry.js",
		0,
		"common",
		131
	],
	"./5esrbynz.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5esrbynz.entry.js",
		"common",
		102
	],
	"./5esrbynz.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5esrbynz.sc.entry.js",
		"common",
		103
	],
	"./5ptcnpes.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5ptcnpes.entry.js",
		"common",
		12
	],
	"./5ptcnpes.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5ptcnpes.sc.entry.js",
		"common",
		13
	],
	"./5pwuvxkr.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5pwuvxkr.entry.js",
		"common",
		60
	],
	"./5pwuvxkr.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5pwuvxkr.sc.entry.js",
		"common",
		61
	],
	"./5vxaf0jn.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5vxaf0jn.entry.js",
		"common",
		62
	],
	"./5vxaf0jn.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5vxaf0jn.sc.entry.js",
		"common",
		63
	],
	"./6dsdnxyn.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6dsdnxyn.entry.js",
		"common",
		64
	],
	"./6dsdnxyn.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6dsdnxyn.sc.entry.js",
		"common",
		65
	],
	"./6kgso7pq.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6kgso7pq.entry.js",
		"common",
		14
	],
	"./6kgso7pq.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6kgso7pq.sc.entry.js",
		"common",
		15
	],
	"./6pwd4qif.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6pwd4qif.entry.js",
		"common",
		104
	],
	"./6pwd4qif.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6pwd4qif.sc.entry.js",
		"common",
		105
	],
	"./7xggbwe8.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/7xggbwe8.entry.js",
		"common",
		66
	],
	"./7xggbwe8.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/7xggbwe8.sc.entry.js",
		"common",
		67
	],
	"./8odyguue.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/8odyguue.entry.js",
		"common",
		68
	],
	"./8odyguue.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/8odyguue.sc.entry.js",
		"common",
		69
	],
	"./aavh7iu1.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/aavh7iu1.entry.js",
		0,
		"common",
		132
	],
	"./aavh7iu1.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/aavh7iu1.sc.entry.js",
		0,
		"common",
		133
	],
	"./admmxern.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/admmxern.entry.js",
		"common",
		70
	],
	"./admmxern.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/admmxern.sc.entry.js",
		"common",
		71
	],
	"./apfh3flu.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/apfh3flu.entry.js",
		"common",
		16
	],
	"./apfh3flu.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/apfh3flu.sc.entry.js",
		"common",
		17
	],
	"./bngjpe45.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bngjpe45.entry.js",
		"common",
		18
	],
	"./bngjpe45.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/bngjpe45.sc.entry.js",
		"common",
		19
	],
	"./cwd9g9my.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/cwd9g9my.entry.js",
		"common",
		100
	],
	"./cwd9g9my.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/cwd9g9my.sc.entry.js",
		"common",
		101
	],
	"./dsb5jv5r.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/dsb5jv5r.entry.js",
		"common",
		20
	],
	"./dsb5jv5r.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/dsb5jv5r.sc.entry.js",
		"common",
		21
	],
	"./ejapjnva.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ejapjnva.entry.js",
		"common",
		72
	],
	"./ejapjnva.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ejapjnva.sc.entry.js",
		"common",
		73
	],
	"./fuq8m3zo.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fuq8m3zo.entry.js",
		"common",
		22
	],
	"./fuq8m3zo.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fuq8m3zo.sc.entry.js",
		"common",
		23
	],
	"./fwzyk2t9.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fwzyk2t9.entry.js",
		"common",
		24
	],
	"./fwzyk2t9.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fwzyk2t9.sc.entry.js",
		"common",
		25
	],
	"./g7y3qohv.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/g7y3qohv.entry.js",
		0,
		"common",
		136
	],
	"./g7y3qohv.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/g7y3qohv.sc.entry.js",
		0,
		"common",
		137
	],
	"./gbcxupo7.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/gbcxupo7.entry.js",
		"common",
		74
	],
	"./gbcxupo7.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/gbcxupo7.sc.entry.js",
		"common",
		75
	],
	"./gtqqbhae.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/gtqqbhae.entry.js",
		"common",
		26
	],
	"./gtqqbhae.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/gtqqbhae.sc.entry.js",
		"common",
		27
	],
	"./hdjqcfvf.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/hdjqcfvf.entry.js",
		"common",
		28
	],
	"./hdjqcfvf.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/hdjqcfvf.sc.entry.js",
		"common",
		29
	],
	"./helxzsef.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/helxzsef.entry.js",
		138
	],
	"./helxzsef.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/helxzsef.sc.entry.js",
		139
	],
	"./hg9mfbbd.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/hg9mfbbd.entry.js",
		"common",
		76
	],
	"./hg9mfbbd.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/hg9mfbbd.sc.entry.js",
		"common",
		77
	],
	"./hqq2qdqe.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/hqq2qdqe.entry.js",
		0,
		"common",
		140
	],
	"./hqq2qdqe.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/hqq2qdqe.sc.entry.js",
		0,
		"common",
		141
	],
	"./i5bu78vq.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/i5bu78vq.entry.js",
		"common",
		78
	],
	"./i5bu78vq.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/i5bu78vq.sc.entry.js",
		"common",
		79
	],
	"./ibsc94yw.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ibsc94yw.entry.js",
		"common",
		106
	],
	"./ibsc94yw.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ibsc94yw.sc.entry.js",
		"common",
		107
	],
	"./ipk81gk6.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ipk81gk6.entry.js",
		142
	],
	"./ipk81gk6.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ipk81gk6.sc.entry.js",
		143
	],
	"./iqlhkurd.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/iqlhkurd.entry.js",
		"common",
		80
	],
	"./iqlhkurd.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/iqlhkurd.sc.entry.js",
		"common",
		81
	],
	"./isuxxasv.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/isuxxasv.entry.js",
		"common",
		82
	],
	"./isuxxasv.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/isuxxasv.sc.entry.js",
		"common",
		83
	],
	"./j241fzpw.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/j241fzpw.entry.js",
		"common",
		30
	],
	"./j241fzpw.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/j241fzpw.sc.entry.js",
		"common",
		31
	],
	"./j6a9duez.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/j6a9duez.entry.js",
		"common",
		32
	],
	"./j6a9duez.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/j6a9duez.sc.entry.js",
		"common",
		33
	],
	"./j9orjvxv.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/j9orjvxv.entry.js",
		"common",
		112
	],
	"./j9orjvxv.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/j9orjvxv.sc.entry.js",
		"common",
		113
	],
	"./j9sczdb9.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/j9sczdb9.entry.js",
		"common",
		34
	],
	"./j9sczdb9.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/j9sczdb9.sc.entry.js",
		"common",
		35
	],
	"./jdmqrxbv.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jdmqrxbv.entry.js",
		"common",
		36
	],
	"./jdmqrxbv.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jdmqrxbv.sc.entry.js",
		"common",
		37
	],
	"./jpkvsu5y.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jpkvsu5y.entry.js",
		"common",
		114
	],
	"./jpkvsu5y.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jpkvsu5y.sc.entry.js",
		"common",
		115
	],
	"./k4hoilf4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/k4hoilf4.entry.js",
		"common",
		84
	],
	"./k4hoilf4.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/k4hoilf4.sc.entry.js",
		"common",
		85
	],
	"./ka5tcqxv.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ka5tcqxv.entry.js",
		0,
		"common",
		144
	],
	"./ka5tcqxv.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ka5tcqxv.sc.entry.js",
		0,
		"common",
		145
	],
	"./ksgex3rj.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ksgex3rj.entry.js",
		"common",
		38
	],
	"./ksgex3rj.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ksgex3rj.sc.entry.js",
		"common",
		39
	],
	"./kwsaahen.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/kwsaahen.entry.js",
		2,
		"common",
		146
	],
	"./kwsaahen.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/kwsaahen.sc.entry.js",
		2,
		"common",
		147
	],
	"./mri9bdlj.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/mri9bdlj.entry.js",
		148
	],
	"./mri9bdlj.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/mri9bdlj.sc.entry.js",
		149
	],
	"./okzvvz1s.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/okzvvz1s.entry.js",
		"common",
		40
	],
	"./okzvvz1s.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/okzvvz1s.sc.entry.js",
		"common",
		41
	],
	"./omfdyboy.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/omfdyboy.entry.js",
		"common",
		116
	],
	"./omfdyboy.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/omfdyboy.sc.entry.js",
		"common",
		117
	],
	"./oopkmdhe.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/oopkmdhe.entry.js",
		0,
		"common",
		108
	],
	"./oopkmdhe.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/oopkmdhe.sc.entry.js",
		0,
		"common",
		109
	],
	"./paaaniyp.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/paaaniyp.entry.js",
		"common",
		118
	],
	"./paaaniyp.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/paaaniyp.sc.entry.js",
		"common",
		119
	],
	"./pcvyposn.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/pcvyposn.entry.js",
		"common",
		42
	],
	"./pcvyposn.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/pcvyposn.sc.entry.js",
		"common",
		43
	],
	"./qcbg1abo.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qcbg1abo.entry.js",
		"common",
		120
	],
	"./qcbg1abo.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qcbg1abo.sc.entry.js",
		"common",
		121
	],
	"./qjwxr7dv.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qjwxr7dv.entry.js",
		"common",
		44
	],
	"./qjwxr7dv.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qjwxr7dv.sc.entry.js",
		"common",
		45
	],
	"./qmw4agos.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qmw4agos.entry.js",
		0,
		"common",
		150
	],
	"./qmw4agos.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qmw4agos.sc.entry.js",
		0,
		"common",
		151
	],
	"./qoe6pe8v.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qoe6pe8v.entry.js",
		"common",
		46
	],
	"./qoe6pe8v.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qoe6pe8v.sc.entry.js",
		"common",
		47
	],
	"./qqusykhh.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qqusykhh.entry.js",
		"common",
		86
	],
	"./qqusykhh.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qqusykhh.sc.entry.js",
		"common",
		87
	],
	"./qutdmiwk.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qutdmiwk.entry.js",
		0,
		"common",
		152
	],
	"./qutdmiwk.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qutdmiwk.sc.entry.js",
		0,
		"common",
		153
	],
	"./rcclotvr.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rcclotvr.entry.js",
		2,
		"common",
		154
	],
	"./rcclotvr.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rcclotvr.sc.entry.js",
		2,
		"common",
		155
	],
	"./rkecsmgc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rkecsmgc.entry.js",
		"common",
		122
	],
	"./rkecsmgc.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rkecsmgc.sc.entry.js",
		"common",
		123
	],
	"./rrpxfm2a.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rrpxfm2a.entry.js",
		156
	],
	"./rrpxfm2a.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rrpxfm2a.sc.entry.js",
		157
	],
	"./rvwuhvz4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rvwuhvz4.entry.js",
		0,
		"common",
		158
	],
	"./rvwuhvz4.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/rvwuhvz4.sc.entry.js",
		0,
		"common",
		159
	],
	"./tlbladaf.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tlbladaf.entry.js",
		"common",
		48
	],
	"./tlbladaf.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tlbladaf.sc.entry.js",
		"common",
		49
	],
	"./tsx41s3c.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tsx41s3c.entry.js",
		"common",
		50
	],
	"./tsx41s3c.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tsx41s3c.sc.entry.js",
		"common",
		51
	],
	"./txpe5bol.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/txpe5bol.entry.js",
		"common",
		88
	],
	"./txpe5bol.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/txpe5bol.sc.entry.js",
		"common",
		89
	],
	"./vhwyavqm.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vhwyavqm.entry.js",
		"common",
		52
	],
	"./vhwyavqm.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vhwyavqm.sc.entry.js",
		"common",
		53
	],
	"./vnwnpb93.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vnwnpb93.entry.js",
		"common",
		124
	],
	"./vnwnpb93.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vnwnpb93.sc.entry.js",
		"common",
		125
	],
	"./w6supv7p.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/w6supv7p.entry.js",
		"common",
		90
	],
	"./w6supv7p.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/w6supv7p.sc.entry.js",
		"common",
		91
	],
	"./wjdsdnuu.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wjdsdnuu.entry.js",
		"common",
		92
	],
	"./wjdsdnuu.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wjdsdnuu.sc.entry.js",
		"common",
		93
	],
	"./wpzpc9xw.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wpzpc9xw.entry.js",
		0,
		"common",
		110
	],
	"./wpzpc9xw.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wpzpc9xw.sc.entry.js",
		0,
		"common",
		111
	],
	"./xrssylnk.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xrssylnk.entry.js",
		0,
		"common",
		160
	],
	"./xrssylnk.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xrssylnk.sc.entry.js",
		0,
		"common",
		161
	],
	"./ylecf5ox.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ylecf5ox.entry.js",
		"common",
		94
	],
	"./ylecf5ox.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ylecf5ox.sc.entry.js",
		"common",
		95
	],
	"./yu8fzdyg.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/yu8fzdyg.entry.js",
		0,
		"common",
		162
	],
	"./yu8fzdyg.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/yu8fzdyg.sc.entry.js",
		0,
		"common",
		163
	],
	"./yxoiyuhs.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/yxoiyuhs.entry.js",
		"common",
		96
	],
	"./yxoiyuhs.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/yxoiyuhs.sc.entry.js",
		"common",
		97
	],
	"./zc63qizl.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zc63qizl.entry.js",
		"common",
		98
	],
	"./zc63qizl.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zc63qizl.sc.entry.js",
		"common",
		99
	],
	"./ziv0mko0.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ziv0mko0.entry.js",
		"common",
		126
	],
	"./ziv0mko0.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ziv0mko0.sc.entry.js",
		"common",
		127
	],
	"./zxjlzr69.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zxjlzr69.entry.js",
		0,
		"common",
		164
	],
	"./zxjlzr69.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zxjlzr69.sc.entry.js",
		0,
		"common",
		165
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/@ionic/core/dist/esm/es5/build lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"../calendar/calendar.module": [
		"./src/app/calendar/calendar.module.ts",
		"common",
		"calendar-calendar-module"
	],
	"../eventprofile/eventprofile.module": [
		"./src/app/eventprofile/eventprofile.module.ts",
		"eventprofile-eventprofile-module"
	],
	"../events/events.module": [
		"./src/app/events/events.module.ts",
		"events-events-module"
	],
	"../home/home.module": [
		"./src/app/home/home.module.ts",
		"common",
		"home-home-module"
	],
	"../login/login.module": [
		"./src/app/login/login.module.ts",
		"login-login-module"
	],
	"../profile/profile.module": [
		"./src/app/profile/profile.module.ts",
		"profile-profile-module"
	],
	"../settings/settings.module": [
		"./src/app/settings/settings.module.ts",
		"settings-settings-module"
	],
	"../stats/stats.module": [
		"./src/app/stats/stats.module.ts"
	],
	"../student-list/student-list.module": [
		"./src/app/student-list/student-list.module.ts",
		"common",
		"student-list-student-list-module"
	],
	"./tabs/tabs.module": [
		"./src/app/tabs/tabs.module.ts",
		"tabs-tabs-module"
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var routes = [
    { path: '', redirectTo: 'tabs', pathMatch: 'full' },
    { path: 'tabs', loadChildren: './tabs/tabs.module#TabsPageModule' }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes, { preloadingStrategy: _angular_router__WEBPACK_IMPORTED_MODULE_1__["PreloadAllModules"] })],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-app>\n  <ion-router-outlet></ion-router-outlet>\n</ion-app>\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


// import { SplashScreen } from '@ionic-native/splash-screen/ngx';
// import { StatusBar } from '@ionic-native/status-bar/ngx';
var AppComponent = /** @class */ (function () {
    function AppComponent(platform) {
        this.platform = platform;
        this.initializeApp();
    }
    AppComponent.prototype.initializeApp = function () {
        this.platform.ready().then(function () {
            // this.statusBar.styleDefault();
            // this.splashScreen.hide();
        });
    };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html")
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ionic-native/ionic-webview/ngx */ "./node_modules/@ionic-native/ionic-webview/ngx/index.js");
/* harmony import */ var _create_event_create_event_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create-event/create-event.module */ "./src/app/create-event/create-event.module.ts");
/* harmony import */ var _create_event_create_event_page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./create-event/create-event.page */ "./src/app/create-event/create-event.page.ts");
/* harmony import */ var _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/file-opener/ngx */ "./node_modules/@ionic-native/file-opener/ngx/index.js");
/* harmony import */ var _edit_edit_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit/edit.module */ "./src/app/edit/edit.module.ts");
/* harmony import */ var _create_create_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./create/create.page */ "./src/app/create/create.page.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_native_market_ngx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ionic-native/market/ngx */ "./node_modules/@ionic-native/market/ngx/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_email_composer_ngx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic-native/email-composer/ngx */ "./node_modules/@ionic-native/email-composer/ngx/index.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _create_create_module__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./create/create.module */ "./src/app/create/create.module.ts");
/* harmony import */ var _edit_edit_page__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./edit/edit.page */ "./src/app/edit/edit.page.ts");
/* harmony import */ var _export_export_page__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./export/export.page */ "./src/app/export/export.page.ts");
/* harmony import */ var _export_export_module__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./export/export.module */ "./src/app/export/export.module.ts");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_native_in_app_purchase_ngx__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @ionic-native/in-app-purchase/ngx */ "./node_modules/@ionic-native/in-app-purchase/ngx/index.js");
/* harmony import */ var _editevent_editevent_page__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./editevent/editevent.page */ "./src/app/editevent/editevent.page.ts");
/* harmony import */ var _editevent_editevent_module__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./editevent/editevent.module */ "./src/app/editevent/editevent.module.ts");
/* harmony import */ var _stats_stats_page__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./stats/stats.page */ "./src/app/stats/stats.page.ts");
/* harmony import */ var _stats_stats_module__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./stats/stats.module */ "./src/app/stats/stats.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


























var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["NgModule"])({
            declarations: [_app_component__WEBPACK_IMPORTED_MODULE_12__["AppComponent"]],
            entryComponents: [
                _create_create_page__WEBPACK_IMPORTED_MODULE_5__["CreatePage"],
                _edit_edit_page__WEBPACK_IMPORTED_MODULE_17__["EditPage"],
                _create_event_create_event_page__WEBPACK_IMPORTED_MODULE_2__["CreateEventPage"],
                _export_export_page__WEBPACK_IMPORTED_MODULE_18__["ExportPage"],
                _editevent_editevent_page__WEBPACK_IMPORTED_MODULE_22__["EditEventPage"],
                _stats_stats_page__WEBPACK_IMPORTED_MODULE_24__["StatsPage"]
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__["BrowserModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonicModule"].forRoot(),
                _app_routing_module__WEBPACK_IMPORTED_MODULE_13__["AppRoutingModule"],
                _create_create_module__WEBPACK_IMPORTED_MODULE_16__["CreatePageModule"],
                _edit_edit_module__WEBPACK_IMPORTED_MODULE_4__["EditPageModule"],
                _create_event_create_event_module__WEBPACK_IMPORTED_MODULE_1__["CreateEventPageModule"],
                _export_export_module__WEBPACK_IMPORTED_MODULE_19__["ExportPageModule"],
                _editevent_editevent_module__WEBPACK_IMPORTED_MODULE_23__["EditEventPageModule"],
                _stats_stats_module__WEBPACK_IMPORTED_MODULE_25__["StatsPageModule"],
                _ionic_storage__WEBPACK_IMPORTED_MODULE_14__["IonicStorageModule"].forRoot()
            ],
            providers: [
                // StatusBar,
                // SplashScreen,
                _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_15__["Camera"],
                _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_3__["FileOpener"],
                _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_20__["File"],
                _ionic_native_in_app_purchase_ngx__WEBPACK_IMPORTED_MODULE_21__["InAppPurchase"],
                _ionic_native_market_ngx__WEBPACK_IMPORTED_MODULE_9__["Market"],
                _ionic_native_email_composer_ngx__WEBPACK_IMPORTED_MODULE_11__["EmailComposer"],
                _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_0__["WebView"],
                { provide: _angular_router__WEBPACK_IMPORTED_MODULE_8__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonicRouteStrategy"] }
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_12__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/common/constants.ts":
/*!*************************************!*\
  !*** ./src/app/common/constants.ts ***!
  \*************************************/
/*! exports provided: MONTHSLABELS, MONTHS, MESESLABELS, MESES, YEARLABELS, recordType, WEEKDAYSLABELS, WEEKDAYSHEADER, DIASLABELS, DIASHEADER, stateAndroid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MONTHSLABELS", function() { return MONTHSLABELS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MONTHS", function() { return MONTHS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MESESLABELS", function() { return MESESLABELS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MESES", function() { return MESES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "YEARLABELS", function() { return YEARLABELS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recordType", function() { return recordType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WEEKDAYSLABELS", function() { return WEEKDAYSLABELS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WEEKDAYSHEADER", function() { return WEEKDAYSHEADER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DIASLABELS", function() { return DIASLABELS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DIASHEADER", function() { return DIASHEADER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stateAndroid", function() { return stateAndroid; });
var MONTHSLABELS = [
    'January',
    'February',
    'March',
    'April',
    'May',
    'June',
    'July',
    'August',
    'September',
    'October',
    'November',
    'December'
];
var MONTHS;
(function (MONTHS) {
    MONTHS[MONTHS["January"] = 0] = "January";
    MONTHS[MONTHS["February"] = 1] = "February";
    MONTHS[MONTHS["March"] = 2] = "March";
    MONTHS[MONTHS["April"] = 3] = "April";
    MONTHS[MONTHS["May"] = 4] = "May";
    MONTHS[MONTHS["June"] = 5] = "June";
    MONTHS[MONTHS["July"] = 6] = "July";
    MONTHS[MONTHS["August"] = 7] = "August";
    MONTHS[MONTHS["September"] = 8] = "September";
    MONTHS[MONTHS["October"] = 9] = "October";
    MONTHS[MONTHS["November"] = 10] = "November";
    MONTHS[MONTHS["December"] = 11] = "December";
})(MONTHS || (MONTHS = {}));
var MESESLABELS = [
    'Enero',
    'Febrero',
    'Marzo',
    'Abril',
    'Mayo',
    'Junio',
    'Julio',
    'Agosto',
    'Septiembre',
    'Octubre',
    'Noviembre',
    'Diciembre'
];
var MESES;
(function (MESES) {
    MESES[MESES["Enero"] = 0] = "Enero";
    MESES[MESES["Febrero"] = 1] = "Febrero";
    MESES[MESES["Marzo"] = 2] = "Marzo";
    MESES[MESES["Abril"] = 3] = "Abril";
    MESES[MESES["Mayo"] = 4] = "Mayo";
    MESES[MESES["Junio"] = 5] = "Junio";
    MESES[MESES["Julio"] = 6] = "Julio";
    MESES[MESES["Agosto"] = 7] = "Agosto";
    MESES[MESES["Septiembre"] = 8] = "Septiembre";
    MESES[MESES["Octubre"] = 9] = "Octubre";
    MESES[MESES["Noviembre"] = 10] = "Noviembre";
    MESES[MESES["Diciembre"] = 11] = "Diciembre";
})(MESES || (MESES = {}));
var RELEASEDATE = 2017;
var YEARS = [RELEASEDATE];
for (var i = 1; i <= 5; i++) {
    YEARS = YEARS.concat([i + RELEASEDATE]);
}
var YEARLABELS = YEARS.slice();
var recordType;
(function (recordType) {
    recordType["month"] = "month";
    recordType["day"] = "day";
})(recordType || (recordType = {}));
var WEEKDAYSLABELS = [
    'Sun',
    'Mon',
    'Tue',
    'Wed',
    'Thu',
    'Fri',
    'Sat'
];
var WEEKDAYSHEADER = [
    'Sunday',
    'Monday',
    'Tuesday',
    'Wednesday',
    'Thursday',
    'Friday',
    'Saturday'
];
var DIASLABELS = [
    'Dom',
    'Lun',
    'Mar',
    'Mie',
    'Jue',
    'Vie',
    'Sab'
];
var DIASHEADER = [
    'Domingo',
    'Lunes',
    'Martes',
    'Miércoles',
    'Jueves',
    'Viernes',
    'Sábado'
];
var stateAndroid;
(function (stateAndroid) {
    stateAndroid[stateAndroid["ACTIVE"] = 0] = "ACTIVE";
    stateAndroid[stateAndroid["CANCELLED"] = 1] = "CANCELLED";
    stateAndroid[stateAndroid["REFUNDED"] = 2] = "REFUNDED";
})(stateAndroid || (stateAndroid = {}));


/***/ }),

/***/ "./src/app/common/format.ts":
/*!**********************************!*\
  !*** ./src/app/common/format.ts ***!
  \**********************************/
/*! exports provided: trimEvent, formatDate, trimText, formatStudentName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trimEvent", function() { return trimEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDate", function() { return formatDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trimText", function() { return trimText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatStudentName", function() { return formatStudentName; });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ "./src/app/common/constants.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

function trimEvent(event) {
    var formattedEvent = __assign({}, event, { name: event.name.trim() });
    return formattedEvent;
}
function formatDate(date) {
    var year = date.slice(0, 4);
    var month = parseInt(date.slice(5, 7));
    var day = date.slice(8, 10);
    var formattedDate = _constants__WEBPACK_IMPORTED_MODULE_0__["MONTHSLABELS"][month - 1] + " " + day + ", " + year;
    return formattedDate;
}
function trimText(opts) {
    var student = __assign({}, opts, { firstName: opts.firstName.trim(), lastName: opts.lastName.trim(), id: opts.id.trim(), initial: opts.initial.trim(), address: opts.address.trim(), phoneNumber: opts.phoneNumber.trim(), town: opts.town.trim(), state: opts.state.trim(), fatherName: opts.fatherName.trim(), motherName: opts.motherName.trim(), emergencyContactName: opts.emergencyContactName.trim(), emergencyRelationship: opts.emergencyRelationship.trim(), emergencyContactPhoneNumber: opts.emergencyContactPhoneNumber.trim(), class: opts.class.trim() });
    return student;
}
function formatStudentName(opts) {
    var firstName = opts.firstName.split('')[0].toUpperCase() + opts.firstName.slice(1, opts.firstName.length);
    var lastName = opts.lastName.split('')[0].toUpperCase() + opts.lastName.slice(1, opts.lastName.length);
    var student = __assign({}, opts, { firstName: firstName, lastName: lastName });
    if (opts.initial) {
        var initial = opts.initial.split('')[0].toUpperCase() + opts.initial.slice(1, opts.initial.length);
        student = __assign({}, student, { initial: initial });
        return student;
    }
    else {
        return student;
    }
}


/***/ }),

/***/ "./src/app/common/handleError.ts":
/*!***************************************!*\
  !*** ./src/app/common/handleError.ts ***!
  \***************************************/
/*! exports provided: handleError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "handleError", function() { return handleError; });
function handleError(error) {
    if (typeof error === 'string') {
        console.error(error);
    }
    else if (typeof error === 'object') {
        for (var key in error) {
            if (error.hasOwnProperty(key)) {
                console.error(error[key]);
            }
        }
    }
}


/***/ }),

/***/ "./src/app/common/validation.ts":
/*!**************************************!*\
  !*** ./src/app/common/validation.ts ***!
  \**************************************/
/*! exports provided: validatePhoneNumber, addZeroInFront */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validatePhoneNumber", function() { return validatePhoneNumber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addZeroInFront", function() { return addZeroInFront; });
function validatePhoneNumber(phoneNumber) {
    if (phoneNumber.length > 10) {
        return false;
    }
    else {
        return true;
    }
}
function addZeroInFront(value) {
    if (value < 10) {
        return "0" + value;
    }
    return value;
}


/***/ }),

/***/ "./src/app/components/calendar/calendar.component.html":
/*!*************************************************************!*\
  !*** ./src/app/components/calendar/calendar.component.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"calendar\">\n  <div>\n    <div>\n      <ion-button fill=\"clear\" (click)=\"nextMonth()\">\n          <ion-icon name=\"arrow-round-up\"></ion-icon>\n              </ion-button>\n      <ion-button fill=\"clear\" (click)=\"previousMonth()\">\n          <ion-icon name=\"arrow-round-down\"></ion-icon>\n      </ion-button>\n      <span class=\"date\">\n        {{monthsLabels[month] + ' ' + year}}\n      </span>\n    </div>\n  </div>\n  <ul class=\"weekdays\">\n    <li *ngFor=\"let weekDay of weekDaysLabels\">{{weekDay}}</li>\n  </ul>\n  <ul class=\"days\">\n    <li class=\"ripple\" [style.color]=\"this.chosen == date.day ? '#fff' : ''\" [style.background-color]=\"this.chosen == date.day ? '#ffcccc' : ''\"\n      *ngFor=\"let date of calendarDays\" (click)=\"choseDay(date)\">{{date.day}}</li>\n  </ul>\n</div>"

/***/ }),

/***/ "./src/app/components/calendar/calendar.component.scss":
/*!*************************************************************!*\
  !*** ./src/app/components/calendar/calendar.component.scss ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".calendar button {\n  background-color: Transparent;\n  background-repeat: no-repeat;\n  border: none;\n  cursor: pointer;\n  overflow: hidden;\n  outline: none;\n  height: 4vh;\n  widows: 9vw;\n  padding-right: 20px;\n  padding-top: 15px; }\n\n.calendar span {\n  font-size: 30px; }\n\n.calendar .date {\n  display: inline-block;\n  padding: 15px; }\n\n.calendar ul li {\n  margin: 0;\n  display: inline-block;\n  width: 13.6%;\n  text-align: center; }\n\n.calendar .active {\n  background-color: red;\n  color: white; }\n\n.calendar .text {\n  color: white; }\n\n.calendar .ripple {\n  position: relative;\n  overflow: hidden;\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0); }\n\n.calendar .ripple:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  background-image: radial-gradient(circle, #000 10%, transparent 10.01%);\n  background-repeat: no-repeat;\n  background-position: 50%;\n  -webkit-transform: scale(10, 10);\n          transform: scale(10, 10);\n  opacity: 0;\n  transition: opacity 1s, -webkit-transform .5s;\n  transition: transform .5s, opacity 1s;\n  transition: transform .5s, opacity 1s, -webkit-transform .5s; }\n\n.calendar .ripple:active:after {\n  -webkit-transform: scale(0, 0);\n          transform: scale(0, 0);\n  opacity: .2;\n  transition: 0s; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lc3RlYmFubW9yYWxlcy9Qcm9qZWN0cy9hbWFyYW50aHVzMi9zcmMvYXBwL2NvbXBvbmVudHMvY2FsZW5kYXIvY2FsZW5kYXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFUSw2QkFBNkI7RUFDN0IsNEJBQTRCO0VBQzVCLFlBQVk7RUFDWixlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGFBQWE7RUFDYixXQUFXO0VBQ1gsV0FBVztFQUNYLG1CQUFtQjtFQUNuQixpQkFBaUIsRUFBQTs7QUFYekI7RUFjUSxlQUFlLEVBQUE7O0FBZHZCO0VBaUJRLHFCQUFxQjtFQUNyQixhQUFhLEVBQUE7O0FBbEJyQjtFQXFCUSxTQUFTO0VBQ1QscUJBQXFCO0VBQ3JCLFlBQVk7RUFDWixrQkFBa0IsRUFBQTs7QUF4QjFCO0VBMkJRLHFCQUFxQjtFQUNyQixZQUFZLEVBQUE7O0FBNUJwQjtFQStCUSxZQUNKLEVBQUE7O0FBaENKO0VBa0NRLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsdUNBQStCO1VBQS9CLCtCQUErQixFQUFBOztBQXBDdkM7RUF1Q1EsV0FBVztFQUNYLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLFlBQVk7RUFDWixNQUFNO0VBQ04sT0FBTztFQUNQLG9CQUFvQjtFQUNwQix1RUFBdUU7RUFDdkUsNEJBQTRCO0VBQzVCLHdCQUF3QjtFQUN4QixnQ0FBd0I7VUFBeEIsd0JBQXdCO0VBQ3hCLFVBQVU7RUFDViw2Q0FBcUM7RUFBckMscUNBQXFDO0VBQXJDLDREQUFxQyxFQUFBOztBQXBEN0M7RUF1RFEsOEJBQXNCO1VBQXRCLHNCQUFzQjtFQUN0QixXQUFXO0VBQ1gsY0FBYyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9jYWxlbmRhci9jYWxlbmRhci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYWxlbmRhciB7XG4gICAgYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogVHJhbnNwYXJlbnQ7XG4gICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICBoZWlnaHQ6IDR2aDtcbiAgICAgICAgd2lkb3dzOiA5dnc7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XG4gICAgICAgIHBhZGRpbmctdG9wOiAxNXB4O1xuICAgIH1cbiAgICBzcGFuIHtcbiAgICAgICAgZm9udC1zaXplOiAzMHB4O1xuICAgIH1cbiAgICAuZGF0ZSB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICB9XG4gICAgdWwgbGkge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgd2lkdGg6IDEzLjYlO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgIC5hY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG4gICAgLnRleHQge1xuICAgICAgICBjb2xvcjogd2hpdGVcbiAgICB9XG4gICAgLnJpcHBsZSB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcbiAgICB9XG4gICAgLnJpcHBsZTphZnRlciB7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUsICMwMDAgMTAlLCB0cmFuc3BhcmVudCAxMC4wMSUpO1xuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCU7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMTAsIDEwKTtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC41cywgb3BhY2l0eSAxcztcbiAgICB9XG4gICAgLnJpcHBsZTphY3RpdmU6YWZ0ZXIge1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDAsIDApO1xuICAgICAgICBvcGFjaXR5OiAuMjtcbiAgICAgICAgdHJhbnNpdGlvbjogMHM7XG4gICAgfVxufSJdfQ== */"

/***/ }),

/***/ "./src/app/components/calendar/calendar.component.ts":
/*!***********************************************************!*\
  !*** ./src/app/components/calendar/calendar.component.ts ***!
  \***********************************************************/
/*! exports provided: CalendarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalendarComponent", function() { return CalendarComponent; });
/* harmony import */ var _common_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../common/constants */ "./src/app/common/constants.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var CalendarComponent = /** @class */ (function () {
    function CalendarComponent() {
        /**
         * Date chosen by the user to be shown in the card Header
         * Will return @param Calendar
         * */
        this.getDate = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        //  html properties
        this.weekDaysHeader = [];
        //  html properties
        this.weekDaysLabels = [];
        //  html properties
        this.monthsLabels = [];
        // Used to get the month and year to start the calendar
        this.month = -1;
        // Used to get the year to start the calendar
        this.year = -1;
        // Used to generate calendar
        this.calendarDays = [];
        // Used to generate Calendar
        this.currentDate = new Date();
    }
    CalendarComponent.prototype.ngOnInit = function () {
        this.currentDate = new Date();
        this.createCalendar(null, null);
        this.initialize(this.language);
    };
    CalendarComponent.prototype.ngOnChanges = function (changes) {
        if (changes['language']) {
            this.initialize(this.language);
        }
    };
    CalendarComponent.prototype.setCurrentStyles = function () {
        this.currentStyles = {
            'background-color': this.chosen ? '#e60000' : '',
            'color': this.chosen ? '#fff' : ''
        };
    };
    /**Initialize the labels and headers in order to generate the calendar and the output for the header*/
    CalendarComponent.prototype.initialize = function (language) {
        if (language === 'spanish') {
            this.weekDaysLabels = _common_constants__WEBPACK_IMPORTED_MODULE_0__["DIASLABELS"];
            this.monthsLabels = _common_constants__WEBPACK_IMPORTED_MODULE_0__["MESESLABELS"];
            this.weekDaysHeader = _common_constants__WEBPACK_IMPORTED_MODULE_0__["DIASHEADER"];
        }
        else {
            this.weekDaysLabels = _common_constants__WEBPACK_IMPORTED_MODULE_0__["WEEKDAYSLABELS"];
            this.monthsLabels = _common_constants__WEBPACK_IMPORTED_MODULE_0__["MONTHSLABELS"];
            this.weekDaysHeader = _common_constants__WEBPACK_IMPORTED_MODULE_0__["WEEKDAYSHEADER"];
        }
        var calendar = {
            day: this.currentDate.getDate(), month: this.currentDate.getMonth(),
            year: this.currentDate.getFullYear()
        };
        calendar.weekDay = this.currentDate.getDay();
        this.choseDay(calendar);
    };
    // When the day is chosen, load the data from the db using the date as a parameter.
    CalendarComponent.prototype.choseDay = function (date) {
        this.chosen = date.day;
        this.getDate.emit(date);
    };
    /**
     * Create the calendar by passing the month and the year. When starting the app the null values
     * will be passed for the month and year parameters, but when changing to a previous month or one
     * next in the list a month and year will be passed.
     */
    CalendarComponent.prototype.createCalendar = function (month, year) {
        // Max days for the months in the Gregorian calendar.
        var daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        this.calendarDays = [];
        this.month = (isNaN(month) || month == null) ? this.currentDate.getMonth() : month;
        this.year = (isNaN(year) || year == null) ? this.currentDate.getFullYear() : year;
        var firstDay = new Date(this.year, this.month, 1);
        var startingDay = firstDay.getDay();
        var monthsLength = daysInMonth[this.month];
        if (this.month === 1) { // Only February Leap Years
            if ((this.year % 4 === 0 && this.year % 100 !== 0) || this.year % 400 === 0) {
                monthsLength = 29;
            }
        }
        for (var i = 1 - startingDay; i <= monthsLength; i++) {
            if (i > 0) {
                this.calendarDays.push({
                    weekDay: new Date(this.year, this.month, i).getDay(),
                    day: i,
                    month: this.month,
                    year: this.year
                });
            }
            else {
                this.calendarDays.push({
                    weekDay: null,
                    day: null,
                    month: null,
                    year: null
                });
            }
        }
    };
    CalendarComponent.prototype.nextMonth = function () {
        if (this.month !== 11) {
            this.createCalendar(this.month + 1, this.year);
        }
        else {
            this.month = 0;
            this.createCalendar(this.month, this.year + 1);
        }
        var calendar = {
            month: this.month,
            year: this.year,
            day: 1,
            weekDay: new Date(this.year, this.month, 1).getDay()
        };
        this.choseDay(calendar);
    };
    CalendarComponent.prototype.previousMonth = function () {
        if (this.month !== 0) {
            this.createCalendar(this.month - 1, this.year);
        }
        else {
            this.month = 11;
            this.createCalendar(this.month, this.year - 1);
        }
        var calendar = {
            month: this.month,
            year: this.year,
            day: 1,
            weekDay: new Date(this.year, this.month, 1).getDay()
        };
        this.choseDay(calendar);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
        __metadata("design:type", Object)
    ], CalendarComponent.prototype, "getDate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        __metadata("design:type", Object)
    ], CalendarComponent.prototype, "language", void 0);
    CalendarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'calendar-component',
            template: __webpack_require__(/*! ./calendar.component.html */ "./src/app/components/calendar/calendar.component.html"),
            styles: [__webpack_require__(/*! ./calendar.component.scss */ "./src/app/components/calendar/calendar.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], CalendarComponent);
    return CalendarComponent;
}());



/***/ }),

/***/ "./src/app/components/cancel/cancel.component.html":
/*!*********************************************************!*\
  !*** ./src/app/components/cancel/cancel.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-button (click)=\"goBack()\">{{htmlControls.cancel}}</ion-button>"

/***/ }),

/***/ "./src/app/components/cancel/cancel.component.scss":
/*!*********************************************************!*\
  !*** ./src/app/components/cancel/cancel.component.scss ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY2FuY2VsL2NhbmNlbC5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/components/cancel/cancel.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/cancel/cancel.component.ts ***!
  \*******************************************************/
/*! exports provided: CancelComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CancelComponent", function() { return CancelComponent; });
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var CancelComponent = /** @class */ (function () {
    function CancelComponent(modalCtrl, storage) {
        this.modalCtrl = modalCtrl;
        this.storage = storage;
        this.htmlControls = {
            cancel: ''
        };
        this.LANGUAGE = {
            english: {
                cancel: 'Cancel'
            },
            spanish: {
                cancel: 'Cancelar'
            }
        };
    }
    CancelComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.storage.get('language').then(function (value) {
            if (value) {
                _this.htmlControls = _this.LANGUAGE[value];
            }
            else {
                _this.htmlControls = _this.LANGUAGE['english'];
            }
        });
    };
    CancelComponent.prototype.goBack = function () {
        this.modalCtrl.dismiss();
    };
    CancelComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-cancel',
            template: __webpack_require__(/*! ./cancel.component.html */ "./src/app/components/cancel/cancel.component.html"),
            styles: [__webpack_require__(/*! ./cancel.component.scss */ "./src/app/components/cancel/cancel.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_0__["ModalController"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"]])
    ], CancelComponent);
    return CancelComponent;
}());



/***/ }),

/***/ "./src/app/components/components.module.ts":
/*!*************************************************!*\
  !*** ./src/app/components/components.module.ts ***!
  \*************************************************/
/*! exports provided: ComponentsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentsModule", function() { return ComponentsModule; });
/* harmony import */ var _menu_button_menu_button_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu-button/menu-button.component */ "./src/app/components/menu-button/menu-button.component.ts");
/* harmony import */ var _calendar_calendar_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./calendar/calendar.component */ "./src/app/components/calendar/calendar.component.ts");
/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loader/loader.component */ "./src/app/components/loader/loader.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _goback_goback_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./goback/goback.component */ "./src/app/components/goback/goback.component.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _cancel_cancel_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cancel/cancel.component */ "./src/app/components/cancel/cancel.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var ComponentsModule = /** @class */ (function () {
    function ComponentsModule() {
    }
    ComponentsModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["NgModule"])({
            declarations: [
                _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__["LoaderComponent"],
                _goback_goback_component__WEBPACK_IMPORTED_MODULE_4__["GobackComponent"],
                _calendar_calendar_component__WEBPACK_IMPORTED_MODULE_1__["CalendarComponent"],
                _cancel_cancel_component__WEBPACK_IMPORTED_MODULE_7__["CancelComponent"],
                _menu_button_menu_button_component__WEBPACK_IMPORTED_MODULE_0__["MenuButtonComponent"]
            ],
            imports: [
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
                _angular_common__WEBPACK_IMPORTED_MODULE_6__["CommonModule"],
            ],
            exports: [
                _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__["LoaderComponent"],
                _goback_goback_component__WEBPACK_IMPORTED_MODULE_4__["GobackComponent"],
                _calendar_calendar_component__WEBPACK_IMPORTED_MODULE_1__["CalendarComponent"],
                _cancel_cancel_component__WEBPACK_IMPORTED_MODULE_7__["CancelComponent"],
                _menu_button_menu_button_component__WEBPACK_IMPORTED_MODULE_0__["MenuButtonComponent"]
            ]
        })
    ], ComponentsModule);
    return ComponentsModule;
}());



/***/ }),

/***/ "./src/app/components/goback/goback.component.html":
/*!*********************************************************!*\
  !*** ./src/app/components/goback/goback.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-button (click)=\"goBack()\"><ion-icon name=\"arrow-round-back\"></ion-icon></ion-button>\n"

/***/ }),

/***/ "./src/app/components/goback/goback.component.scss":
/*!*********************************************************!*\
  !*** ./src/app/components/goback/goback.component.scss ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZ29iYWNrL2dvYmFjay5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/components/goback/goback.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/goback/goback.component.ts ***!
  \*******************************************************/
/*! exports provided: GobackComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GobackComponent", function() { return GobackComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var GobackComponent = /** @class */ (function () {
    function GobackComponent(navCtrl) {
        this.navCtrl = navCtrl;
    }
    GobackComponent.prototype.goBack = function () {
        this.navCtrl.pop();
    };
    GobackComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-goback',
            template: __webpack_require__(/*! ./goback.component.html */ "./src/app/components/goback/goback.component.html"),
            styles: [__webpack_require__(/*! ./goback.component.scss */ "./src/app/components/goback/goback.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavController"]])
    ], GobackComponent);
    return GobackComponent;
}());



/***/ }),

/***/ "./src/app/components/loader/loader.component.html":
/*!*********************************************************!*\
  !*** ./src/app/components/loader/loader.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div id=\"loader\"></div>\n"

/***/ }),

/***/ "./src/app/components/loader/loader.component.scss":
/*!*********************************************************!*\
  !*** ./src/app/components/loader/loader.component.scss ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#loader {\n  position: absolute;\n  left: 65%;\n  top: 20%;\n  z-index: 1;\n  margin: -75px 0 0 -75px;\n  border: 9px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 9px solid #3498db;\n  width: 40px;\n  height: 40px;\n  -webkit-animation: spin 2s linear infinite;\n  animation: spin 2s linear infinite; }\n\n@-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg); } }\n\n@keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@media screen and (min-width: 600px) {\n  #loader {\n    left: 55%;\n    top: 20%; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lc3RlYmFubW9yYWxlcy9Qcm9qZWN0cy9hbWFyYW50aHVzMi9zcmMvYXBwL2NvbXBvbmVudHMvbG9hZGVyL2xvYWRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsUUFBUTtFQUNSLFVBQVU7RUFDVix1QkFBdUI7RUFDdkIseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQiw2QkFBNkI7RUFDN0IsV0FBVztFQUNYLFlBQVk7RUFDWiwwQ0FBMEM7RUFDMUMsa0NBQWtDLEVBQUE7O0FBRXRDO0VBQ0k7SUFDSSwrQkFBK0IsRUFBQTtFQUVuQztJQUNJLGlDQUFpQyxFQUFBLEVBQUE7O0FBR3pDO0VBQ0k7SUFDSSwrQkFBdUI7WUFBdkIsdUJBQXVCLEVBQUE7RUFFM0I7SUFDSSxpQ0FBeUI7WUFBekIseUJBQXlCLEVBQUEsRUFBQTs7QUFJakM7RUFDSTtJQUNJLFNBQVM7SUFDVCxRQUFRLEVBQUEsRUFDWCIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbG9hZGVyL2xvYWRlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNsb2FkZXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiA2NSU7XG4gICAgdG9wOiAyMCU7XG4gICAgei1pbmRleDogMTtcbiAgICBtYXJnaW46IC03NXB4IDAgMCAtNzVweDtcbiAgICBib3JkZXI6IDlweCBzb2xpZCAjZjNmM2YzO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBib3JkZXItdG9wOiA5cHggc29saWQgIzM0OThkYjtcbiAgICB3aWR0aDogNDBweDtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAgLXdlYmtpdC1hbmltYXRpb246IHNwaW4gMnMgbGluZWFyIGluZmluaXRlO1xuICAgIGFuaW1hdGlvbjogc3BpbiAycyBsaW5lYXIgaW5maW5pdGU7XG59XG5ALXdlYmtpdC1rZXlmcmFtZXMgc3BpbiB7XG4gICAgMCUge1xuICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICAgIH1cbiAgICAxMDAlIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICAgIH1cbn1cbkBrZXlmcmFtZXMgc3BpbiB7XG4gICAgMCUge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgICB9XG4gICAgMTAwJSB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gICAgfVxufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDBweCkge1xuICAgICNsb2FkZXIge1xuICAgICAgICBsZWZ0OiA1NSU7XG4gICAgICAgIHRvcDogMjAlO1xuICAgIH1cbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/loader/loader.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/loader/loader.component.ts ***!
  \*******************************************************/
/*! exports provided: LoaderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoaderComponent", function() { return LoaderComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var LoaderComponent = /** @class */ (function () {
    function LoaderComponent() {
    }
    LoaderComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-loader',
            template: __webpack_require__(/*! ./loader.component.html */ "./src/app/components/loader/loader.component.html"),
            styles: [__webpack_require__(/*! ./loader.component.scss */ "./src/app/components/loader/loader.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], LoaderComponent);
    return LoaderComponent;
}());



/***/ }),

/***/ "./src/app/components/menu-button/menu-button.component.html":
/*!*******************************************************************!*\
  !*** ./src/app/components/menu-button/menu-button.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-button *ngIf=\"checkSplitPane()\" (click)=\"hideSplitPane()\">\n  <ion-icon slot=\"icon-only\" name=\"menu\"></ion-icon>\n</ion-button>"

/***/ }),

/***/ "./src/app/components/menu-button/menu-button.component.scss":
/*!*******************************************************************!*\
  !*** ./src/app/components/menu-button/menu-button.component.scss ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbWVudS1idXR0b24vbWVudS1idXR0b24uY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/components/menu-button/menu-button.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/components/menu-button/menu-button.component.ts ***!
  \*****************************************************************/
/*! exports provided: MenuButtonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MenuButtonComponent", function() { return MenuButtonComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var MenuButtonComponent = /** @class */ (function () {
    function MenuButtonComponent(platform, splitPane) {
        this.platform = platform;
        this.splitPane = splitPane;
    }
    MenuButtonComponent.prototype.hideSplitPane = function () {
        if (this.splitPane.disabled) {
            this.splitPane.disabled = false;
        }
        else {
            this.splitPane.disabled = true;
        }
    };
    MenuButtonComponent.prototype.checkSplitPane = function () {
        if ((this.platform.is('iphone') || (this.platform.is('android') && !this.platform.is('tablet')))) {
            return false;
        }
        else {
            if (this.platform.isLandscape()) {
                return true;
            }
            else {
                return false;
            }
        }
    };
    MenuButtonComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-menu-button',
            template: __webpack_require__(/*! ./menu-button.component.html */ "./src/app/components/menu-button/menu-button.component.html"),
            styles: [__webpack_require__(/*! ./menu-button.component.scss */ "./src/app/components/menu-button/menu-button.component.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonSplitPane"]])
    ], MenuButtonComponent);
    return MenuButtonComponent;
}());



/***/ }),

/***/ "./src/app/create-event/create-event.module.ts":
/*!*****************************************************!*\
  !*** ./src/app/create-event/create-event.module.ts ***!
  \*****************************************************/
/*! exports provided: CreateEventPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateEventPageModule", function() { return CreateEventPageModule; });
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../components/components.module */ "./src/app/components/components.module.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _create_event_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./create-event.page */ "./src/app/create-event/create-event.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: '',
        component: _create_event_page__WEBPACK_IMPORTED_MODULE_6__["CreateEventPage"]
    }
];
var CreateEventPageModule = /** @class */ (function () {
    function CreateEventPageModule() {
    }
    CreateEventPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
                _components_components_module__WEBPACK_IMPORTED_MODULE_0__["ComponentsModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes)
            ],
            declarations: [_create_event_page__WEBPACK_IMPORTED_MODULE_6__["CreateEventPage"]]
        })
    ], CreateEventPageModule);
    return CreateEventPageModule;
}());



/***/ }),

/***/ "./src/app/create-event/create-event.page.html":
/*!*****************************************************!*\
  !*** ./src/app/create-event/create-event.page.html ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-title>{{htmlControls.toolbar.title}}</ion-title>\n    <ion-buttons slot=\"start\">\n      <app-cancel></app-cancel>\n    </ion-buttons>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"createNewEvent()\">{{htmlControls.toolbar.buttons.create}}</ion-button>\n    </ion-buttons>\n\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding id=\"create-event\">\n  <div *ngIf=\"logo\" class=\"logo-image\">\n    <img src=\"{{logo}}\" alt=\"A picture for the logo for the event\">\n  </div>\n  <div id=\"logo\">\n    <ion-button (click)=\"addLogo()\" type=\"button\" color=\"primary\">{{htmlControls.picture}}</ion-button>\n    <ion-button (click)=\"logo = '' \" type=\"button\" color=\"secondary\">{{htmlControls.reset}}</ion-button>\n    <p>({{htmlControls.optional}})</p>\n  </div>\n  <ion-item>\n    <ion-label stacked>{{htmlControls.eventName}}</ion-label>\n    <ion-input type=\"text\" #name placeholder=\"{{htmlControls.placeholder}}\" [(ngModel)]=\"eventName\"></ion-input>\n    <ion-icon id=\"form-icon\" name=\"warning\" *ngIf=\"!name.value\"></ion-icon>\n  </ion-item>\n  <div *ngIf=\"!infiniteDates else noStartDate\">\n    <ion-item>\n      <ion-label>{{htmlControls.start}}</ion-label>\n      <ion-datetime *ngIf=\"language == 'spanish'\" monthNames=\"Enero, Febrero, Marzo, Abril, Mayo, Junio, Julio, Agosto, Septiembre, Octubre, Noviembre, Diciembre\" displayFormat=\"MMMM DD YYYY\" pickerFormat=\"MMMM DD YYYY\" [(ngModel)]=\"startDate\"></ion-datetime>\n      <ion-datetime *ngIf=\"language == 'english'\" monthNames=\"January,February,March,April,May,June,July,August,September,October,November,December\" displayFormat=\"MMMM DD YYYY\" pickerFormat=\"MMMM DD YYYY\" [(ngModel)]=\"startDate\"></ion-datetime>   \n    </ion-item>\n  </div>\n  <ng-template #noStartDate>\n    <ion-item>\n      <ion-label fixed>{{htmlControls.start}}</ion-label>\n      <ion-input disabled></ion-input>\n    </ion-item>\n  </ng-template>\n  <ion-item>\n    <ion-label>{{htmlControls.hasEnd}}</ion-label>\n    <ion-checkbox [(ngModel)]=\"hasEndDate\"></ion-checkbox>\n  </ion-item>\n  <div *ngIf=\"!infiniteDates else noEndDate\">\n    <ion-item *ngIf=\"hasEndDate\">\n      <ion-label>{{htmlControls.end}}</ion-label>\n      <ion-datetime *ngIf=\"language == 'spanish'\" monthNames=\"Enero, Febrero, Marzo, Abril, Mayo, Junio, Julio, Agosto, Septiembre, Octubre, Noviembre, Diciembre\" displayFormat=\"MMMM DD YYYY\" pickerFormat=\"MMMM DD YYYY\" [(ngModel)]=\"endDate\"></ion-datetime>\n      <ion-datetime *ngIf=\"language == 'english'\" monthNames=\"January,February,March,April,May,June,July,August,September,October,November,December\" displayFormat=\"MMMM DD YYYY\" pickerFormat=\"MMMM DD YYYY\" [(ngModel)]=\"endDate\"></ion-datetime>\n      <ion-icon id=\"form-icon\" name=\"warning\" *ngIf=\"!this.endDate && hasEndDate\"></ion-icon>\n    </ion-item>\n  </div>\n  <ng-template #noEndDate>\n    <div>\n      <ion-item>\n        <ion-label fixed>{{htmlControls.end}}</ion-label>\n        <ion-input disabled></ion-input>\n      </ion-item>\n    </div>\n  </ng-template>\n  <ion-item>\n    <ion-label>{{htmlControls.run}}</ion-label>\n    <ion-checkbox [(ngModel)]=\"infiniteDates\" color=\"primary\" checked=\"false\"></ion-checkbox>\n  </ion-item>\n  <ion-list lines=\"none\">\n    <ion-searchbar placeholder=\"{{htmlControls.search}}\" (ionInput)=\"search($event)\"></ion-searchbar>\n    <ion-grid>\n      <ion-row *ngFor=\"let student of students\">\n        <ion-col size=\"2\">\n          <ion-avatar>\n            <img src=\"{{student.picture}}\" alt=\"{{student.firstName}}'s profile image\">\n          </ion-avatar>\n        </ion-col>\n        <ion-col size=\"10\">\n          <ion-item>\n              <ion-label text-wrap>\n                <span class=\"label name\">{{htmlControls.studentName}}</span>\n                <span class=\"name\">{{student.firstName}} <span *ngIf=\"student.initial\">{{student.initial}}</span>\n                  {{student.lastName}}</span>\n              </ion-label>\n          </ion-item>\n          <ion-item>\n              <ion-label>\n                <span class=\"label\">ID: </span>{{student.id}}\n              </ion-label>\n          </ion-item>\n        </ion-col>\n        <ion-buttons>\n          <ion-button fill=\"solid\" color=\"primary\" (click)=\"addToEvent(student.id)\">\n            {{htmlControls.add}}\n          </ion-button>\n          <ion-button fill=\"solid\" color=\"secondary\" (click)=\"removeFromEvent(student.id)\">\n            {{htmlControls.remove}}\n          </ion-button>\n        </ion-buttons>\n        <ion-item>\n          <ion-label class=\"left attended\" *ngIf=\"ifOnEventList(student.id)\">\n            {{student.firstName}}{{htmlControls.added}}\n          </ion-label>\n          <ion-label class=\"left attended\" *ngIf=\"!ifOnEventList(student.id)\">\n            {{student.firstName}}{{htmlControls.notAdded}}\n          </ion-label>\n        </ion-item>\n      </ion-row>\n    </ion-grid>\n  </ion-list>\n</ion-content>\n\n<ion-footer>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"end\">\n        <ion-button (click)=\"addAll()\">{{htmlControls.toolbar.buttons.add}}</ion-button>\n      <ion-button (click)=\"createNewEvent()\">{{htmlControls.toolbar.buttons.create}}</ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-footer>"

/***/ }),

/***/ "./src/app/create-event/create-event.page.scss":
/*!*****************************************************!*\
  !*** ./src/app/create-event/create-event.page.scss ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#create-event #logo {\n  display: inline-flex; }\n\n#create-event #logo p {\n  font-size: 16px; }\n\n#create-event #form-icon {\n  color: var(--ion-color-danger); }\n\n#create-event .label {\n  font-weight: bolder; }\n\n#create-event .name {\n  font-size: 130%; }\n\n#create-event .left {\n  float: left; }\n\n#create-event .right {\n  float: right;\n  color: #8da2f7; }\n\n#create-event .attended {\n  color: #e6a4a4; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lc3RlYmFubW9yYWxlcy9Qcm9qZWN0cy9hbWFyYW50aHVzMi9zcmMvYXBwL2NyZWF0ZS1ldmVudC9jcmVhdGUtZXZlbnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksb0JBQW9CLEVBQUE7O0FBRnhCO0VBS0ksZUFBZSxFQUFBOztBQUxuQjtFQVFJLDhCQUE4QixFQUFBOztBQVJsQztFQVdJLG1CQUFtQixFQUFBOztBQVh2QjtFQWNJLGVBQWUsRUFBQTs7QUFkbkI7RUFpQkksV0FBVyxFQUFBOztBQWpCZjtFQW9CSSxZQUFZO0VBQ1osY0FBeUIsRUFBQTs7QUFyQjdCO0VBd0JJLGNBQXlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jcmVhdGUtZXZlbnQvY3JlYXRlLWV2ZW50LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNjcmVhdGUtZXZlbnQge1xuICAjbG9nbyB7XG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIH1cbiAgI2xvZ28gcCB7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICB9XG4gICNmb3JtLWljb24ge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbiAgfVxuICAubGFiZWwge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gIH1cbiAgLm5hbWUge1xuICAgIGZvbnQtc2l6ZTogMTMwJTtcbiAgfVxuICAubGVmdCB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gIH1cbiAgLnJpZ2h0IHtcbiAgICBmbG9hdDogcmlnaHQ7XG4gICAgY29sb3I6IHJnYigxNDEsIDE2MiwgMjQ3KTtcbiAgfVxuICAuYXR0ZW5kZWQge1xuICAgIGNvbG9yOiByZ2IoMjMwLCAxNjQsIDE2NCk7XG4gIH1cbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/create-event/create-event.page.ts":
/*!***************************************************!*\
  !*** ./src/app/create-event/create-event.page.ts ***!
  \***************************************************/
/*! exports provided: CreateEventPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateEventPage", function() { return CreateEventPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/amaranthus-db/amaranthus-db */ "./src/app/services/amaranthus-db/amaranthus-db.ts");
/* harmony import */ var _common_validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/validation */ "./src/app/common/validation.ts");
/* harmony import */ var _common_handleError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/handleError */ "./src/app/common/handleError.ts");
/* harmony import */ var _create_create_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../create/create.page */ "./src/app/create/create.page.ts");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ionic-native/ionic-webview/ngx */ "./node_modules/@ionic-native/ionic-webview/ngx/index.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










var CreateEventPage = /** @class */ (function () {
    function CreateEventPage(navCtrl, camera, platform, modalCtrl, db, alertCtrl, file, storage, webview) {
        this.navCtrl = navCtrl;
        this.camera = camera;
        this.platform = platform;
        this.modalCtrl = modalCtrl;
        this.db = db;
        this.alertCtrl = alertCtrl;
        this.file = file;
        this.storage = storage;
        this.webview = webview;
        this.currentDate = new Date();
        this.htmlControls = {
            toolbar: {
                title: '',
                buttons: {
                    add: '',
                    create: ''
                }
            },
            picture: '',
            reset: '',
            optional: '',
            eventName: '',
            placeholder: '',
            start: '',
            hasEnd: '',
            end: '',
            run: '',
            search: '',
            studentName: '',
            add: '',
            remove: '',
            added: '',
            notAdded: ''
        };
        this.LANGUAGE = {
            english: {
                toolbar: {
                    title: 'Create Event',
                    buttons: {
                        add: 'Add All',
                        create: 'Create'
                    }
                },
                picture: 'Add a Picture',
                reset: 'Reset',
                optional: 'Optional',
                eventName: 'Name',
                placeholder: 'Write your Event Name',
                start: 'Start Date:',
                hasEnd: 'Has End Date?',
                end: 'End Date:',
                run: 'Run Indefinitely',
                search: 'Search by ID or Name',
                studentName: 'Name: ',
                add: 'Add',
                remove: 'Remove',
                added: ' was added to events list!',
                notAdded: " wasn't added to events list!"
            },
            spanish: {
                toolbar: {
                    title: 'Crear Evento',
                    buttons: {
                        add: 'Añadir todos',
                        create: 'Crear'
                    }
                },
                picture: 'Añadir imagen',
                reset: 'Reiniciar',
                optional: 'Opcional',
                eventName: 'Nombre',
                placeholder: 'Escribe un nombre para el evento',
                start: 'Inicia en:',
                hasEnd: '¿Tiene fecha final?',
                end: 'Termina en:',
                run: 'Corre indefinidamente',
                search: 'Busca por ID or nombre',
                studentName: 'Nombre: ',
                add: 'Añadir',
                remove: 'Remover',
                added: ' fue añadido al evento.',
                notAdded: " no fue a\u00F1adido al evento."
            }
        };
    }
    CreateEventPage.prototype.ngOnInit = function () {
        this.logo = '';
        this.studentIds = [];
        this.getStudents();
        var currentDate = new Date();
        this.startDate = currentDate.getFullYear() + "-" + Object(_common_validation__WEBPACK_IMPORTED_MODULE_3__["addZeroInFront"])(currentDate.getMonth() + 1) + "-" + Object(_common_validation__WEBPACK_IMPORTED_MODULE_3__["addZeroInFront"])(currentDate.getDate());
        this.endDate = "";
    };
    CreateEventPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.storage.get('language').then(function (value) {
            if (value) {
                _this.htmlControls = _this.LANGUAGE[value];
                _this.language = value;
            }
            else {
                _this.language = 'english';
                _this.htmlControls = _this.LANGUAGE['english'];
            }
        });
    };
    CreateEventPage.prototype.resetEndDate = function () {
        this.endDate = '';
    };
    CreateEventPage.prototype.addAll = function () {
        for (var _i = 0, _a = this.STUDENTS; _i < _a.length; _i++) {
            var student = _a[_i];
            this.addToEvent(student.id);
        }
    };
    CreateEventPage.prototype.createNewEvent = function () {
        return __awaiter(this, void 0, void 0, function () {
            var opts, opts, opts, members, newEvent_1, opts, alert_1, alert_2, error_1, opts;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 5, , 6]);
                        if (this.studentIds.length < 1) {
                            opts = void 0;
                            if (this.language === 'spanish') {
                                opts = {
                                    header: 'Error',
                                    message: '¡Tienes que escoger por lo menos un usario de la lista!'
                                };
                            }
                            else {
                                opts = {
                                    header: 'Error',
                                    message: 'Have to choose at least one user from the list!'
                                };
                            }
                            this.showSimpleAlert(opts);
                            return [2 /*return*/];
                        }
                        if (!this.startDate && !this.infiniteDates) {
                            opts = void 0;
                            if (this.language === 'spanish') {
                                opts = {
                                    header: 'Error',
                                    message: 'Tienes que escoger una fecha de inicio!'
                                };
                            }
                            else {
                                opts = {
                                    header: 'Error',
                                    message: 'Have to choose a start date!'
                                };
                            }
                            this.showSimpleAlert(opts);
                            return [2 /*return*/];
                        }
                        if (!this.eventName) {
                            opts = void 0;
                            if (this.language === 'spanish') {
                                opts = {
                                    header: 'Error',
                                    message: '¡Tienes que escribir un nombre para el evento!'
                                };
                            }
                            else {
                                opts = {
                                    header: 'Error',
                                    message: 'Have to write a name for the event!'
                                };
                            }
                            this.showSimpleAlert(opts);
                            return [2 /*return*/];
                        }
                        members = this.studentIds.map(function (studentId) {
                            return {
                                id: studentId,
                                attendance: false,
                                absence: false,
                                record: []
                            };
                        });
                        newEvent_1 = {
                            logo: this.logo,
                            name: this.eventName,
                            startDate: '',
                            members: members,
                            endDate: '',
                            infiniteDates: this.infiniteDates
                        };
                        if (!newEvent_1.infiniteDates) {
                            newEvent_1 = __assign({}, newEvent_1, { startDate: this.startDate });
                        }
                        if (this.endDate && !newEvent_1.infiniteDates) {
                            if (!this.startDate) {
                                opts = void 0;
                                if (this.language === 'spanish') {
                                    opts = {
                                        header: '¡Error!',
                                        message: 'Si el evento tiene una fecha final entonces tambien debe de tener una fecha de inicio.'
                                    };
                                }
                                else {
                                    opts = {
                                        header: 'Error!',
                                        message: 'If the event had an end date it has to have a start date.'
                                    };
                                }
                                this.showSimpleAlert(opts);
                            }
                            else {
                                newEvent_1 = __assign({}, newEvent_1, { endDate: this.endDate });
                            }
                        }
                        else if (!this.hasEndDate) {
                            this.resetEndDate();
                        }
                        if (!(this.language === 'spanish')) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: '¡Advertencia!',
                                message: "\u00BFEst\u00E1s seguro que quieres crear un nuevo evento " + this.eventName + "?",
                                buttons: [
                                    { text: 'No' },
                                    {
                                        text: 'Si',
                                        handler: function () {
                                            // user has clicked the alert button
                                            // begin the alert's dismiss transition
                                            var navTransition = alert_1.dismiss();
                                            var response = _this.db.insertEvent(newEvent_1);
                                            if (response.success === true) {
                                                navTransition.then(function () {
                                                    var options = {
                                                        header: '¡Éxito!',
                                                        message: _this.eventName + " fue creado."
                                                    };
                                                    _this.showAdvancedAlert(options, false);
                                                });
                                            }
                                            else {
                                                var options = {
                                                    header: 'Error',
                                                    message: 'Evento ya existe.'
                                                };
                                                _this.showAdvancedAlert(options, true);
                                            }
                                            return false;
                                        }
                                    }
                                ]
                            })];
                    case 1:
                        alert_1 = _a.sent();
                        alert_1.present();
                        return [3 /*break*/, 4];
                    case 2: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Warning!',
                            message: "Are you sure you want to create a new " + this.eventName + "?",
                            buttons: [
                                { text: 'No' },
                                {
                                    text: 'Yes',
                                    handler: function () {
                                        // user has clicked the alert button
                                        // begin the alert's dismiss transition
                                        var navTransition = alert_2.dismiss();
                                        var response = _this.db.insertEvent(newEvent_1);
                                        if (response.success === true) {
                                            navTransition.then(function () {
                                                var options = {
                                                    header: 'Success!',
                                                    message: _this.eventName + " was created."
                                                };
                                                _this.showAdvancedAlert(options, false);
                                            });
                                        }
                                        else {
                                            var options = {
                                                header: 'Error',
                                                message: 'Event already exits! '
                                            };
                                            _this.showAdvancedAlert(options, true);
                                        }
                                        return false;
                                    }
                                }
                            ]
                        })];
                    case 3:
                        alert_2 = _a.sent();
                        alert_2.present();
                        _a.label = 4;
                    case 4: return [3 /*break*/, 6];
                    case 5:
                        error_1 = _a.sent();
                        opts = {
                            header: 'Error',
                            message: error_1
                        };
                        this.showSimpleAlert(opts);
                        return [3 /*break*/, 6];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    CreateEventPage.prototype.getStudents = function () {
        this.students = [];
        this.STUDENTS = [];
        var response = this.db.getAllStudents(true);
        if (response.success) {
            this.students = response.data.slice();
            this.STUDENTS = response.data.slice();
        }
    };
    CreateEventPage.prototype.initializeStudentsList = function () {
        this.students = this.STUDENTS.slice();
    };
    CreateEventPage.prototype.search = function (event) {
        var query = event.target.value;
        query ? this.filterStudentsList(query) : this.initializeStudentsList();
    };
    CreateEventPage.prototype.filterStudentsList = function (query) {
        var students = this.STUDENTS.slice();
        var fullName;
        var newQuery = students.filter(function (student) {
            fullName = (student.firstName + " " + student.lastName).toLowerCase();
            if (student.id === query || student.firstName.toLowerCase().includes(query.toLowerCase()) ||
                student.lastName.toLowerCase().includes(query.toLowerCase()) || fullName === query.toLowerCase()) {
                return student;
            }
        });
        this.students = newQuery.slice();
    };
    CreateEventPage.prototype.addLogo = function () {
        var _this = this;
        if (this.platform.is('cordova')) {
            var options = {
                quality: 100,
                sourceType: this.camera.PictureSourceType.SAVEDPHOTOALBUM,
                destinationType: this.camera.DestinationType.FILE_URI,
                mediaType: this.camera.MediaType.PICTURE,
                encodingType: this.camera.EncodingType.PNG,
                targetWidth: 250,
                targetHeight: 250
            };
            this.camera.getPicture(options)
                .then(function (imageData) {
                if (_this.platform.is('android')) {
                    _this.logo = _this.webview.convertFileSrc(imageData);
                    return 0;
                }
                var array = imageData.split('/');
                var fileName = array.pop();
                var directory = array.slice(0, array.length).join('/');
                var path = _this.file.dataDirectory;
                var outDirectory = 'images';
                _this.file.checkDir(path, outDirectory).then(function () {
                    _this.file.copyFile(directory, fileName, path + outDirectory, fileName)
                        .then(function (image) { return _this.logo = _this.webview.convertFileSrc(image.nativeURL); })
                        .catch(function (e) {
                        if (e.code === 12) {
                            _this.logo = _this.webview.convertFileSrc(path + outDirectory + fileName);
                            return 0;
                        }
                        var opts = {
                            header: 'Error!',
                            message: JSON.stringify(e)
                        };
                        _this.showSimpleAlert(opts);
                    });
                }).catch(function () {
                    _this.file.createDir(path, outDirectory, true).then(function () {
                        _this.file.copyFile(directory, fileName, path + outDirectory, fileName)
                            .then(function (image) { return _this.logo = _this.webview.convertFileSrc(image.nativeURL); })
                            .catch(function (e) {
                            if (e.code === 12) {
                                _this.logo = _this.webview.convertFileSrc(path + outDirectory + fileName);
                                return 0;
                            }
                            var opts = {
                                header: 'Error',
                                message: JSON.stringify(e)
                            };
                            _this.showSimpleAlert(opts);
                        });
                    });
                });
            }, function (error) { return Object(_common_handleError__WEBPACK_IMPORTED_MODULE_4__["handleError"])(error); });
        }
        else {
            // Only for Dev Purposes
            // this.logo = `https://firebasestorage.googleapis.com/v0/b/ageratum-ec8a3.appspot.com
            // /o/cordova_logo_normal_dark.png?alt=media&token=3b89f56e-8685-4f56-b5d7-2441f8857
            // f97`;
        }
    };
    CreateEventPage.prototype.addToEvent = function (id) {
        if (this.studentIds.indexOf(id) === -1) {
            this.studentIds = this.studentIds.concat([id]);
        }
    };
    CreateEventPage.prototype.removeFromEvent = function (id) {
        var newStudentIds = this.studentIds.slice(0, this.studentIds.indexOf(id)).concat(this.studentIds.slice(this.studentIds.indexOf(id) + 1, this.studentIds.length));
        this.studentIds = newStudentIds.slice();
    };
    CreateEventPage.prototype.addStudent = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.modalCtrl.create({
                            component: _create_create_page__WEBPACK_IMPORTED_MODULE_5__["CreatePage"]
                        })];
                    case 1:
                        modal = _a.sent();
                        modal.present();
                        modal.onDidDismiss().then(function (_) { return _this.getStudents(); });
                        return [2 /*return*/];
                }
            });
        });
    };
    CreateEventPage.prototype.ifOnEventList = function (id) {
        if (this.studentIds.indexOf(id) !== -1) {
            return true;
        }
        return false;
    };
    CreateEventPage.prototype.showSimpleAlert = function (options) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl
                            .create({
                            header: options.header,
                            message: options.message,
                            buttons: options.buttons
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    CreateEventPage.prototype.showAdvancedAlert = function (options, fail) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: options.header,
                            message: options.message,
                            buttons: [
                                {
                                    text: 'OK',
                                    handler: function () {
                                        // user has clicked the alert button
                                        // begin the alert's dismiss transition
                                        if (!fail) {
                                            alert.dismiss().then(function () {
                                                _this.modalCtrl.dismiss();
                                            });
                                            return false;
                                        }
                                    }
                                }
                            ]
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    CreateEventPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-create-event',
            template: __webpack_require__(/*! ./create-event.page.html */ "./src/app/create-event/create-event.page.html"),
            styles: [__webpack_require__(/*! ./create-event.page.scss */ "./src/app/create-event/create-event.page.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavController"],
            _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_6__["Camera"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_2__["AmaranthusDBProvider"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_8__["File"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_7__["Storage"],
            _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_9__["WebView"]])
    ], CreateEventPage);
    return CreateEventPage;
}());



/***/ }),

/***/ "./src/app/create/create.module.ts":
/*!*****************************************!*\
  !*** ./src/app/create/create.module.ts ***!
  \*****************************************/
/*! exports provided: CreatePageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreatePageModule", function() { return CreatePageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _create_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./create.page */ "./src/app/create/create.page.ts");
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/components.module */ "./src/app/components/components.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: '',
        component: _create_page__WEBPACK_IMPORTED_MODULE_5__["CreatePage"]
    }
];
var CreatePageModule = /** @class */ (function () {
    function CreatePageModule() {
    }
    CreatePageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _components_components_module__WEBPACK_IMPORTED_MODULE_6__["ComponentsModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes)
            ],
            declarations: [_create_page__WEBPACK_IMPORTED_MODULE_5__["CreatePage"]]
        })
    ], CreatePageModule);
    return CreatePageModule;
}());



/***/ }),

/***/ "./src/app/create/create.page.html":
/*!*****************************************!*\
  !*** ./src/app/create/create.page.html ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-title>{{htmlControls.toolbar.title}}</ion-title>\n    <ion-buttons slot=\"start\">\n        <app-cancel></app-cancel>\n      </ion-buttons>\n      <ion-buttons slot=\"end\">\n          <ion-button (click)=\"createStudent({\n            firstName: firstName.value,\n            initial: initial.value,\n            lastName: lastName.value,\n            id: id.value,\n            address: address.value,\n            phoneNumber:phoneNumber.value,\n            town:town.value,\n            state:state.value,\n            class: class.value,\n            fatherName:fatherName.value,\n            motherName:motherName.value,\n            emergencyContactName:emergencyContactName.value,\n            emergencyRelationship:emergencyRelationship.value,\n            emergencyContactPhoneNumber:emergencyContactPhoneNumber.value,\n            picture:null,\n            gender: null,\n            isActive: null\n          })\">\n            {{htmlControls.toolbar.buttons.create}}\n          </ion-button>\n        </ion-buttons>\n    \n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding id=\"create\">\n    <div *ngIf=\"picture\" class=\"profile-image\">\n        <img src=\"{{picture}}\" alt=\"A profile picture\">\n      </div>\n      <form #studentForm=\"ngForm\" (ngSubmit)=\"createStudent({\n          firstName: firstName.value,\n          initial: initial.value,\n          lastName: lastName.value,\n          id: id.value,\n          address: address.value,\n          phoneNumber:phoneNumber.value,\n          town:town.value,\n          state:state.value,\n          class: class.value,\n          fatherName:fatherName.value,\n          motherName:motherName.value,\n          emergencyContactName:emergencyContactName.value,\n          emergencyRelationship:emergencyRelationship.value,\n          emergencyContactPhoneNumber:emergencyContactPhoneNumber.value,\n          picture:null,\n          gender: null,\n          isActive: null\n        })\">\n        <ion-item-group>\n          <ion-button (click)=\"browsePicture()\" color=\"primary\">{{htmlControls.change}}</ion-button>\n          <ion-button (click)=\"picture = ''\" color=\"secondary\">{{htmlControls.reset}}</ion-button>\n          <ion-item>\n            <ion-label stacked>ID</ion-label>\n            <ion-input type=\"text\" #id value=\"{{idInput}}\"></ion-input>\n            <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!id.value\"></ion-icon>\n          </ion-item>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.firstName}}</ion-label>\n            <ion-input type=\"text\" #firstName></ion-input>\n            <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!firstName.value\"></ion-icon>\n          </ion-item>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.initial}}</ion-label>\n            <ion-input type=\"text\" #initial></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.lastName}}</ion-label>\n            <ion-input type=\"text\" #lastName></ion-input>\n            <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!lastName.value\"></ion-icon>\n          </ion-item>\n          <ion-list lines=\"none\">\n            <ion-radio-group [(ngModel)]=\"gender\" name=\"gender\" ngDefaultControl>\n          <ion-list-header>{{htmlControls.gender}}</ion-list-header>\n            <ion-item>\n              <ion-label>{{htmlControls.male}}</ion-label>\n              <ion-radio slot=\"start\" value=\"male\" checked></ion-radio>\n            </ion-item>\n            <ion-item>\n              <ion-label>{{htmlControls.female}}</ion-label>\n              <ion-radio slot=\"start\" value=\"female\"></ion-radio>\n            </ion-item>\n            <ion-item>\n              <ion-label>{{htmlControls.undisclosed}}</ion-label>\n              <ion-radio slot=\"start\" value=\"undisclosed\"></ion-radio>\n            </ion-item>\n            </ion-radio-group>\n          </ion-list>\n          <h5 id=\"optional\">{{htmlControls.optional}}</h5>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.address}}</ion-label>\n            <ion-input type=\"text\" #address></ion-input>\n            <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!address.value\"></ion-icon> -->\n          </ion-item>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.phone}}</ion-label>\n            <ion-input type=\"text\" #phoneNumber></ion-input>\n            <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"phoneNumber.value\"></ion-icon> -->\n          </ion-item>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.city}}</ion-label>\n            <ion-input type=\"text\" #town></ion-input>\n            <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!town.value\"></ion-icon> -->\n          </ion-item>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.state}}</ion-label>\n            <ion-input type=\"text\" #state></ion-input>\n            <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!state.value\"></ion-icon> -->\n          </ion-item>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.class}}</ion-label>\n            <ion-input type=\"text\" #class></ion-input>\n          </ion-item>\n          <h6>{{htmlControls.father}}</h6>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.name}}</ion-label>\n            <ion-input type=\"text\" #fatherName></ion-input>\n            <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!fatherName.value\"></ion-icon> -->\n          </ion-item>\n          <h6>{{htmlControls.mother}}</h6>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.name}}</ion-label>\n            <ion-input type=\"text\" #motherName></ion-input>\n            <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!motherName.value\"></ion-icon> -->\n          </ion-item>\n          <h6>{{htmlControls.emergency.title}}</h6>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.name}}</ion-label>\n            <ion-input type=\"text\" #emergencyContactName></ion-input>\n            <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!emergencyContactName.value\"></ion-icon> -->\n          </ion-item>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.emergency.relationship}}</ion-label>\n            <ion-input type=\"text\" #emergencyRelationship></ion-input>\n            <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!emergencyRelationship.value\"></ion-icon> -->\n          </ion-item>\n          <ion-item>\n            <ion-label stacked>{{htmlControls.phone}}</ion-label>\n            <ion-input type=\"text\" #emergencyContactPhoneNumber></ion-input>\n            <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"validatePhoneNumber(emergencyContactPhoneNumber.value)\"></ion-icon> -->\n          </ion-item>\n        </ion-item-group>\n        <!-- <ion-button type=\"submit\" color=\"primary\">{{htmlControls.toolbar.buttons.create}}</ion-button>\n        <ion-button type=\"button\" color=\"secondary\" (click)=\"\n          firstName.value = '';\n          initial.value = '';\n          lastName.value = '';\n          id.value = '';\n          address.value = '';\n          class.value = '';\n          phoneNumber.value = '';\n          town.value = '';\n          state.value = '';\n          fatherName.value = '';\n          motherName.value = '';\n          emergencyContactName.value = '';\n          emergencyRelationship.value = '';\n          emergencyContactPhoneNumber.value = '';\n          picture = '';\n          gender = 'male';\n          \">{{htmlControls.reset}}</ion-button> -->\n      </form>\n    \n</ion-content>\n<ion-footer>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"end\">\n        <ion-button type=\"button\" color=\"danger\" (click)=\"\n        firstName.value = '';\n        initial.value = '';\n        lastName.value = '';\n        id.value = '';\n        address.value = '';\n        class.value = '';\n        phoneNumber.value = '';\n        town.value = '';\n        state.value = '';\n        fatherName.value = '';\n        motherName.value = '';\n        emergencyContactName.value = '';\n        emergencyRelationship.value = '';\n        emergencyContactPhoneNumber.value = '';\n        picture = '';\n        gender = 'male';\n        \">{{htmlControls.reset}}</ion-button>\n        <ion-button (click)=\"createStudent({\n          firstName: firstName.value,\n          initial: initial.value,\n          lastName: lastName.value,\n          id: id.value,\n          address: address.value,\n          phoneNumber:phoneNumber.value,\n          town:town.value,\n          state:state.value,\n          class: class.value,\n          fatherName:fatherName.value,\n          motherName:motherName.value,\n          emergencyContactName:emergencyContactName.value,\n          emergencyRelationship:emergencyRelationship.value,\n          emergencyContactPhoneNumber:emergencyContactPhoneNumber.value,\n          picture:null,\n          gender: null,\n          isActive: null\n        })\">\n          {{htmlControls.toolbar.buttons.create}}\n        </ion-button>\n\n    </ion-buttons>\n  </ion-toolbar>\n</ion-footer>"

/***/ }),

/***/ "./src/app/create/create.page.scss":
/*!*****************************************!*\
  !*** ./src/app/create/create.page.scss ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#create h6 {\n  padding-left: 5px; }\n\n#create #form-icon {\n  color: var(--ion-color-primary); }\n\n#create .profile-image {\n  padding: 15px;\n  background-color: #ffffff;\n  border-bottom-right-radius: 100%;\n  border-bottom-left-radius: 100%; }\n\n#create img {\n  width: 150px;\n  height: 150px;\n  border-radius: 100%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto; }\n\n#create #optional {\n  text-align: center; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lc3RlYmFubW9yYWxlcy9Qcm9qZWN0cy9hbWFyYW50aHVzMi9zcmMvYXBwL2NyZWF0ZS9jcmVhdGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRVEsaUJBQWdCLEVBQUE7O0FBRnhCO0VBS1EsK0JBQStCLEVBQUE7O0FBTHZDO0VBU1EsYUFBWTtFQUNaLHlCQUF5QjtFQUN6QixnQ0FBZ0M7RUFDaEMsK0JBQStCLEVBQUE7O0FBWnZDO0VBZVEsWUFBVztFQUNYLGFBQVk7RUFDWixtQkFBbUI7RUFDbkIsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixrQkFBa0IsRUFBQTs7QUFwQjFCO0VBdUJRLGtCQUFrQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvY3JlYXRlL2NyZWF0ZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY3JlYXRlIHtcbiAgICBoNntcbiAgICAgICAgcGFkZGluZy1sZWZ0OjVweDtcbiAgICB9XG4gICAgI2Zvcm0taWNvbntcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICB9XG5cbiAgICAucHJvZmlsZS1pbWFnZXtcbiAgICAgICAgcGFkZGluZzoxNXB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICAgICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTAwJTtcbiAgICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMTAwJTtcbiAgICB9XG4gICAgaW1nIHtcbiAgICAgICAgd2lkdGg6MTUwcHg7XG4gICAgICAgIGhlaWdodDoxNTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgfVxuICAgICNvcHRpb25hbHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/create/create.page.ts":
/*!***************************************!*\
  !*** ./src/app/create/create.page.ts ***!
  \***************************************/
/*! exports provided: CreatePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreatePage", function() { return CreatePage; });
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/amaranthus-db/amaranthus-db */ "./src/app/services/amaranthus-db/amaranthus-db.ts");
/* harmony import */ var _common_handleError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/handleError */ "./src/app/common/handleError.ts");
/* harmony import */ var _common_format__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/format */ "./src/app/common/format.ts");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/ionic-webview/ngx */ "./node_modules/@ionic-native/ionic-webview/ngx/index.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var CreatePage = /** @class */ (function () {
    function CreatePage(modalCtrl, alertCtrl, db, camera, webview, file, platform, storage) {
        this.modalCtrl = modalCtrl;
        this.alertCtrl = alertCtrl;
        this.db = db;
        this.camera = camera;
        this.webview = webview;
        this.file = file;
        this.platform = platform;
        this.storage = storage;
        this.counter = 0;
        this.htmlControls = {
            toolbar: {
                title: '',
                buttons: {
                    create: ''
                }
            },
            change: '',
            reset: '',
            firstName: '',
            initial: '',
            lastName: '',
            gender: '',
            male: '',
            female: '',
            undisclosed: '',
            optional: '',
            address: '',
            phone: '',
            city: '',
            state: '',
            class: '',
            father: '',
            mother: '',
            name: '',
            emergency: {
                title: '',
                relationship: ''
            }
        };
        this.LANGUAGE = {
            english: {
                toolbar: {
                    title: 'Create Record',
                    buttons: {
                        create: 'Create'
                    }
                },
                change: 'Change',
                reset: 'Reset',
                firstName: 'First Name',
                initial: 'Middle Name',
                lastName: 'Last Name',
                gender: 'Gender',
                male: 'Male',
                female: 'Female',
                undisclosed: 'Undisclosed',
                optional: 'Optional',
                address: 'Address',
                phone: 'Phone Number',
                city: 'City',
                state: 'State',
                class: 'Class',
                father: 'Father',
                mother: 'Mother',
                name: 'Name',
                emergency: {
                    title: 'Emergency Contact',
                    relationship: 'Relationship'
                }
            },
            spanish: {
                toolbar: {
                    title: 'Crear Record',
                    buttons: {
                        create: 'Crear'
                    }
                },
                change: 'Cambiar',
                reset: 'Reiniciar',
                firstName: 'Nombre',
                initial: 'Segundo Nombre',
                lastName: 'Apellidos',
                gender: 'Género',
                male: 'Masculino',
                female: 'Femenino',
                undisclosed: 'No revelado',
                optional: 'Opcional',
                address: 'Dirección',
                phone: 'Teléfono',
                city: 'Ciudad',
                state: 'Estado',
                class: 'Clase',
                father: 'Padre',
                mother: 'Madre',
                name: 'Nombre',
                emergency: {
                    title: 'Contacto de Emergencia',
                    relationship: 'Relación'
                }
            }
        };
    }
    CreatePage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.storage.get('language').then(function (value) {
            if (value) {
                _this.language = value;
                _this.htmlControls = _this.LANGUAGE[value];
            }
            else {
                _this.language = 'english';
                _this.htmlControls = _this.LANGUAGE['english'];
            }
        });
        this.generateId();
        this.gender = 'male';
        this.picture = './assets/profilePics/default.png';
        this.phoneNumber = '';
    };
    /**
     * AutoGenerates ID
     */
    CreatePage.prototype.generateId = function () {
        this.idInput = "XY" + Math.ceil(Math.random() * 100000000);
        try {
            var value = this.db.checkIfStudentExists({ id: this.idInput });
            if (!value) {
                this.generateId();
            }
        }
        catch (error) {
            Object(_common_handleError__WEBPACK_IMPORTED_MODULE_3__["handleError"])(error);
        }
    };
    /**
     * Browse phone gallery
     *
     * @memberof EditPage
     */
    CreatePage.prototype.browsePicture = function () {
        var _this = this;
        var options = {
            quality: 100,
            sourceType: this.camera.PictureSourceType.SAVEDPHOTOALBUM,
            destinationType: this.camera.DestinationType.FILE_URI,
            mediaType: this.camera.MediaType.PICTURE,
            encodingType: this.camera.EncodingType.PNG,
            targetWidth: 250,
            targetHeight: 250
        };
        this.camera.getPicture(options)
            .then(function (imageData) {
            if (_this.platform.is('android')) {
                _this.picture = _this.webview.convertFileSrc(imageData);
                return 0;
            }
            var array = imageData.split('/');
            var fileName = array.pop();
            var directory = array.slice(0, array.length).join('/');
            var path = _this.file.dataDirectory;
            var outDirectory = 'images';
            _this.file.checkDir(path, outDirectory).then(function () {
                _this.file.copyFile(directory, fileName, path + outDirectory, fileName)
                    .then(function (image) { return _this.picture = _this.webview.convertFileSrc(image.nativeURL); })
                    .catch(function (e) {
                    if (e.code === 12) {
                        _this.picture = _this.webview.convertFileSrc(path + outDirectory + fileName);
                        return 0;
                    }
                    var opts = {
                        header: 'Error!',
                        message: JSON.stringify(e)
                    };
                    _this.showSimpleAlert(opts);
                });
            }).catch(function () {
                _this.file.createDir(path, outDirectory, true).then(function () {
                    _this.file.copyFile(directory, fileName, path + outDirectory, fileName)
                        .then(function (image) { return _this.picture = _this.webview.convertFileSrc(image.nativeURL); })
                        .catch(function (e) {
                        if (e.code === 12) {
                            _this.picture = _this.webview.convertFileSrc(path + outDirectory + fileName);
                            return 0;
                        }
                        var opts = {
                            header: 'Error',
                            message: JSON.stringify(e)
                        };
                        _this.showSimpleAlert(opts);
                    });
                });
            });
        }, function (error) { return Object(_common_handleError__WEBPACK_IMPORTED_MODULE_3__["handleError"])(error); });
    };
    /**
     *
     * @param opts Student data
     * Creates a student in database
     */
    CreatePage.prototype.createStudent = function (opts) {
        return __awaiter(this, void 0, void 0, function () {
            var options, picture, student_1, alert_1, alert_2;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        options = {
                            header: '',
                            message: '',
                            buttons: []
                        };
                        if (!(!opts.firstName || !opts.lastName || !opts.id)) return [3 /*break*/, 1];
                        if (this.language === 'spanish') {
                            options = __assign({}, options, { header: '¡Advertencia!', message: 'Algunos campos no están llenos.', buttons: ['Si'] });
                        }
                        else {
                            options = __assign({}, options, { header: 'Warning!', message: 'Some fields doesn\'t have the required info', buttons: ['Ok'] });
                        }
                        this.showSimpleAlert(options);
                        return [3 /*break*/, 5];
                    case 1:
                        picture = this.validatePicture({ gender: this.gender, picture: this.picture });
                        student_1 = __assign({}, Object(_common_format__WEBPACK_IMPORTED_MODULE_4__["trimText"])(opts), { picture: picture, gender: this.gender, isActive: true });
                        if (!(this.language === 'spanish')) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: '¡Advertencia!',
                                message: "\u00BFEstas seguro que quieres crear un r\u00E9cord para " + opts.firstName + " " + opts.lastName + "?",
                                buttons: [
                                    { text: 'No' },
                                    {
                                        text: 'Si',
                                        handler: function () {
                                            // user has clicked the alert button
                                            // begin the alert's dismiss transition
                                            var navTransition = alert_1.dismiss();
                                            _this.db.insertStudent(student_1)
                                                .then(function (response) {
                                                if (response.success === true) {
                                                    navTransition.then(function () {
                                                        var userCreatedMsg = {
                                                            header: '¡Éxito!',
                                                            message: opts.firstName + " " + opts.lastName + " ha sido creado."
                                                        };
                                                        _this.showAdvancedAlert(userCreatedMsg);
                                                    });
                                                }
                                                else {
                                                    var errorMsg_1 = {
                                                        header: 'Error',
                                                        message: response.error
                                                    };
                                                    navTransition.then(function () { return _this.showAdvancedAlert(errorMsg_1); });
                                                }
                                            })
                                                .catch(function (error) { return _this.showSimpleAlert({ header: 'Error', message: error.error }); });
                                            return false;
                                        }
                                    }
                                ]
                            })];
                    case 2:
                        alert_1 = _a.sent();
                        alert_1.present();
                        return [3 /*break*/, 5];
                    case 3: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Warning!',
                            message: "Are you sure you want to create a new record for " + opts.firstName + " " + opts.lastName + "?",
                            buttons: [
                                { text: 'No' },
                                {
                                    text: 'Yes',
                                    handler: function () {
                                        // user has clicked the alert button
                                        // begin the alert's dismiss transition
                                        var navTransition = alert_2.dismiss();
                                        _this.db.insertStudent(student_1)
                                            .then(function (response) {
                                            if (response.success === true) {
                                                navTransition.then(function () {
                                                    var userCreatedMsg = {
                                                        header: 'Success!',
                                                        message: opts.firstName + " " + opts.lastName + " was created."
                                                    };
                                                    _this.showAdvancedAlert(userCreatedMsg);
                                                });
                                            }
                                            else {
                                                var errorMsg_2 = {
                                                    header: 'Error',
                                                    message: response.error
                                                };
                                                navTransition.then(function () { return _this.showAdvancedAlert(errorMsg_2); });
                                            }
                                        })
                                            .catch(function (error) { return _this.showSimpleAlert({ header: 'Error', message: error.error }); });
                                        return false;
                                    }
                                }
                            ]
                        })];
                    case 4:
                        alert_2 = _a.sent();
                        alert_2.present();
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    /**
     *
     * @param options
     * Display a message on the screen
     */
    CreatePage.prototype.showAdvancedAlert = function (options) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: options.header,
                            message: options.message,
                            buttons: [
                                {
                                    text: 'OK',
                                    handler: function () {
                                        // user has clicked the alert button
                                        // begin the alert's dismiss transition
                                        alert.dismiss()
                                            .then(function () {
                                            _this.modalCtrl.dismiss();
                                        });
                                        return false;
                                    }
                                }
                            ]
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     *
     * @param opts
     * Validates user's gender in order to choose a picture.
     */
    CreatePage.prototype.validatePicture = function (opts) {
        if (opts.gender === 'male' && opts.picture === '') {
            opts.picture = './assets/profilePics/defaultMale.png';
        }
        else if (opts.gender === 'female' && opts.picture === '') {
            opts.picture = './assets/profilePics/defaultFemale.png';
        }
        else if (opts.gender === 'undisclosed' && opts.picture === '') {
            opts.picture = './assets/profilePics/defaultUndisclosed.png';
        }
        return opts.picture;
    };
    /**
     *
     * @param options
     * Show a message on the screen
     */
    CreatePage.prototype.showSimpleAlert = function (options) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: options.header,
                            message: options.message,
                            buttons: options.buttons
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    CreatePage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-create',
            template: __webpack_require__(/*! ./create.page.html */ "./src/app/create/create.page.html"),
            styles: [__webpack_require__(/*! ./create.page.scss */ "./src/app/create/create.page.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_0__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["AlertController"],
            _services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_2__["AmaranthusDBProvider"],
            _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_5__["Camera"],
            _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_6__["WebView"],
            _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_7__["File"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["Platform"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_8__["Storage"]])
    ], CreatePage);
    return CreatePage;
}());



/***/ }),

/***/ "./src/app/edit/edit.module.ts":
/*!*************************************!*\
  !*** ./src/app/edit/edit.module.ts ***!
  \*************************************/
/*! exports provided: EditPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditPageModule", function() { return EditPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _edit_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./edit.page */ "./src/app/edit/edit.page.ts");
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/components.module */ "./src/app/components/components.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: '',
        component: _edit_page__WEBPACK_IMPORTED_MODULE_5__["EditPage"]
    }
];
var EditPageModule = /** @class */ (function () {
    function EditPageModule() {
    }
    EditPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _components_components_module__WEBPACK_IMPORTED_MODULE_6__["ComponentsModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes)
            ],
            declarations: [_edit_page__WEBPACK_IMPORTED_MODULE_5__["EditPage"]],
            exports: [_edit_page__WEBPACK_IMPORTED_MODULE_5__["EditPage"]]
        })
    ], EditPageModule);
    return EditPageModule;
}());



/***/ }),

/***/ "./src/app/edit/edit.page.html":
/*!*************************************!*\
  !*** ./src/app/edit/edit.page.html ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-title>{{htmlControls.toolbar.title}}</ion-title>\n    <ion-buttons slot=\"start\">\n      <app-cancel></app-cancel>\n    </ion-buttons>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"editStudent({\n        firstName: firstName.value,\n        initial: initial.value,\n        lastName: lastName.value,\n        id: id.value,\n        address: address.value,\n        phoneNumber:phoneNumber.value,\n        town:town.value,\n        state:state.value,\n        class: class.value,\n        fatherName:fatherName.value,\n        motherName:motherName.value,\n        emergencyContactName:emergencyContactName.value,\n        emergencyRelationship:emergencyRelationship.value,\n        emergencyContactPhoneNumber:emergencyContactPhoneNumber.value,\n        picture:null,\n        gender: null,\n        isActive: null\n        })\">\n        {{htmlControls.toolbar.buttons.save}}\n      </ion-button>\n    </ion-buttons>\n\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding id=\"edit\">\n  <!-- Picture will be taken from gallery or camera.  If the input is empty a default one will\n       be chosen from based by gender. -->\n  <div class=\"profile-image\">\n    <img src=\"{{picture}}\" alt=\"A profile picture\">\n  </div>\n  <form #studentForm=\"ngForm\" (ngSubmit)=\"editStudent({\n        firstName: firstName.value,\n        initial: initial.value,\n        lastName: lastName.value,\n        id: id.value,\n        address: address.value,\n        phoneNumber:phoneNumber.value,\n        town:town.value,\n        state:state.value,\n        class: class.value,\n        fatherName:fatherName.value,\n        motherName:motherName.value,\n        emergencyContactName:emergencyContactName.value,\n        emergencyRelationship:emergencyRelationship.value,\n        emergencyContactPhoneNumber:emergencyContactPhoneNumber.value,\n        picture:null,\n        gender: null,\n        isActive: null\n        })\">\n    <ion-item-group>\n      <ion-button (click)=\"browsePicture()\" color=\"primary\">{{htmlControls.change}}</ion-button>\n      <ion-button (click)=\"picture = ''\" color=\"secondary\">{{htmlControls.reset}}</ion-button>\n      <ion-item>\n        <ion-label stacked>ID</ion-label>\n        <ion-input [value]=\"student.id\" type=\"text\" #id readonly=\"true\"></ion-input>\n        <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!id.value\"></ion-icon>\n      </ion-item>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.firstName}}</ion-label>\n        <ion-input [value]=\"student.firstName\" type=\"text\" #firstName></ion-input>\n        <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!firstName.value\"></ion-icon>\n      </ion-item>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.initial}}</ion-label>\n        <ion-input [value]=\"student.initial\" type=\"text\" #initial></ion-input>\n      </ion-item>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.lastName}}</ion-label>\n        <ion-input [value]=\"student.lastName\" type=\"text\" #lastName></ion-input>\n        <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!lastName.value\"></ion-icon>\n      </ion-item>\n      <ion-list lines=\"none\">\n        <ion-radio-group [(ngModel)]=\"gender\" name=\"gender\" ngDefaultControl>\n          <ion-list-header>{{htmlControls.gender}}</ion-list-header>\n          <ion-item>\n            <ion-label>{{htmlControls.male}}</ion-label>\n            <ion-radio slot=\"start\" value=\"male\" checked></ion-radio>\n          </ion-item>\n          <ion-item>\n            <ion-label>{{htmlControls.female}}</ion-label>\n            <ion-radio slot=\"start\" value=\"female\"></ion-radio>\n          </ion-item>\n          <ion-item>\n            <ion-label>{{htmlControls.undisclosed}}</ion-label>\n            <ion-radio slot=\"start\" value=\"undisclosed\"></ion-radio>\n          </ion-item>\n        </ion-radio-group>\n      </ion-list>\n      <h5 id=\"optional\">{{htmlControls.optional}}</h5>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.address}}</ion-label>\n        <ion-input [value]=\"student.address\" type=\"text\" #address></ion-input>\n        <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!address.value\"></ion-icon> -->\n      </ion-item>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.phone}}</ion-label>\n        <ion-input [value]=\"student.phoneNumber\" type=\"text\" #phoneNumber></ion-input>\n        <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!phoneNumber.value\"></ion-icon> -->\n      </ion-item>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.city}}</ion-label>\n        <ion-input [value]=\"student.town\" type=\"text\" #town></ion-input>\n        <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!town.value\"></ion-icon> -->\n      </ion-item>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.state}}</ion-label>\n        <ion-input [value]=\"student.state\" type=\"text\" #state></ion-input>\n        <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!state.value\"></ion-icon> -->\n      </ion-item>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.class}}</ion-label>\n        <ion-input [value]=\"student.class\" type=\"text\" #class></ion-input>\n      </ion-item>\n      <h6>{{htmlControls.father}}</h6>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.name}}</ion-label>\n        <ion-input [value]=\"student.fatherName\" type=\"text\" #fatherName></ion-input>\n        <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!fatherName.value\"></ion-icon> -->\n      </ion-item>\n      <h6>{{htmlControls.mother}}</h6>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.name}}</ion-label>\n        <ion-input [value]=\"student.motherName\" type=\"text\" #motherName></ion-input>\n        <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!motherName.value\"></ion-icon> -->\n      </ion-item>\n      <h6>{{htmlControls.emergency.title}}</h6>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.name}}</ion-label>\n        <ion-input [value]=\"student.emergencyContactName\" type=\"text\" #emergencyContactName></ion-input>\n        <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!emergencyContactName.value\"></ion-icon> -->\n      </ion-item>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.emergency.relationship}}</ion-label>\n        <ion-input [value]=\"student.emergencyRelationship\" type=\"text\" #emergencyRelationship></ion-input>\n        <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!emergencyRelationship.value\"></ion-icon> -->\n      </ion-item>\n      <ion-item>\n        <ion-label stacked>{{htmlControls.phone}}</ion-label>\n        <ion-input [value]=\"student.emergencyContactPhoneNumber\" type=\"text\" #emergencyContactPhoneNumber></ion-input>\n        <!-- <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"validatePhoneNumber(emergencyContactPhoneNumber.value)\"></ion-icon> -->\n      </ion-item>\n      <ion-item>\n        <ion-label>Is {{student.firstName}} {{student.lastName}} active?</ion-label>\n        <ion-checkbox name=\"isActive\" [(ngModel)]='isActive'></ion-checkbox>\n      </ion-item>\n    </ion-item-group>\n    <!-- <ion-button type=\"submit\" color=\"primary\">{{htmlControls.toolbar.buttons.save}}</ion-button>\n    <ion-button type=\"button\" color=\"danger\" (click)=\"deleteStudent({id:id.value})\">{{htmlControls.delete}}</ion-button> -->\n  </form>\n\n</ion-content>\n<ion-footer>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"end\">\n      <ion-button type=\"button\" color=\"danger\" (click)=\"deleteStudent({id:id.value})\">{{htmlControls.delete}}\n      </ion-button>\n      <ion-button (click)=\"editStudent({\n        firstName: firstName.value,\n        initial: initial.value,\n        lastName: lastName.value,\n        id: id.value,\n        address: address.value,\n        phoneNumber:phoneNumber.value,\n        town:town.value,\n        state:state.value,\n        class: class.value,\n        fatherName:fatherName.value,\n        motherName:motherName.value,\n        emergencyContactName:emergencyContactName.value,\n        emergencyRelationship:emergencyRelationship.value,\n        emergencyContactPhoneNumber:emergencyContactPhoneNumber.value,\n        picture:null,\n        gender: null,\n        isActive: null\n        })\">\n        {{htmlControls.toolbar.buttons.save}}\n      </ion-button>\n\n    </ion-buttons>\n  </ion-toolbar>\n</ion-footer>"

/***/ }),

/***/ "./src/app/edit/edit.page.scss":
/*!*************************************!*\
  !*** ./src/app/edit/edit.page.scss ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#edit h6 {\n  padding-left: 5px; }\n\n#edit #form-icon {\n  color: var(--ion-color-primary); }\n\n#edit .profile-image {\n  padding: 15px;\n  background-color: #ffffff;\n  border-bottom-right-radius: 100%;\n  border-bottom-left-radius: 100%; }\n\n#edit img {\n  width: 150px;\n  height: 150px;\n  border-radius: 100%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lc3RlYmFubW9yYWxlcy9Qcm9qZWN0cy9hbWFyYW50aHVzMi9zcmMvYXBwL2VkaXQvZWRpdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFUSxpQkFBZ0IsRUFBQTs7QUFGeEI7RUFLUSwrQkFBK0IsRUFBQTs7QUFMdkM7RUFTUSxhQUFZO0VBQ1oseUJBQXlCO0VBQ3pCLGdDQUFnQztFQUNoQywrQkFBK0IsRUFBQTs7QUFadkM7RUFlUSxZQUFXO0VBQ1gsYUFBWTtFQUNaLG1CQUFtQjtFQUNuQixjQUFjO0VBQ2QsaUJBQWlCO0VBQ2pCLGtCQUFrQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvZWRpdC9lZGl0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNlZGl0IHtcbiAgICBoNntcbiAgICAgICAgcGFkZGluZy1sZWZ0OjVweDtcbiAgICB9XG4gICAgI2Zvcm0taWNvbntcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICB9XG5cbiAgICAucHJvZmlsZS1pbWFnZXtcbiAgICAgICAgcGFkZGluZzoxNXB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICAgICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTAwJTtcbiAgICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMTAwJTtcbiAgICB9XG4gICAgaW1nIHtcbiAgICAgICAgd2lkdGg6MTUwcHg7XG4gICAgICAgIGhlaWdodDoxNTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgfVxufVxuIl19 */"

/***/ }),

/***/ "./src/app/edit/edit.page.ts":
/*!***********************************!*\
  !*** ./src/app/edit/edit.page.ts ***!
  \***********************************/
/*! exports provided: EditPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditPage", function() { return EditPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/amaranthus-db/amaranthus-db */ "./src/app/services/amaranthus-db/amaranthus-db.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _common_handleError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/handleError */ "./src/app/common/handleError.ts");
/* harmony import */ var _common_format__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/format */ "./src/app/common/format.ts");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/ionic-webview/ngx */ "./node_modules/@ionic-native/ionic-webview/ngx/index.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var EditPage = /** @class */ (function () {
    function EditPage(db, alertCtrl, navCtrl, navParams, camera, modalCtrl, webview, file, platform, storage) {
        this.db = db;
        this.alertCtrl = alertCtrl;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.camera = camera;
        this.modalCtrl = modalCtrl;
        this.webview = webview;
        this.file = file;
        this.platform = platform;
        this.storage = storage;
        // HTML values
        this.student = {
            id: '',
            firstName: '',
            initial: '',
            lastName: '',
            address: '',
            phoneNumber: '',
            town: '',
            state: '',
            class: '',
            fatherName: '',
            motherName: '',
            emergencyContactName: '',
            emergencyContactPhoneNumber: '',
            emergencyRelationship: '',
            picture: '',
            gender: '',
            isActive: false
        };
        this.htmlControls = {
            toolbar: {
                title: '',
                buttons: {
                    save: ''
                }
            },
            change: '',
            reset: '',
            firstName: '',
            initial: '',
            lastName: '',
            gender: '',
            male: '',
            female: '',
            undisclosed: '',
            optional: '',
            address: '',
            phone: '',
            city: '',
            state: '',
            class: '',
            father: '',
            mother: '',
            name: '',
            emergency: {
                title: '',
                relationship: ''
            },
            delete: ''
        };
        this.LANGUAGE = {
            english: {
                toolbar: {
                    title: 'Edit Record',
                    buttons: {
                        save: 'Save'
                    }
                },
                change: 'Change',
                reset: 'Reset',
                firstName: 'First Name',
                initial: 'Middle Name',
                lastName: 'Last Name',
                gender: 'Gender',
                male: 'Male',
                female: 'Female',
                undisclosed: 'Undisclosed',
                optional: 'Optional',
                address: 'Address',
                phone: 'Phone Number',
                city: 'City',
                state: 'State',
                class: 'Class',
                father: 'Father',
                mother: 'Mother',
                name: 'Name',
                emergency: {
                    title: 'Emergency Contact',
                    relationship: 'Relationship'
                },
                delete: 'Delete'
            },
            spanish: {
                toolbar: {
                    title: 'Editar Record',
                    buttons: {
                        save: 'Grabar'
                    }
                },
                change: 'Cambiar',
                reset: 'Reiniciar',
                firstName: 'Nombre',
                initial: 'Segundo Nombre',
                lastName: 'Apellidos',
                gender: 'Género',
                male: 'Masculino',
                female: 'Femenino',
                undisclosed: 'No revelado',
                optional: 'Opcional',
                address: 'Dirección',
                phone: 'Teléfono',
                city: 'Ciudad',
                state: 'Estado',
                class: 'Clase',
                father: 'Padre',
                mother: 'Madre',
                name: 'Nombre',
                emergency: {
                    title: 'Contacto de Emergencia',
                    relationship: 'Relación'
                },
                delete: 'Borrar'
            }
        };
    }
    EditPage.prototype.ngOnInit = function () {
        this.student = __assign({}, this.student, { id: this.navParams.get('id') });
        try {
            var response = this.getStudentFromDB(this.student);
            if (response.success) {
                this.isActive = response.data.isActive;
                this.gender = response.data.gender;
                this.picture = response.data.picture;
                this.student = __assign({}, response.data);
            }
        }
        catch (error) {
            Object(_common_handleError__WEBPACK_IMPORTED_MODULE_3__["handleError"])(error);
        }
    };
    EditPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.storage.get('language').then(function (value) {
            if (value) {
                _this.language = value;
                _this.htmlControls = _this.LANGUAGE[value];
            }
            else {
                _this.language = 'english';
                _this.htmlControls = _this.LANGUAGE['english'];
            }
        });
    };
    EditPage.prototype.getStudentFromDB = function (student) {
        try {
            var response = this.db.getStudentById(student);
            return response;
        }
        catch (error) {
            Object(_common_handleError__WEBPACK_IMPORTED_MODULE_3__["handleError"])(error);
        }
    };
    EditPage.prototype.deleteStudent = function (opts) {
        return __awaiter(this, void 0, void 0, function () {
            var alert_1, alert_2;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.language === 'spanish')) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: '¡Advertencia!',
                                message: '¿Estas seguro que quieres borrar este récord?',
                                buttons: [
                                    {
                                        text: 'No'
                                    },
                                    {
                                        text: 'Si',
                                        handler: function () {
                                            var options = {
                                                header: '¡Éxito!',
                                                message: 'El estudiante fue borrado.'
                                            };
                                            // user has clicked the alert button
                                            // begin the alert's dismiss transition
                                            var navTransition = alert_1.dismiss();
                                            var response = __assign({}, _this.db.removeStudent(opts));
                                            if (response.success === true) {
                                                options = __assign({}, options, { event: 'delete' });
                                                navTransition.then(function () { return _this.showAdvancedAlert(options); });
                                            }
                                            else {
                                                Object(_common_handleError__WEBPACK_IMPORTED_MODULE_3__["handleError"])(response.error);
                                                options = {
                                                    header: 'Error',
                                                    message: 'Hubo un error tratando de borrar este récord. Por favor trate de nuevo.'
                                                };
                                                navTransition.then(function () { return _this.showAdvancedAlert(options); });
                                            }
                                            return false;
                                        }
                                    }
                                ]
                            })];
                    case 1:
                        alert_1 = _a.sent();
                        alert_1.present();
                        return [3 /*break*/, 4];
                    case 2: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Warning!',
                            message: 'Are you sure you want to delete this record?',
                            buttons: [
                                {
                                    text: 'No'
                                },
                                {
                                    text: 'Yes',
                                    handler: function () {
                                        var options = {
                                            header: 'Success!',
                                            message: 'Student was deleted.'
                                        };
                                        // user has clicked the alert button
                                        // begin the alert's dismiss transition
                                        var navTransition = alert_2.dismiss();
                                        var response = __assign({}, _this.db.removeStudent(opts));
                                        if (response.success === true) {
                                            options = __assign({}, options, { event: 'delete' });
                                            navTransition.then(function () { return _this.showAdvancedAlert(options); });
                                        }
                                        else {
                                            Object(_common_handleError__WEBPACK_IMPORTED_MODULE_3__["handleError"])(response.error);
                                            options = {
                                                header: 'Error',
                                                message: 'There was an error trying to delete the record. Please try again.'
                                            };
                                            navTransition.then(function () { return _this.showAdvancedAlert(options); });
                                        }
                                        return false;
                                    }
                                }
                            ]
                        })];
                    case 3:
                        alert_2 = _a.sent();
                        alert_2.present();
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    EditPage.prototype.editStudent = function (opts) {
        return __awaiter(this, void 0, void 0, function () {
            var options, picture, student_1, alert_3;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        options = { header: '', message: '', buttons: [] };
                        if (!(!opts.firstName || !opts.lastName || !opts.id)) return [3 /*break*/, 1];
                        if (this.language === 'spanish') {
                            options = __assign({}, options, { header: '¡Advertencia!', message: 'Algunos campos no están llenos.', buttons: ['Si'] });
                        }
                        else {
                            options = __assign({}, options, { header: 'Warning!', message: 'Some fields doesn\'t have the required info', buttons: ['Ok'] });
                        }
                        this.showSimpleAlert(options);
                        return [3 /*break*/, 3];
                    case 1:
                        opts = __assign({}, opts, { phoneNumber: opts.phoneNumber, emergencyContactPhoneNumber: opts.emergencyContactPhoneNumber });
                        picture = this.validatePicture({ gender: this.gender, picture: this.picture });
                        student_1 = __assign({}, Object(_common_format__WEBPACK_IMPORTED_MODULE_4__["trimText"])(opts), { picture: picture, gender: this.gender, isActive: this.isActive });
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: '¡Advertencia!',
                                message: "\u00BFEstas seguro que quieres editar el r\u00E9cord de " + opts.firstName + " " + opts.lastName + "?",
                                buttons: [
                                    {
                                        text: 'No'
                                    },
                                    {
                                        text: 'Yes',
                                        handler: function () {
                                            // user has clicked the alert button
                                            // begin the alert's dismiss transition
                                            var navTransition = alert_3.dismiss();
                                            var response = __assign({}, _this.db.updateStudent(student_1));
                                            if (response.success === true) {
                                                navTransition.then(function () {
                                                    options = {
                                                        header: '¡Éxito!',
                                                        message: opts.firstName + " " + opts.lastName + " ha sido editado."
                                                    };
                                                    _this.showAdvancedAlert(options);
                                                });
                                            }
                                            else {
                                                options = {
                                                    header: 'Error',
                                                    message: 'Hubo un error tratando de editar el récord. Por favor intente de nuevo.'
                                                };
                                                navTransition.then(function () { return _this.showAdvancedAlert(options); });
                                            }
                                            return false;
                                        }
                                    }
                                ]
                            })];
                    case 2:
                        alert_3 = _a.sent();
                        alert_3.present();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    EditPage.prototype.validatePicture = function (opts) {
        if (opts.gender === 'male' && opts.picture === '') {
            opts.picture = './assets/profilePics/defaultMale.png';
        }
        else if (opts.gender === 'female' && opts.picture === '') {
            opts.picture = './assets/profilePics/defaultFemale.png';
        }
        else if (opts.gender === 'undisclosed' && opts.picture === '') {
            opts.picture = './assets/profilePics/defaultUndisclosed.png';
        }
        return opts.picture;
    };
    /**
     * Browse phone gallery
     *
     * @memberof EditPage
     */
    EditPage.prototype.browsePicture = function () {
        var _this = this;
        var options = {
            quality: 100,
            sourceType: this.camera.PictureSourceType.SAVEDPHOTOALBUM,
            destinationType: this.camera.DestinationType.FILE_URI,
            mediaType: this.camera.MediaType.PICTURE,
            encodingType: this.camera.EncodingType.PNG,
            targetWidth: 250,
            targetHeight: 250
        };
        this.camera.getPicture(options)
            .then(function (imageData) {
            if (_this.platform.is('android')) {
                _this.picture = _this.webview.convertFileSrc(imageData);
                return 0;
            }
            var array = imageData.split('/');
            var fileName = array.pop();
            var directory = array.slice(0, array.length).join('/');
            var path = _this.file.dataDirectory;
            var outDirectory = 'images';
            _this.file.checkDir(path, outDirectory).then(function () {
                _this.file.copyFile(directory, fileName, path + outDirectory, fileName)
                    .then(function (image) { return _this.picture = _this.webview.convertFileSrc(image.nativeURL); })
                    .catch(function (e) {
                    if (e.code === 12) {
                        _this.picture = _this.webview.convertFileSrc(path + outDirectory + fileName);
                        return 0;
                    }
                    var opts = {
                        header: 'Error!',
                        message: JSON.stringify(e)
                    };
                    _this.showSimpleAlert(opts);
                });
            }).catch(function () {
                _this.file.createDir(path, outDirectory, true).then(function () {
                    _this.file.copyFile(directory, fileName, path + outDirectory, fileName)
                        .then(function (image) { return _this.picture = _this.webview.convertFileSrc(image.nativeURL); })
                        .catch(function (e) {
                        if (e.code === 12) {
                            _this.picture = _this.webview.convertFileSrc(path + outDirectory + fileName);
                            return 0;
                        }
                        var opts = {
                            header: 'Error',
                            message: JSON.stringify(e)
                        };
                        _this.showSimpleAlert(opts);
                    });
                });
            });
        }, function (error) { return Object(_common_handleError__WEBPACK_IMPORTED_MODULE_3__["handleError"])(error); });
    };
    EditPage.prototype.showSimpleAlert = function (options) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: options.header,
                            message: options.message,
                            buttons: options.buttons
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    EditPage.prototype.showAdvancedAlert = function (options) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: options.header,
                            message: options.message,
                            buttons: [{
                                    text: 'OK',
                                    handler: function () {
                                        // user has clicked the alert button
                                        // begin the alert's dismiss transition
                                        alert.dismiss()
                                            .then(function () {
                                            if (options['event'] === 'delete') {
                                                _this.modalCtrl.dismiss().then(function () { return _this.navCtrl.pop(); });
                                            }
                                            else {
                                                _this.modalCtrl.dismiss();
                                            }
                                        });
                                        return false;
                                    }
                                }]
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    EditPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-edit',
            template: __webpack_require__(/*! ./edit.page.html */ "./src/app/edit/edit.page.html"),
            styles: [__webpack_require__(/*! ./edit.page.scss */ "./src/app/edit/edit.page.scss")]
        }),
        __metadata("design:paramtypes", [_services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_1__["AmaranthusDBProvider"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavParams"],
            _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_5__["Camera"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_6__["WebView"],
            _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_7__["File"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_8__["Storage"]])
    ], EditPage);
    return EditPage;
}());



/***/ }),

/***/ "./src/app/editevent/editevent.module.ts":
/*!***********************************************!*\
  !*** ./src/app/editevent/editevent.module.ts ***!
  \***********************************************/
/*! exports provided: EditEventPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditEventPageModule", function() { return EditEventPageModule; });
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../components/components.module */ "./src/app/components/components.module.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _editevent_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./editevent.page */ "./src/app/editevent/editevent.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: '',
        component: _editevent_page__WEBPACK_IMPORTED_MODULE_6__["EditEventPage"]
    }
];
var EditEventPageModule = /** @class */ (function () {
    function EditEventPageModule() {
    }
    EditEventPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
                _components_components_module__WEBPACK_IMPORTED_MODULE_0__["ComponentsModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes)
            ],
            declarations: [_editevent_page__WEBPACK_IMPORTED_MODULE_6__["EditEventPage"]]
        })
    ], EditEventPageModule);
    return EditEventPageModule;
}());



/***/ }),

/***/ "./src/app/editevent/editevent.page.html":
/*!***********************************************!*\
  !*** ./src/app/editevent/editevent.page.html ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-title>{{htmlControls.toolbar.title}}</ion-title>\n    <ion-buttons slot=\"start\">\n      <app-cancel></app-cancel>\n    </ion-buttons>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"editEvent()\">\n        {{htmlControls.toolbar.buttons.edit}}\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding id=\"editevent\">\n  <div *ngIf=\"logo\" class=\"logo-image\"><img src=\"{{logo}}\" alt=\"A picture for the logo for the event\" /></div>\n  <div id=\"logo\">\n    <ion-button (click)=\"addLogo()\" type=\"button\" color=\"primary\">{{htmlControls.picture}}</ion-button>\n    <ion-button (click)=\"logo = ''\" type=\"button\" color=\"secondary\">{{htmlControls.reset}}</ion-button>\n  </div>\n  <ion-item>\n    <ion-label>\n        ({{htmlControls.optional}})\n    </ion-label>\n  </ion-item>\n  <ion-item>\n    <ion-label stacked>{{htmlControls.eventName}}</ion-label>\n    <ion-input type=\"text\" #name placeholder=\"Write your Event Name\" [(ngModel)]=\"eventName\"></ion-input>\n    <ion-icon id=\"form-icon\" item-right name=\"warning\" *ngIf=\"!name.value\"></ion-icon>\n  </ion-item>\n  <div *ngIf=\"!infiniteDates; else: noStartDate\">\n    <ion-item>\n      <ion-label>{{htmlControls.start}}</ion-label>\n      <ion-datetime *ngIf=\"language == 'spanish'\"\n        monthNames=\"Enero, Febrero, Marzo, Abril, Mayo, Junio, Julio, Agosto, Septiembre, Octubre, Noviembre, Diciembre\"\n        displayFormat=\"MMMM DD YYYY\" pickerFormat=\"MMMM DD YYYY\" [(ngModel)]=\"startDate\"></ion-datetime>\n      <ion-datetime *ngIf=\"language == 'english'\"\n        monthNames=\"January,February,March,April,May,June,July,August,September,October,November,December\"\n        displayFormat=\"MMMM DD YYYY\" pickerFormat=\"MMMM DD YYYY\" [(ngModel)]=\"startDate\"></ion-datetime>\n    </ion-item>\n  </div>\n  <ng-template #noStartDate>\n    <ion-item>\n      <ion-label fixed>{{htmlControls.start}}</ion-label>\n      <ion-input disabled></ion-input>\n    </ion-item>\n  </ng-template>\n  <ion-item>\n    <ion-label>{{htmlControls.hasEnd}}</ion-label>\n    <ion-checkbox [(ngModel)]=\"hasEndDate\"></ion-checkbox>\n  </ion-item>\n  <div *ngIf=\"!infiniteDates; else: noEndDate\">\n    <ion-item *ngIf=\"hasEndDate\" (ionChange)=\"resetEndDate()\">\n      <ion-label>{{htmlControls.end}}</ion-label>\n      <ion-datetime displayFormat=\"MMMM DD YYYY\" pickerFormat=\"MMMM DD YYYY\" [(ngModel)]=\"endDate\"></ion-datetime>\n      <ion-icon id=\"form-icon\" name=\"warning\" *ngIf=\"!this.endDate && hasEndDate\"></ion-icon>\n    </ion-item>\n  </div>\n  <ng-template #noEndDate>\n    <div *ngIf=\"hasEndDate\">\n      <ion-item>\n        <ion-label fixed>{{htmlControls.end}}</ion-label>\n        <ion-input disabled></ion-input>\n      </ion-item>\n    </div>\n  </ng-template>\n  <ion-item>\n    <ion-label>{{htmlControls.run}}</ion-label>\n    <ion-checkbox [(ngModel)]=\"infiniteDates\" color=\"primary\" checked=\"false\"></ion-checkbox>\n  </ion-item>\n  <ion-list lines=\"none\">\n    <ion-searchbar placeholder=\"{{htmlControls.search}}\" (ionInput)=\"search($event)\"></ion-searchbar>\n    <ion-grid>\n      <ion-row *ngFor=\"let student of students\">\n        <ion-col size=\"2\">\n          <ion-avatar>\n            <img src=\"{{student.picture}}\" alt=\"{{student.firstName}}'s profile image\">\n          </ion-avatar>\n        </ion-col>\n        <ion-col size=\"10\">\n          <ion-item>\n            <ion-label text-wrap>\n              <span class=\"label name\">{{htmlControls.studentName}}</span>\n              <span class=\"name\">{{student.firstName}} <span *ngIf=\"student.initial\">{{student.initial}}</span>\n                {{student.lastName}}</span>\n            </ion-label>\n          </ion-item>\n          <ion-item>\n            <ion-label>\n              <span class=\"label\">ID: </span>{{student.id}}\n            </ion-label>\n          </ion-item>\n        </ion-col>\n        <ion-buttons>\n          <ion-button fill=\"solid\" color=\"primary\" (click)=\"addToEvent(student.id)\">\n            {{htmlControls.add}}\n          </ion-button>\n          <ion-button fill=\"solid\" color=\"secondary\" (click)=\"removeFromEvent(student.id)\">\n            {{htmlControls.remove}}\n          </ion-button>\n        </ion-buttons>\n        <ion-item>\n          <ion-label class=\"left attended\" *ngIf=\"ifOnEventList(student.id)\">\n            {{student.firstName}}{{htmlControls.added}}\n          </ion-label>\n          <ion-label class=\"left attended\" *ngIf=\"!ifOnEventList(student.id)\">\n            {{student.firstName}}{{htmlControls.notAdded}}\n          </ion-label>\n        </ion-item>\n      </ion-row>\n    </ion-grid>\n  </ion-list>\n</ion-content>\n\n<ion-footer>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"end\">\n      <ion-button color=\"danger\" (click)=\"removeEvent()\">\n        {{htmlControls.delete}}\n      </ion-button>\n      <ion-button (click)=\"addAll()\">\n        {{htmlControls.toolbar.buttons.add}}\n      </ion-button>\n      <ion-button (click)=\"editEvent()\">\n        {{htmlControls.toolbar.buttons.edit}}\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-footer>"

/***/ }),

/***/ "./src/app/editevent/editevent.page.scss":
/*!***********************************************!*\
  !*** ./src/app/editevent/editevent.page.scss ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#editevent #logo {\n  display: inline-flex; }\n\n#editevent #logo p {\n  font-size: 16px; }\n\n#editevent #form-icon {\n  color: var(--ion-color-primary); }\n\n#editevent .label {\n  font-weight: bolder; }\n\n#editevent .name {\n  font-size: 130%; }\n\n#editevent .left {\n  float: left; }\n\n#editevent .right {\n  float: right;\n  color: #8da2f7; }\n\n#editevent .attended {\n  color: #e6a4a4; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lc3RlYmFubW9yYWxlcy9Qcm9qZWN0cy9hbWFyYW50aHVzMi9zcmMvYXBwL2VkaXRldmVudC9lZGl0ZXZlbnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksb0JBQW9CLEVBQUE7O0FBRnhCO0VBS0ksZUFBZSxFQUFBOztBQUxuQjtFQVFJLCtCQUErQixFQUFBOztBQVJuQztFQVdJLG1CQUFtQixFQUFBOztBQVh2QjtFQWNJLGVBQWUsRUFBQTs7QUFkbkI7RUFpQkksV0FBVyxFQUFBOztBQWpCZjtFQW9CSSxZQUFZO0VBQ1osY0FBeUIsRUFBQTs7QUFyQjdCO0VBd0JJLGNBQXlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9lZGl0ZXZlbnQvZWRpdGV2ZW50LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNlZGl0ZXZlbnQge1xuICAjbG9nbyB7XG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIH1cbiAgI2xvZ28gcCB7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICB9XG4gICNmb3JtLWljb24ge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gIH1cbiAgLmxhYmVsIHtcbiAgICBmb250LXdlaWdodDogYm9sZGVyO1xuICB9XG4gIC5uYW1lIHtcbiAgICBmb250LXNpemU6IDEzMCU7XG4gIH1cbiAgLmxlZnQge1xuICAgIGZsb2F0OiBsZWZ0O1xuICB9XG4gIC5yaWdodCB7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIGNvbG9yOiByZ2IoMTQxLCAxNjIsIDI0Nyk7XG4gIH1cbiAgLmF0dGVuZGVkIHtcbiAgICBjb2xvcjogcmdiKDIzMCwgMTY0LCAxNjQpO1xuICB9XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/editevent/editevent.page.ts":
/*!*********************************************!*\
  !*** ./src/app/editevent/editevent.page.ts ***!
  \*********************************************/
/*! exports provided: EditEventPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditEventPage", function() { return EditEventPage; });
/* harmony import */ var _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ionic-native/ionic-webview/ngx */ "./node_modules/@ionic-native/ionic-webview/ngx/index.js");
/* harmony import */ var _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic-native/camera/ngx */ "./node_modules/@ionic-native/camera/ngx/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/amaranthus-db/amaranthus-db */ "./src/app/services/amaranthus-db/amaranthus-db.ts");
/* harmony import */ var _common_handleError__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/handleError */ "./src/app/common/handleError.ts");
/* harmony import */ var _create_create_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../create/create.page */ "./src/app/create/create.page.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var EditEventPage = /** @class */ (function () {
    function EditEventPage(navCtrl, navParams, camera, platform, modalCtrl, db, alertCtrl, file, storage, webview) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.camera = camera;
        this.platform = platform;
        this.modalCtrl = modalCtrl;
        this.db = db;
        this.alertCtrl = alertCtrl;
        this.file = file;
        this.storage = storage;
        this.webview = webview;
        this.htmlControls = {
            toolbar: {
                title: '',
                buttons: {
                    add: '',
                    edit: ''
                }
            },
            picture: '',
            reset: '',
            optional: '',
            eventName: '',
            placeholder: '',
            start: '',
            hasEnd: '',
            end: '',
            run: '',
            search: '',
            studentName: '',
            add: '',
            remove: '',
            added: '',
            notAdded: '',
            delete: ''
        };
        this.LANGUAGE = {
            english: {
                toolbar: {
                    title: 'Edit Event',
                    buttons: {
                        add: 'Add All',
                        edit: 'Save'
                    }
                },
                picture: 'Add a Picture',
                reset: 'Reset',
                optional: 'Optional',
                eventName: 'Name',
                placeholder: 'Write your Event Name',
                start: 'Start Date:',
                hasEnd: 'Has End Date?',
                end: 'End Date:',
                run: 'Run Indefinitely',
                search: 'Search by ID or Name',
                studentName: 'Name: ',
                add: 'Add',
                remove: 'Remove',
                added: ' was added to events list!',
                notAdded: " wasn't added to events list!",
                delete: 'Delete'
            },
            spanish: {
                toolbar: {
                    title: 'Editar Evento',
                    buttons: {
                        add: 'Añadir todos',
                        edit: 'Editar'
                    }
                },
                picture: 'Añadir imagen',
                reset: 'Reiniciar',
                optional: 'Opcional',
                eventName: 'Nombre',
                placeholder: 'Escribe un nombre para el evento',
                start: 'Inicia en:',
                hasEnd: '¿Tiene fecha final?',
                end: 'Termina en:',
                run: 'Corre indefinidamente',
                search: 'Busca por ID or nombre',
                studentName: 'Nombre: ',
                add: 'Añadir',
                remove: 'Remover',
                added: ' fue añadido al evento.',
                notAdded: " no fue a\u00F1adido al evento.",
                delete: 'Borrar'
            }
        };
    }
    EditEventPage.prototype.ngOnInit = function () {
        this.getStudents();
        this.id = this.navParams.get('id');
        this.getEventProfile(this.id);
    };
    EditEventPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.storage.get('language').then(function (value) {
            if (value) {
                _this.htmlControls = _this.LANGUAGE[value];
                _this.language = value;
            }
            else {
                _this.language = 'english';
                _this.htmlControls = _this.LANGUAGE['english'];
            }
        });
    };
    EditEventPage.prototype.addAll = function () {
        for (var _i = 0, _a = this.STUDENTS; _i < _a.length; _i++) {
            var student = _a[_i];
            this.addToEvent(student.id);
        }
    };
    EditEventPage.prototype.getEventProfile = function (id) {
        this.studentIds = [];
        var response = this.db.getEvent(id);
        if (response.success) {
            this.event = __assign({}, response.data);
            this.infiniteDates = this.event.infiniteDates;
            this.logo = response.data.logo;
            this.eventName = response.data.name;
            this.startDate = response.data.startDate;
            this.endDate = response.data.endDate;
            // this.students = members;
            this.studentIds = response.data.members.map(function (member) { return member.id; });
        }
        else {
            Object(_common_handleError__WEBPACK_IMPORTED_MODULE_5__["handleError"])(response.error);
        }
    };
    EditEventPage.prototype.resetEndDate = function () {
        this.endDate = '';
    };
    EditEventPage.prototype.editEvent = function () {
        return __awaiter(this, void 0, void 0, function () {
            var opts, opts, opts, members, alert_1, alert_2, error_1, opts;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 5, , 6]);
                        if (this.studentIds.length < 1) {
                            opts = void 0;
                            if (this.language === 'spanish') {
                                opts = {
                                    header: 'Error',
                                    message: '¡Tienes que escoger por lo menos un usario de la lista!'
                                };
                            }
                            else {
                                opts = {
                                    header: 'Error',
                                    message: 'Have to choose at least one user from the list!'
                                };
                            }
                            this.showSimpleAlert(opts);
                            return [2 /*return*/];
                        }
                        if (!this.startDate && !this.infiniteDates) {
                            opts = void 0;
                            if (this.language === 'spanish') {
                                opts = {
                                    header: 'Error',
                                    message: 'Tienes que escoger una fecha de inicio!'
                                };
                            }
                            else {
                                opts = {
                                    header: 'Error',
                                    message: 'Have to choose a start date!'
                                };
                            }
                            this.showSimpleAlert(opts);
                            return [2 /*return*/];
                        }
                        if (!this.eventName) {
                            opts = void 0;
                            if (this.language === 'spanish') {
                                opts = {
                                    header: 'Error',
                                    message: '¡Tienes que escribir un nombre para el evento!'
                                };
                            }
                            else {
                                opts = {
                                    header: 'Error',
                                    message: 'Have to write a name for the event!'
                                };
                            }
                            this.showSimpleAlert(opts);
                            return [2 /*return*/];
                        }
                        members = this.studentIds.map(function (studentId) {
                            var member = _this.event.members.find(function (data) { return studentId === data.id; });
                            if (member) {
                                return member;
                            }
                            else {
                                return {
                                    id: studentId,
                                    attendance: false,
                                    absence: false
                                };
                            }
                        });
                        this.event = __assign({}, this.event, { logo: this.logo, name: this.eventName, startDate: '', members: members.slice(), endDate: '', infiniteDates: this.infiniteDates });
                        if (!this.event.infiniteDates) {
                            this.event = __assign({}, this.event, { startDate: this.startDate });
                        }
                        if (this.endDate && !this.event.infiniteDates) {
                            this.event = __assign({}, this.event, { endDate: this.endDate });
                        }
                        else if (!this.hasEndDate) {
                            this.resetEndDate();
                        }
                        if (!(this.language === 'spanish')) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: '¡Advertencia!',
                                message: "\u00BFEst\u00E1s seguro que quieres editar el evento " + this.eventName + "?",
                                buttons: [
                                    { text: 'No' },
                                    {
                                        text: 'Si',
                                        handler: function () {
                                            // user has clicked the alert button
                                            // begin the alert's dismiss transition
                                            var navTransition = alert_1.dismiss();
                                            var response = _this.db.updateEvent(_this.event);
                                            if (response.success === true) {
                                                navTransition.then(function () {
                                                    var options = {
                                                        header: '¡Éxito!',
                                                        message: _this.eventName + " fue editado exitosamente."
                                                    };
                                                    _this.showAdvancedAlert(options);
                                                });
                                            }
                                            else {
                                                var options_1 = {
                                                    header: 'Error',
                                                    message: 'Usuario no se pudo editar. Por favor trate de nuevo.'
                                                };
                                                navTransition.then(function () { return _this.showAdvancedAlert(options_1); });
                                            }
                                            return false;
                                        }
                                    }
                                ]
                            })];
                    case 1:
                        alert_1 = _a.sent();
                        alert_1.present();
                        return [3 /*break*/, 4];
                    case 2: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Warning!',
                            message: "Are you sure you want to edit " + this.eventName + " event?",
                            buttons: [
                                { text: 'No' },
                                {
                                    text: 'Yes',
                                    handler: function () {
                                        // user has clicked the alert button
                                        // begin the alert's dismiss transition
                                        var navTransition = alert_2.dismiss();
                                        var response = _this.db.updateEvent(_this.event);
                                        if (response.success === true) {
                                            navTransition.then(function () {
                                                var options = {
                                                    header: 'Success!',
                                                    message: _this.eventName + " was edited successfully."
                                                };
                                                _this.showAdvancedAlert(options);
                                            });
                                        }
                                        else {
                                            var options_2 = {
                                                header: 'Error',
                                                message: 'User couldn\'t be edited. Please try again!'
                                            };
                                            navTransition.then(function () { return _this.showAdvancedAlert(options_2); });
                                        }
                                        return false;
                                    }
                                }
                            ]
                        })];
                    case 3:
                        alert_2 = _a.sent();
                        alert_2.present();
                        _a.label = 4;
                    case 4: return [3 /*break*/, 6];
                    case 5:
                        error_1 = _a.sent();
                        opts = {
                            header: 'Error',
                            message: error_1
                        };
                        this.showSimpleAlert(opts);
                        return [3 /*break*/, 6];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    EditEventPage.prototype.getStudents = function () {
        this.students = [];
        this.STUDENTS = [];
        var response = this.db.getAllStudents(true);
        if (response.success) {
            this.students = response.data.slice();
            this.STUDENTS = response.data.slice();
        }
    };
    EditEventPage.prototype.initializeStudentsList = function () {
        this.students = this.STUDENTS.slice();
    };
    EditEventPage.prototype.search = function (event) {
        var query = event.target.value;
        query ? this.filterStudentsList(query) : this.initializeStudentsList();
    };
    EditEventPage.prototype.filterStudentsList = function (query) {
        var students = this.STUDENTS.slice();
        var fullName;
        var newQuery = students.filter(function (student) {
            fullName = (student.firstName + " " + student.lastName).toLowerCase();
            if (student.id === query ||
                student.firstName.toLowerCase().includes(query.toLowerCase()) ||
                student.lastName.toLowerCase().includes(query.toLowerCase()) ||
                fullName === query.toLowerCase()) {
                return student;
            }
        });
        this.students = newQuery.slice();
    };
    EditEventPage.prototype.addLogo = function () {
        var _this = this;
        if (this.platform.is('cordova')) {
            var options = {
                quality: 100,
                sourceType: this.camera.PictureSourceType.SAVEDPHOTOALBUM,
                destinationType: this.camera.DestinationType.FILE_URI,
                mediaType: this.camera.MediaType.PICTURE,
                encodingType: this.camera.EncodingType.PNG,
                targetWidth: 250,
                targetHeight: 250
            };
            this.camera.getPicture(options)
                .then(function (imageData) {
                if (_this.platform.is('android')) {
                    _this.logo = _this.webview.convertFileSrc(imageData);
                    return 0;
                }
                var array = imageData.split('/');
                var fileName = array.pop();
                var directory = array.slice(0, array.length).join('/');
                var path = _this.file.dataDirectory;
                var outDirectory = 'images';
                _this.file.checkDir(path, outDirectory).then(function () {
                    _this.file.copyFile(directory, fileName, path + outDirectory, fileName)
                        .then(function (image) { return _this.logo = _this.webview.convertFileSrc(image.nativeURL); })
                        .catch(function (e) {
                        if (e.code === 12) {
                            _this.logo = _this.webview.convertFileSrc(path + outDirectory + fileName);
                            return 0;
                        }
                        var opts = {
                            header: 'Error!',
                            message: JSON.stringify(e)
                        };
                        _this.showSimpleAlert(opts);
                    });
                }).catch(function () {
                    _this.file.createDir(path, outDirectory, true).then(function () {
                        _this.file.copyFile(directory, fileName, path + outDirectory, fileName)
                            .then(function (image) { return _this.logo = _this.webview.convertFileSrc(image.nativeURL); })
                            .catch(function (e) {
                            if (e.code === 12) {
                                _this.logo = _this.webview.convertFileSrc(path + outDirectory + fileName);
                                return 0;
                            }
                            var opts = {
                                header: 'Error',
                                message: JSON.stringify(e)
                            };
                            _this.showSimpleAlert(opts);
                        });
                    });
                });
            }, function (error) { return Object(_common_handleError__WEBPACK_IMPORTED_MODULE_5__["handleError"])(error); });
        }
        else {
            // Only for Dev Purposes
            // this.logo = `https://firebasestorage.googleapis.com/v0/b/ageratum-ec8a3.appspot.com
            // /o/cordova_logo_normal_dark.png?alt=media&token=3b89f56e-8685-4f56-b5d7-2441f8857
            // f97`;
        }
    };
    EditEventPage.prototype.addToEvent = function (id) {
        if (this.studentIds.indexOf(id) === -1) {
            this.studentIds = this.studentIds.concat([id]);
        }
    };
    EditEventPage.prototype.removeFromEvent = function (id) {
        var newStudentIds = this.studentIds.slice(0, this.studentIds.indexOf(id)).concat(this.studentIds.slice(this.studentIds.indexOf(id) + 1, this.studentIds.length));
        this.studentIds = newStudentIds.slice();
    };
    EditEventPage.prototype.addStudent = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.modalCtrl.create({
                            component: _create_create_page__WEBPACK_IMPORTED_MODULE_6__["CreatePage"]
                        })];
                    case 1:
                        modal = _a.sent();
                        modal.present();
                        modal.onDidDismiss().then(function (_) { return _this.getStudents(); });
                        return [2 /*return*/];
                }
            });
        });
    };
    EditEventPage.prototype.ifOnEventList = function (id) {
        if (this.studentIds.indexOf(id) !== -1) {
            return true;
        }
        return false;
    };
    /**
     *
     * @param options
     * Show a message on the screen
     */
    EditEventPage.prototype.showSimpleAlert = function (options) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: options.header,
                            message: options.message,
                            buttons: options.buttons
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    EditEventPage.prototype.showAdvancedAlert = function (options) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: options.header,
                            message: options.message,
                            buttons: [{
                                    text: 'OK',
                                    handler: function () {
                                        // user has clicked the alert button
                                        // begin the alert's dismiss transition
                                        alert.dismiss()
                                            .then(function () {
                                            if (options['event'] === 'delete') {
                                                _this.navCtrl.navigateRoot('/tabs/tabs/home/events').then(function () { return _this.modalCtrl.dismiss(); });
                                            }
                                            else {
                                                _this.modalCtrl.dismiss(_this.id);
                                            }
                                        });
                                        return false;
                                    }
                                }]
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    EditEventPage.prototype.removeEvent = function () {
        return __awaiter(this, void 0, void 0, function () {
            var alert_3, alert_4, error_2;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 5, , 6]);
                        if (!(this.language === 'spanish')) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: '¡Advertencia!',
                                message: "\u00BFEst\u00E1s seguro que quieres borrar el evento " + this.eventName + "?",
                                buttons: [
                                    { text: 'No' },
                                    {
                                        text: 'Si',
                                        handler: function () {
                                            // user has clicked the alert button
                                            // begin the alert's dismiss transition
                                            var navTransition = alert_3.dismiss();
                                            var response = _this.db.removeEvent(_this.event);
                                            if (response.success === true) {
                                                _this.id = undefined;
                                                navTransition.then(function () {
                                                    var opts = {
                                                        header: '¡éxisto!',
                                                        message: '¡El evento se borro exitosamente!',
                                                        event: 'delete'
                                                    };
                                                    _this.showAdvancedAlert(opts);
                                                });
                                            }
                                            else {
                                                var options_3 = {
                                                    header: 'Error',
                                                    message: response.error
                                                };
                                                navTransition.then(function () { return _this.showAdvancedAlert(options_3); });
                                            }
                                            return false;
                                        }
                                    }
                                ]
                            })];
                    case 1:
                        alert_3 = _a.sent();
                        alert_3.present();
                        return [3 /*break*/, 4];
                    case 2: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Warning!',
                            message: "Are you sure you want to delete " + this.eventName + " event?",
                            buttons: [
                                { text: 'No' },
                                {
                                    text: 'Yes',
                                    handler: function () {
                                        // user has clicked the alert button
                                        // begin the alert's dismiss transition
                                        var navTransition = alert_4.dismiss();
                                        var response = _this.db.removeEvent(_this.event);
                                        if (response.success === true) {
                                            _this.id = undefined;
                                            navTransition.then(function () {
                                                var opts = {
                                                    header: 'Success!',
                                                    message: 'Event was removed successfully!',
                                                    event: 'delete'
                                                };
                                                _this.showAdvancedAlert(opts);
                                            });
                                        }
                                        else {
                                            var options_4 = {
                                                header: 'Error',
                                                message: response.error
                                            };
                                            navTransition.then(function () { return _this.showAdvancedAlert(options_4); });
                                        }
                                        return false;
                                    }
                                }
                            ]
                        })];
                    case 3:
                        alert_4 = _a.sent();
                        alert_4.present();
                        _a.label = 4;
                    case 4: return [3 /*break*/, 6];
                    case 5:
                        error_2 = _a.sent();
                        Object(_common_handleError__WEBPACK_IMPORTED_MODULE_5__["handleError"])(error_2);
                        return [3 /*break*/, 6];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    EditEventPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
            selector: 'app-editevent',
            template: __webpack_require__(/*! ./editevent.page.html */ "./src/app/editevent/editevent.page.html"),
            styles: [__webpack_require__(/*! ./editevent.page.scss */ "./src/app/editevent/editevent.page.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavParams"],
            _ionic_native_camera_ngx__WEBPACK_IMPORTED_MODULE_1__["Camera"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"],
            _services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_4__["AmaranthusDBProvider"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"],
            _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_8__["File"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_7__["Storage"],
            _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_0__["WebView"]])
    ], EditEventPage);
    return EditEventPage;
}());



/***/ }),

/***/ "./src/app/export/export.module.ts":
/*!*****************************************!*\
  !*** ./src/app/export/export.module.ts ***!
  \*****************************************/
/*! exports provided: ExportPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExportPageModule", function() { return ExportPageModule; });
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../components/components.module */ "./src/app/components/components.module.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _export_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./export.page */ "./src/app/export/export.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: '',
        component: _export_page__WEBPACK_IMPORTED_MODULE_6__["ExportPage"]
    }
];
var ExportPageModule = /** @class */ (function () {
    function ExportPageModule() {
    }
    ExportPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
                _components_components_module__WEBPACK_IMPORTED_MODULE_0__["ComponentsModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes)
            ],
            declarations: [_export_page__WEBPACK_IMPORTED_MODULE_6__["ExportPage"]]
        })
    ], ExportPageModule);
    return ExportPageModule;
}());



/***/ }),

/***/ "./src/app/export/export.page.html":
/*!*****************************************!*\
  !*** ./src/app/export/export.page.html ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-title>{{htmlControls.toolbar.title}}</ion-title>\n    <ion-buttons slot=\"start\">\n      <app-cancel></app-cancel>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n  <ion-list>\n    <ion-radio-group>\n      <ion-list-header>\n        {{htmlControls.header}}\n      </ion-list-header>\n\n      <ion-item>\n        <ion-label>{{htmlControls.month}}</ion-label>\n        <ion-radio checked=\"true\" (ionSelect)=\"month = true;  day = false;\"></ion-radio>\n      </ion-item>\n\n      <ion-item>\n        <ion-label>{{htmlControls.day}}</ion-label>\n        <ion-radio (ionSelect)=\"month = false; day = true;\"></ion-radio>\n      </ion-item>\n    </ion-radio-group>\n\n    <ion-item *ngIf=\"month\">\n      <ion-label>{{htmlControls.date}}</ion-label>\n      <ion-datetime *ngIf=\"language == 'spanish'\" monthNames=\"Enero, Febrero, Marzo, Abril, Mayo, Junio, Julio, Agosto, Septiembre, Octubre, Noviembre, Diciembre\"  [(ngModel)]=\"date\" value=\"date\" displayFormat=\"MMMM, YYYY\"\n        pickerFormat=\"MMMM YYYY\">\n      </ion-datetime>\n      <ion-datetime *ngIf=\"language == 'english'\" monthNames=\"January,February,March,April,May,June,July,August,September,October,November,December\"  [(ngModel)]=\"date\" value=\"date\" displayFormat=\"MMMM, YYYY\"\n      pickerFormat=\"MMMM YYYY\">\n    </ion-datetime>\n    </ion-item>\n\n    <ion-item *ngIf=\"day\">\n      <ion-label>{{htmlControls.date}}</ion-label>\n      <ion-datetime *ngIf=\"language == 'spanish'\" monthNames=\"Enero, Febrero, Marzo, Abril, Mayo, Junio, Julio, Agosto, Septiembre, Octubre, Noviembre, Diciembre\" [(ngModel)]=\"date\" value=\"date\" displayFormat=\"MMMM DD, YYYY\"\n      pickerFormat=\"MMMM DD YYYY\">\n    </ion-datetime>\n      <ion-datetime *ngIf=\"language == 'english'\" monthNames=\"January,February,March,April,May,June,July,August,September,October,November,December\" [(ngModel)]=\"date\" value=\"date\" displayFormat=\"MMMM DD, YYYY\"\n        pickerFormat=\"MMMM DD YYYY\">\n      </ion-datetime>\n    </ion-item>\n\n    <ion-button fill=\"solid\" color=\"primary\" (click)=\"exportAsText()\" expand=\"block\">\n      {{htmlControls.texttab}}\n    </ion-button>\n    <ion-button fill=\"solid\" color=\"secondary\" (click)=\"exportAsCSV()\" expand=\"block\">\n      {{htmlControls.csv}}\n    </ion-button>\n    <ion-button fill=\"solid\" color=\"tertiary\" (click)=\"exportAsXLSX()\" expand=\"block\">\n      {{htmlControls.xlsx}}\n    </ion-button>\n  </ion-list>\n</ion-content>"

/***/ }),

/***/ "./src/app/export/export.page.scss":
/*!*****************************************!*\
  !*** ./src/app/export/export.page.scss ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2V4cG9ydC9leHBvcnQucGFnZS5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/export/export.page.ts":
/*!***************************************!*\
  !*** ./src/app/export/export.page.ts ***!
  \***************************************/
/*! exports provided: ExportPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExportPage", function() { return ExportPage; });
/* harmony import */ var _services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../services/amaranthus-db/amaranthus-db */ "./src/app/services/amaranthus-db/amaranthus-db.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_csv_csv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/csv/csv */ "./src/app/services/csv/csv.ts");
/* harmony import */ var _services_text_tab_delimited_text_tab_delimited__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/text-tab-delimited/text-tab-delimited */ "./src/app/services/text-tab-delimited/text-tab-delimited.ts");
/* harmony import */ var _services_file_file__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/file/file */ "./src/app/services/file/file.ts");
/* harmony import */ var _services_xslx_xslx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/xslx/xslx */ "./src/app/services/xslx/xslx.ts");
/* harmony import */ var _common_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/constants */ "./src/app/common/constants.ts");
/* harmony import */ var _common_handleError__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/handleError */ "./src/app/common/handleError.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _common_validation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/validation */ "./src/app/common/validation.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












var ExportPage = /** @class */ (function () {
    function ExportPage(loading, modal, csv, textTab, file, xlsx, db, route, storage) {
        this.loading = loading;
        this.modal = modal;
        this.csv = csv;
        this.textTab = textTab;
        this.file = file;
        this.xlsx = xlsx;
        this.db = db;
        this.route = route;
        this.storage = storage;
        this.htmlControls = {
            toolbar: {
                title: ''
            },
            header: '',
            month: '',
            day: '',
            date: '',
            texttab: '',
            csv: '',
            xlsx: ''
        };
        this.LANGUAGE = {
            spanish: {
                toolbar: {
                    title: 'Exportar'
                },
                header: 'Escoje la fecha',
                month: 'Por mes: ',
                day: 'Por día: ',
                date: 'Fecha: ',
                texttab: 'Exportar como texto delimitado',
                csv: 'Exportar como CSV',
                xlsx: 'Exportar como XLSX'
            },
            english: {
                toolbar: {
                    title: 'Export'
                },
                header: 'Choose date',
                month: 'By month: ',
                day: 'By day: ',
                date: 'Date',
                texttab: 'Export as Text Tab Delimited',
                csv: 'Export as CSV',
                xlsx: 'Export as XLSX'
            }
        };
        this.students = [];
        this.month = true;
        this.day = false;
    }
    ExportPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.storage.get('language').then(function (value) {
            if (value) {
                _this.htmlControls = _this.LANGUAGE[value];
                _this.language = value;
            }
            else {
                _this.language = 'english';
                _this.htmlControls = _this.LANGUAGE['english'];
            }
        });
        var date = new Date();
        this.date = date.getFullYear() + "-" + Object(_common_validation__WEBPACK_IMPORTED_MODULE_10__["addZeroInFront"])(date.getMonth() + 1) + "-" + Object(_common_validation__WEBPACK_IMPORTED_MODULE_10__["addZeroInFront"])(date.getDate());
        this.event = this.route.snapshot.paramMap.get('event');
        if (!this.event) {
            this.event = '';
        }
    };
    /**
   *
   *
   * @memberof ExportPage
   */
    ExportPage.prototype.exportAsXLSX = function () {
        return __awaiter(this, void 0, void 0, function () {
            var xlsxResponse, fileName, loading, fileResponse, error_1, error_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.month) {
                            this.date = this.date.slice(0, 7);
                        }
                        fileName = "AttendanceLog " + this.date + ".xlsx";
                        this.getRecordsByDate({ query: 'Date', date: this.date });
                        return [4 /*yield*/, this.loading.create({
                                message: 'Creating the File...'
                            })];
                    case 1:
                        loading = _a.sent();
                        loading.present();
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 11, , 12]);
                        if (!this.month) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.xlsx.exportXLSXToFile({ type: _common_constants__WEBPACK_IMPORTED_MODULE_7__["recordType"].month, records: this.students })];
                    case 3:
                        xlsxResponse = _a.sent();
                        _a.label = 4;
                    case 4:
                        if (!this.day) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.xlsx.exportXLSXToFile({ type: _common_constants__WEBPACK_IMPORTED_MODULE_7__["recordType"].day, records: this.students })];
                    case 5:
                        xlsxResponse = _a.sent();
                        _a.label = 6;
                    case 6:
                        if (!xlsxResponse.success) return [3 /*break*/, 10];
                        _a.label = 7;
                    case 7:
                        _a.trys.push([7, 9, , 10]);
                        return [4 /*yield*/, this.file.exportFile({
                                fileName: fileName,
                                text: xlsxResponse.data,
                                type: 'xlsx'
                            })];
                    case 8:
                        fileResponse = _a.sent();
                        if (fileResponse.success) {
                            loading.dismiss();
                            this.modal.dismiss(fileResponse.data);
                        }
                        return [3 /*break*/, 10];
                    case 9:
                        error_1 = _a.sent();
                        loading.dismiss();
                        this.modal.dismiss(error_1);
                        return [3 /*break*/, 10];
                    case 10: return [3 /*break*/, 12];
                    case 11:
                        error_2 = _a.sent();
                        loading.dismiss();
                        this.modal.dismiss('There was an error while creating the file. Please try again later!');
                        return [3 /*break*/, 12];
                    case 12: return [2 /*return*/];
                }
            });
        });
    };
    /**
   *
   *
   * @memberof ExportPage
   */
    ExportPage.prototype.exportAsText = function () {
        return __awaiter(this, void 0, void 0, function () {
            var textTabResponse, fileName, loading, fileResponse, error_3, error_4;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.month) {
                            this.date = this.date.slice(0, 7);
                        }
                        fileName = "AttendanceLog " + this.date + ".txt";
                        this.getRecordsByDate({ query: 'Date', date: this.date });
                        return [4 /*yield*/, this.loading.create({
                                message: 'Creating the File...'
                            })];
                    case 1:
                        loading = _a.sent();
                        loading.present();
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 11, , 12]);
                        if (!this.month) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.textTab.exportTextTabDelimited({ type: _common_constants__WEBPACK_IMPORTED_MODULE_7__["recordType"].month, records: this.students })];
                    case 3:
                        textTabResponse = _a.sent();
                        _a.label = 4;
                    case 4:
                        if (!this.day) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.textTab.exportTextTabDelimited({ type: _common_constants__WEBPACK_IMPORTED_MODULE_7__["recordType"].day, records: this.students })];
                    case 5:
                        textTabResponse = _a.sent();
                        _a.label = 6;
                    case 6:
                        if (!textTabResponse.success) return [3 /*break*/, 10];
                        _a.label = 7;
                    case 7:
                        _a.trys.push([7, 9, , 10]);
                        return [4 /*yield*/, this.file.exportFile({
                                fileName: fileName,
                                text: textTabResponse.data,
                                type: 'txt'
                            })];
                    case 8:
                        fileResponse = _a.sent();
                        if (fileResponse.success) {
                            loading.dismiss();
                            this.modal.dismiss(fileResponse.data);
                        }
                        return [3 /*break*/, 10];
                    case 9:
                        error_3 = _a.sent();
                        loading.dismiss();
                        this.modal.dismiss(error_3);
                        return [3 /*break*/, 10];
                    case 10: return [3 /*break*/, 12];
                    case 11:
                        error_4 = _a.sent();
                        loading.dismiss();
                        this.modal.dismiss('There was an error while creating the file. Please try again later!');
                        return [3 /*break*/, 12];
                    case 12: return [2 /*return*/];
                }
            });
        });
    };
    /**
     *
     *
     * @memberof ExportPage
     */
    ExportPage.prototype.exportAsCSV = function () {
        return __awaiter(this, void 0, void 0, function () {
            var csvResponse, fileName, loading, fileResponse, error_5, error_6;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.month) {
                            this.date = this.date.slice(0, 7);
                        }
                        fileName = "AttendanceLog " + this.date + ".csv";
                        this.getRecordsByDate({ query: 'Date', date: this.date });
                        return [4 /*yield*/, this.loading.create({
                                message: 'Creating the File...'
                            })];
                    case 1:
                        loading = _a.sent();
                        loading.present();
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 11, , 12]);
                        if (!this.month) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.csv.exportCSV({ type: _common_constants__WEBPACK_IMPORTED_MODULE_7__["recordType"].month, records: this.students })];
                    case 3:
                        csvResponse = _a.sent();
                        _a.label = 4;
                    case 4:
                        if (!this.day) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.csv.exportCSV({ type: _common_constants__WEBPACK_IMPORTED_MODULE_7__["recordType"].day, records: this.students })];
                    case 5:
                        csvResponse = _a.sent();
                        _a.label = 6;
                    case 6:
                        if (!csvResponse.success) return [3 /*break*/, 10];
                        _a.label = 7;
                    case 7:
                        _a.trys.push([7, 9, , 10]);
                        return [4 /*yield*/, this.file.exportFile({
                                fileName: fileName,
                                text: csvResponse.data,
                                type: 'csv'
                            })];
                    case 8:
                        fileResponse = _a.sent();
                        if (fileResponse.success) {
                            loading.dismiss();
                            this.modal.dismiss(fileResponse.data);
                        }
                        return [3 /*break*/, 10];
                    case 9:
                        error_5 = _a.sent();
                        loading.dismiss();
                        this.modal.dismiss(error_5);
                        return [3 /*break*/, 10];
                    case 10: return [3 /*break*/, 12];
                    case 11:
                        error_6 = _a.sent();
                        loading.dismiss();
                        this.modal.dismiss('There was an error while creating the file. Please try again later!');
                        return [3 /*break*/, 12];
                    case 12: return [2 /*return*/];
                }
            });
        });
    };
    /**
  *
  *
  * @memberof StatsPage
  * Query can have values of Date
  */
    ExportPage.prototype.getRecordsByDate = function (opts) {
        try {
            var dateVal = opts.date.split('-');
            var date = void 0;
            if (dateVal.length === 2) {
                date = {
                    year: parseInt(dateVal[0]),
                    month: parseInt(dateVal[1]),
                    day: null
                };
            }
            else {
                date = {
                    year: parseInt(dateVal[0]),
                    month: parseInt(dateVal[1]),
                    day: parseInt(dateVal[2])
                };
            }
            var response = this.db.getQueriedRecords({ event: this.event, query: opts.query, date: date });
            if (response.success === true) {
                this.students = response.data.slice();
            }
            else {
                // TODO:  implement an alert message if it fails message should say no students
                // can be retrieved.
                Object(_common_handleError__WEBPACK_IMPORTED_MODULE_8__["handleError"])(response.error);
            }
        }
        catch (error) {
            Object(_common_handleError__WEBPACK_IMPORTED_MODULE_8__["handleError"])(error);
        }
    };
    ExportPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-export',
            template: __webpack_require__(/*! ./export.page.html */ "./src/app/export/export.page.html"),
            styles: [__webpack_require__(/*! ./export.page.scss */ "./src/app/export/export.page.scss")]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["LoadingController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _services_csv_csv__WEBPACK_IMPORTED_MODULE_3__["CSVProvider"],
            _services_text_tab_delimited_text_tab_delimited__WEBPACK_IMPORTED_MODULE_4__["TextTabDelimitedProvider"],
            _services_file_file__WEBPACK_IMPORTED_MODULE_5__["FileProvider"],
            _services_xslx_xslx__WEBPACK_IMPORTED_MODULE_6__["XLSXProvider"],
            _services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_0__["AmaranthusDBProvider"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_11__["Storage"]])
    ], ExportPage);
    return ExportPage;
}());



/***/ }),

/***/ "./src/app/services/amaranthus-db/adapter.ts":
/*!***************************************************!*\
  !*** ./src/app/services/amaranthus-db/adapter.ts ***!
  \***************************************************/
/*! exports provided: IonicStorageAdapter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IonicStorageAdapter", function() { return IonicStorageAdapter; });
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");

var storage = new _ionic_storage__WEBPACK_IMPORTED_MODULE_0__["Storage"]({});
/**
 * A loki persistence adapter which persists to web browser's local storage object
 * @constructor IonicStorageAdapter
 */
function IonicStorageAdapter() { }
/**
 * loadDatabase() - Load data from IonicStorage
 * @param {string} dbname - the name of the database to load
 * @param {function} callback - the callback to handle the result
 * @memberof IonicStorageAdapter
 */
IonicStorageAdapter.prototype.loadDatabase = function loadDatabase(dbname, callback) {
    storage.get(dbname)
        .then(function (value) {
        callback(value);
    });
};
/**
 * saveDatabase() - save data to IonicStorage, will throw an error if the file can't be saved
 * might want to expand this to avoid dataloss on partial save
 * @param {string} dbname - the filename of the database to load
 * @param {function} callback - the callback to handle the result
 * @memberof IonicStorageAdapter
 */
IonicStorageAdapter.prototype.saveDatabase = function saveDatabase(dbname, dbstring, callback) {
    storage.set(dbname, dbstring);
    callback(null);
};
/**
 * deleteDatabase() - delete the database from IonicStorage, will throw an error if it
 * can't be deleted
 * @param {string} dbname - the filename of the database to delete
 * @param {function} callback - the callback to handle the result
 * @memberof IonicStorageAdapter
 */
IonicStorageAdapter.prototype.deleteDatabase = function deleteDatabase(dbname, callback) {
    storage.remove(dbname);
    callback(null);
};


/***/ }),

/***/ "./src/app/services/amaranthus-db/amaranthus-db.ts":
/*!*********************************************************!*\
  !*** ./src/app/services/amaranthus-db/amaranthus-db.ts ***!
  \*********************************************************/
/*! exports provided: AmaranthusDBProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AmaranthusDBProvider", function() { return AmaranthusDBProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adapter */ "./src/app/services/amaranthus-db/adapter.ts");
/* harmony import */ var lokijs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lokijs */ "./node_modules/lokijs/src/lokijs.js");
/* harmony import */ var lokijs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lokijs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var src_app_common_format__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/common/format */ "./src/app/common/format.ts");
/* harmony import */ var src_app_common_handleError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/common/handleError */ "./src/app/common/handleError.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Collections use on db
 */
var studentsColl;
var recordsColl;
var eventsColl;
var notesColl;
/**
 * Declaration of DB
 */
var amaranthusDB;
var AmaranthusDBProvider = /** @class */ (function () {
    function AmaranthusDBProvider(storage) {
        this.storage = storage;
        this.initialize();
    }
    AmaranthusDBProvider.prototype.initialize = function () {
        var ionicStorageAdapter = new _adapter__WEBPACK_IMPORTED_MODULE_1__["IonicStorageAdapter"]();
        var lokiOptions = {
            autosave: true,
            autoload: true,
            adapter: ionicStorageAdapter,
            autoloadCallback: this.loadDatabase
        };
        amaranthusDB = new lokijs__WEBPACK_IMPORTED_MODULE_2__('amaranthus.db', lokiOptions);
    };
    /**
     * Use to convert Legacy data.
     */
    AmaranthusDBProvider.prototype.convertLegacyData = function () {
        var notes = notesColl.data;
        var noEventPropNotes = notes.map(function (note) {
            if (!note['event']) {
                return __assign({}, note, { event: '' });
            }
            else {
                return note;
            }
        });
        if (noEventPropNotes) {
            notesColl.update(noEventPropNotes);
        }
    };
    AmaranthusDBProvider.prototype.loadDatabase = function () {
        studentsColl = amaranthusDB.getCollection('students');
        recordsColl = amaranthusDB.getCollection('records');
        eventsColl = amaranthusDB.getCollection('events');
        notesColl = amaranthusDB.getCollection('notes');
        if (!studentsColl) {
            studentsColl = amaranthusDB.addCollection('students');
        }
        if (!recordsColl) {
            recordsColl = amaranthusDB.addCollection('records');
        }
        if (!eventsColl) {
            eventsColl = amaranthusDB.addCollection('events');
        }
        if (!notesColl) {
            notesColl = amaranthusDB.addCollection('notes');
        }
    };
    AmaranthusDBProvider.prototype.checkIfUserExists = function (opts) {
        var response = {
            success: false,
            error: null,
            data: null
        };
        var checkUser = studentsColl.findOne({
            'id': {
                '$eq': opts.username
            },
            'phoneNumber': {
                '$eq': opts.password
            }
        });
        if (!checkUser) {
            var fullName = opts.username.split(' ');
            checkUser = studentsColl.findOne({
                'firstName': {
                    '$eq': fullName[0]
                },
                'lastName': {
                    '$eq': fullName[1]
                },
                'phoneNumber': {
                    '$eq': opts.password
                }
            });
        }
        if (checkUser) {
            response = __assign({}, response, { success: true, data: checkUser.firstName });
            var currentDate = new Date();
            var date = {
                month: currentDate.getMonth(),
                day: currentDate.getDate(),
                year: currentDate.getFullYear()
            };
            this.addAttendance({ date: date, id: checkUser.id });
        }
        else {
            response = __assign({}, response);
        }
        return response;
    };
    AmaranthusDBProvider.prototype.getNoteByDate = function (opts) {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        var results = notesColl.findOne({
            'id': {
                '$eq': opts.id
            },
            'month': {
                '$eq': opts.date.month
            },
            'year': {
                '$eq': opts.date.year
            },
            'day': {
                '$eq': opts.date.day
            },
            'event': {
                '$eq': opts.event
            }
        });
        if (results) {
            response = __assign({}, response, { success: true, data: results });
            return response;
        }
        else {
            response = __assign({}, response, { error: 'Error retrieving notes. Please try again!', data: null });
            return response;
        }
    };
    AmaranthusDBProvider.prototype.getNoteById = function (id) {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        var results = notesColl.findOne({
            'id': id
        });
        if (results) {
            response = __assign({}, response, { success: true, data: results });
            return response;
        }
        else {
            response = __assign({}, response, { error: 'Error retrieving notes. Please try again!', data: null });
            return response;
        }
    };
    AmaranthusDBProvider.prototype.getAllNotesById = function (id) {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        var results = notesColl
            .chain()
            .find({
            'id': id
        })
            .simplesort('day')
            .simplesort('month')
            .simplesort('year')
            .data();
        if (results) {
            response = __assign({}, response, { success: true, data: results.slice() });
            return response;
        }
        else {
            response = __assign({}, response, { error: 'Error retrieving notes. Please try again!', data: null });
            return response;
        }
    };
    AmaranthusDBProvider.prototype.getNotes = function () {
        return notesColl.data;
    };
    AmaranthusDBProvider.prototype.insertNotes = function (note) {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        try {
            var results = notesColl.findOne({
                'id': {
                    '$eq': note.id
                },
                'month': {
                    '$eq': note.month
                },
                'year': {
                    '$eq': note.year
                },
                'day': {
                    '$eq': note.day
                },
                'event': note.event
            });
            if (!results) {
                notesColl.insert(note);
            }
            else {
                var newNote = __assign({}, results, note);
                notesColl.update(newNote);
            }
            response = __assign({}, response, { success: true });
            return response;
        }
        catch (error) {
            response = __assign({}, response, { error: error });
            return response;
        }
    };
    AmaranthusDBProvider.prototype.studentExists = function (id) {
        var student = studentsColl.findOne({
            id: id
        });
        if (student) {
            return true;
        }
        else {
            return false;
        }
    };
    AmaranthusDBProvider.prototype.updateEventMembers = function (opts) {
        var results = eventsColl.findOne({
            name: opts.name
        });
        var members = results.members.filter(function (member) { return member.id !== opts.member.id; });
        var event = __assign({}, results, { members: members });
        eventsColl.update(event);
    };
    AmaranthusDBProvider.prototype.insertEvent = function (event) {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        try {
            var formattedEvent = Object(src_app_common_format__WEBPACK_IMPORTED_MODULE_3__["trimEvent"])(event);
            var exists = eventsColl.findOne({
                name: event.name
            });
            if (!exists) {
                eventsColl.insert(formattedEvent);
                response = __assign({}, response, { success: true });
            }
            return response;
        }
        catch (error) {
            response = __assign({}, response, { error: error });
            return response;
        }
    };
    AmaranthusDBProvider.prototype.removeEvent = function (event) {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        try {
            var results = eventsColl.get(event['$loki']);
            eventsColl.remove(results);
            var records = recordsColl.find({
                'event': results.name
            });
            records.forEach(function (record) { return recordsColl.remove(record); });
            return __assign({}, response, { success: true });
        }
        catch (error) {
            return __assign({}, response, { error: error });
        }
    };
    AmaranthusDBProvider.prototype.updateEvent = function (event) {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        try {
            var results = eventsColl.get(event.$loki);
            if (results) {
                eventsColl.update(event);
                return __assign({}, response, { success: true });
            }
            else {
                throw new Error('User doesn\'t exist on Database');
            }
        }
        catch (error) {
            return __assign({}, response, { error: error });
        }
    };
    AmaranthusDBProvider.prototype.getEvents = function () {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        try {
            var results = eventsColl
                .chain()
                .simplesort('startDate', true)
                .data();
            if (!results) {
                throw new Error("Couldn't get any results");
            }
            response = __assign({}, response, { success: true, data: results });
            return response;
        }
        catch (error) {
            response = __assign({}, response, { error: error });
            return response;
        }
    };
    AmaranthusDBProvider.prototype.getEvent = function (id) {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        try {
            var results = eventsColl.get(id);
            if (results) {
                response = __assign({}, response, { success: true, data: results });
            }
            else {
                throw new Error("Couldn't find any members participating in this event.");
            }
            return response;
        }
        catch (error) {
            response = __assign({}, response, { error: error });
            return response;
        }
    };
    AmaranthusDBProvider.prototype.checkIfStudentExists = function (opts) {
        try {
            var results = studentsColl.findOne({
                'id': {
                    '$eq': opts.id
                }
            });
            if (results) {
                return true;
            }
            else {
                return false;
            }
        }
        catch (error) {
            if (!studentsColl) {
                return error;
            }
        }
    };
    AmaranthusDBProvider.prototype.insertTest = function () {
        var student = {
            id: (Math.random() * 100).toString(),
            firstName: 'Esteban',
            lastName: 'Morales',
            address: 'string',
            phoneNumber: 'string',
            town: 'string',
            state: 'string',
            picture: './assets/profilePics/default.png',
            gender: 'male',
            fatherName: 'string',
            motherName: 'string',
            emergencyContactName: 'tring',
            emergencyRelationship: 'string',
            emergencyContactPhoneNumber: 'string',
            isActive: true,
            class: 'string'
        };
        try {
            studentsColl.insert(student);
        }
        catch (error) {
            console.error(error);
        }
    };
    AmaranthusDBProvider.prototype.insertStudentIntoDB = function (student) {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        var value = this.checkIfStudentExists({ id: student.id });
        try {
            if (value === false) {
                var formattedStudent = Object(src_app_common_format__WEBPACK_IMPORTED_MODULE_3__["trimText"])(student);
                studentsColl.insert(formattedStudent);
                response = __assign({}, response, { success: true });
            }
            else {
                response = __assign({}, response, { error: 'User already exists in the database' });
            }
            return response;
        }
        catch (error) {
            response = __assign({}, response, { error: error });
            return response;
        }
    };
    AmaranthusDBProvider.prototype.insertStudent = function (student) {
        var _this = this;
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        return new Promise(function (resolve, reject) {
            if (studentsColl.data.length > 9) {
                _this.storage.get('boughtMasterKey').then(function (boughtMasterKey) {
                    if (boughtMasterKey === true) {
                        response = __assign({}, response, _this.insertStudentIntoDB(student));
                        if (response.success) {
                            resolve(response);
                        }
                        reject(response);
                    }
                    else {
                        response = {
                            success: false,
                            error: "Reached the limit of 10 persons in database. If you want to get rid of this limit please consider buying the app!",
                            data: null
                        };
                        resolve(response);
                    }
                });
            }
            else {
                response = __assign({}, response, _this.insertStudentIntoDB(student));
                if (response.success) {
                    resolve(response);
                }
                reject(response);
            }
        });
    };
    AmaranthusDBProvider.prototype.updateStudent = function (student) {
        try {
            var results = studentsColl.findOne({
                'id': {
                    '$eq': student.id
                }
            });
            var formattedStudent = Object(src_app_common_format__WEBPACK_IMPORTED_MODULE_3__["trimText"])(student);
            results = __assign({}, results, formattedStudent);
            studentsColl.update(results);
            return {
                success: true,
                error: null,
                data: null
            };
        }
        catch (error) {
            if (!studentsColl) {
                return error;
            }
        }
    };
    AmaranthusDBProvider.prototype.removeStudent = function (student) {
        try {
            var students = studentsColl.findOne({
                'id': {
                    '$eq': student.id
                }
            });
            studentsColl.remove(students);
            var records = recordsColl.find({
                'id': {
                    '$eq': student.id
                }
            });
            if (records['length']) {
                records.forEach(function (record) {
                    recordsColl.remove(record);
                });
            }
            var notes = notesColl.find({
                'id': {
                    '$eq': student.id
                }
            });
            if (notes['length']) {
                notes.forEach(function (note) {
                    notesColl.remove(note);
                });
            }
            return {
                success: true,
                error: null,
                data: null
            };
        }
        catch (error) {
            if (!studentsColl) {
                return error;
            }
            if (!recordsColl) {
                return error;
            }
            if (!notesColl) {
                return error;
            }
        }
    };
    AmaranthusDBProvider.prototype.addAbsence = function (opts) {
        var response;
        if (opts['event']) {
            response = this.insertOrUpdateRecord(__assign({}, opts, { date: __assign({}, opts.date, { month: opts.date.month + 1 }), attendance: false, absence: true, event: opts.event }));
        }
        else {
            response = this.insertOrUpdateRecord(__assign({}, opts, { date: __assign({}, opts.date, { month: opts.date.month + 1 }), attendance: false, absence: true }));
        }
        return response;
    };
    AmaranthusDBProvider.prototype.addAttendance = function (opts) {
        var response;
        if (opts['event']) {
            response = this.insertOrUpdateRecord(__assign({}, opts, { date: __assign({}, opts.date, { month: opts.date.month + 1 }), attendance: true, absence: false, event: opts.event }));
        }
        else {
            response = this.insertOrUpdateRecord(__assign({}, opts, { date: __assign({}, opts.date, { month: opts.date.month + 1 }), attendance: true, absence: false }));
        }
        return response;
    };
    AmaranthusDBProvider.prototype.insertOrUpdateRecord = function (opts) {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        try {
            var record = {
                id: opts.id,
                month: opts.date.month,
                year: opts.date.year,
                day: opts.date.day,
                attendance: opts.attendance,
                absence: opts.absence,
                event: ''
            };
            var results = void 0;
            if (opts['event']) {
                record = __assign({}, record, { event: opts.event });
                results = recordsColl.findOne({
                    'id': {
                        '$eq': record.id
                    },
                    'month': {
                        '$eq': record.month
                    },
                    'year': {
                        '$eq': record.year
                    },
                    'day': {
                        '$eq': record.day
                    },
                    'event': {
                        '$eq': opts.event
                    }
                });
            }
            else if (opts.hasOwnProperty('event')) {
                results = recordsColl.findOne({
                    'id': {
                        '$eq': record.id
                    },
                    'month': {
                        '$eq': record.month
                    },
                    'year': {
                        '$eq': record.year
                    },
                    'day': {
                        '$eq': record.day
                    },
                    'event': {
                        '$eq': ''
                    }
                });
            }
            else {
                results = recordsColl.findOne({
                    'id': {
                        '$eq': record.id
                    },
                    'month': {
                        '$eq': record.month
                    },
                    'year': {
                        '$eq': record.year
                    },
                    'day': {
                        '$eq': record.day
                    }
                });
            }
            if (results) {
                var foundRecord = __assign({}, results, record);
                recordsColl.update(foundRecord);
            }
            else {
                var newRecord = __assign({}, record);
                recordsColl.insert(newRecord);
            }
            response = __assign({}, response, { success: true, error: null, data: null });
            return response;
        }
        catch (error) {
            if (recordsColl) {
                response = __assign({}, response, { error: error || null });
                return response;
            }
        }
    };
    AmaranthusDBProvider.prototype.getStudentById = function (student) {
        var response = {
            success: false,
            error: null,
            data: undefined
        };
        try {
            var results = studentsColl.findOne({
                'id': {
                    '$eq': student.id
                }
            });
            if (results) {
                response = __assign({}, response, { success: true, error: null, data: results });
            }
            return response;
        }
        catch (error) {
            // tslint:disable-next-line: no-shadowed-variable
            var response_1 = {
                success: false,
                error: error,
                data: undefined
            };
            if (studentsColl) {
                return response_1;
            }
        }
    };
    AmaranthusDBProvider.prototype.getQueriedRecords = function (opts) {
        switch (opts.query) {
            case 'Date':
                return this.getQueriedRecordsByDate(opts);
            default:
                var date = {
                    year: new Date().getFullYear(),
                    month: new Date().getMonth() + 1,
                    day: null
                };
                var options = {
                    date: date,
                    event: ''
                };
                if (opts['event']) {
                    options = __assign({}, options, { event: opts.event });
                }
                try {
                    return this.getAllStudentsRecords(options);
                }
                catch (error) {
                    return error;
                }
        }
    };
    AmaranthusDBProvider.prototype.getStudentsRecordsByDate = function (opts) {
        var _this = this;
        var response = {
            success: true,
            error: null,
            data: [],
            event: null
        };
        try {
            var students = studentsColl.find({
                'isActive': {
                    '$eq': true
                }
            });
            var studentRecord_1;
            var record_1;
            students.map(function (student) {
                studentRecord_1 = null;
                record_1 = null;
                if (opts['event']) {
                    record_1 = recordsColl.findOne({
                        'id': {
                            '$eq': student.id
                        },
                        'year': {
                            '$eq': opts.date.year
                        },
                        'month': {
                            '$eq': opts.date.month
                        },
                        'day': {
                            '$eq': opts.date.day
                        },
                        'event': {
                            '$eq': opts.event
                        }
                    });
                }
                else if (opts.hasOwnProperty('event')) {
                    record_1 = recordsColl.findOne({
                        'id': {
                            '$eq': student.id
                        },
                        'year': {
                            '$eq': opts.date.year
                        },
                        'month': {
                            '$eq': opts.date.month
                        },
                        'day': {
                            '$eq': opts.date.day
                        },
                        'event': {
                            '$eq': ''
                        }
                    });
                }
                else {
                    record_1 = recordsColl.findOne({
                        'id': {
                            '$eq': student.id
                        },
                        'year': {
                            '$eq': opts.date.year
                        },
                        'month': {
                            '$eq': opts.date.month
                        },
                        'day': {
                            '$eq': opts.date.day
                        }
                    });
                }
                var noteDate = __assign({}, opts.date, { month: opts.date.month - 1 });
                var noteResponse = _this.getNoteByDate({
                    id: student.id,
                    date: noteDate,
                    event: opts.event
                });
                if (noteResponse.success) {
                    studentRecord_1 = { notes: noteResponse.data.notes };
                }
                else {
                    studentRecord_1 = { notes: '' };
                }
                if (record_1) {
                    if (student.id === record_1.id) {
                        studentRecord_1 = __assign({}, studentRecord_1, { firstName: student.firstName, lastName: student.lastName, fullName: student.firstName + " " + student.lastName, picture: student.picture, attendance: record_1.attendance, absence: record_1.absence, id: student.id });
                        response = __assign({}, response, { data: response.data.concat([studentRecord_1]) });
                    }
                }
                else {
                    studentRecord_1 = __assign({}, studentRecord_1, { firstName: student.firstName, lastName: student.lastName, fullName: student.firstName + " " + student.lastName, picture: student.picture, attendance: false, absence: false, id: student.id });
                    response = __assign({}, response, { data: response.data.concat([studentRecord_1]) });
                }
            });
            return response;
        }
        catch (error) {
            if (studentsColl) {
                return error;
            }
            if (recordsColl) {
                return error;
            }
        }
    };
    AmaranthusDBProvider.prototype.getAllStudentsRecords = function (opts) {
        var response = {
            success: true,
            error: null,
            data: []
        };
        var attendance;
        var absence;
        try {
            var students = studentsColl.find({
                'isActive': {
                    '$eq': true
                }
            });
            students.map(function (student) {
                attendance = 0;
                absence = 0;
                var records;
                if (!opts.date.day) {
                    if (opts['event']) {
                        records = recordsColl.find({
                            'id': {
                                '$eq': student.id
                            },
                            'year': {
                                '$eq': opts.date.year
                            },
                            'month': {
                                '$eq': opts.date.month
                            },
                            'event': {
                                '$eq': opts.event
                            }
                        });
                    }
                    else if (opts.hasOwnProperty('event')) {
                        records = recordsColl.find({
                            'id': {
                                '$eq': student.id
                            },
                            'year': {
                                '$eq': opts.date.year
                            },
                            'month': {
                                '$eq': opts.date.month
                            },
                            'event': {
                                '$eq': ''
                            }
                        });
                    }
                    else {
                        records = recordsColl.find({
                            'id': {
                                '$eq': student.id
                            },
                            'year': {
                                '$eq': opts.date.year
                            },
                            'month': {
                                '$eq': opts.date.month
                            }
                        });
                    }
                }
                else {
                    if (opts['event']) {
                        records = recordsColl.find({
                            'id': {
                                '$eq': student.id
                            },
                            'year': {
                                '$eq': opts.date.year
                            },
                            'month': {
                                '$eq': opts.date.month
                            },
                            'day': {
                                '$eq': opts.date.day
                            },
                            'event': {
                                '$eq': opts.event
                            }
                        });
                    }
                    else if (opts.hasOwnProperty('event')) {
                        records = recordsColl.find({
                            'id': {
                                '$eq': student.id
                            },
                            'year': {
                                '$eq': opts.date.year
                            },
                            'month': {
                                '$eq': opts.date.month
                            },
                            'day': {
                                '$eq': opts.date.day
                            },
                            'event': {
                                '$eq': ''
                            }
                        });
                    }
                    else {
                        records = recordsColl.find({
                            'id': {
                                '$eq': student.id
                            },
                            'year': {
                                '$eq': opts.date.year
                            },
                            'month': {
                                '$eq': opts.date.month
                            },
                            'day': {
                                '$eq': opts.date.day
                            },
                        });
                    }
                }
                if (records) {
                    records.map(function (record) {
                        if (opts.date.day) {
                            if (record.attendance === true) {
                                attendance = 'x';
                                absence = 'o';
                            }
                            if (record.absence === true) {
                                absence = 'x';
                                attendance = 'o';
                            }
                        }
                        else {
                            if (record.attendance === true) {
                                attendance++;
                            }
                            if (record.absence === true) {
                                absence++;
                            }
                        }
                    });
                    var percent = null;
                    if (!opts.date.day) {
                        percent = 0;
                    }
                    if ((attendance + absence !== 0)) {
                        percent = ((100 * attendance) / (attendance + absence)).toFixed(2);
                    }
                    if (percent) {
                        response = __assign({}, response, { data: response.data.concat([
                                {
                                    id: student.id,
                                    fullName: student.firstName + " " + student.lastName,
                                    attendance: attendance,
                                    percent: percent,
                                    absence: absence,
                                    picture: student.picture
                                }
                            ]) });
                    }
                    else {
                        response = __assign({}, response, { data: response.data.concat([
                                {
                                    id: student.id,
                                    fullName: student.firstName + " " + student.lastName,
                                    attendance: attendance,
                                    absence: absence,
                                    picture: student.picture
                                }
                            ]) });
                    }
                }
            });
            return response;
        }
        catch (error) {
            Object(src_app_common_handleError__WEBPACK_IMPORTED_MODULE_4__["handleError"])(error);
            response = __assign({}, response, { error: error });
            return response;
        }
    };
    AmaranthusDBProvider.prototype.getAllStudents = function (event) {
        var response = {
            success: false,
            error: null,
            data: []
        };
        try {
            var students = void 0;
            if (event) {
                students = studentsColl.find({
                    'isActive': {
                        '$eq': true
                    }
                });
            }
            else {
                students = studentsColl.data;
            }
            response = __assign({}, response, { success: true, data: students.slice() });
            return response;
        }
        catch (error) {
            if (!studentsColl) {
                response.error = error;
                return response;
            }
        }
    };
    AmaranthusDBProvider.prototype.getQueriedRecordsByDate = function (opts) {
        try {
            return this.getAllStudentsRecords(opts);
        }
        catch (error) {
            return error;
        }
    };
    /**
     *
     * @param date
     */
    AmaranthusDBProvider.prototype.getAllActiveStudents = function (date) {
        var _this = this;
        try {
            // const students = studentsColl.find({
            //   'isActive': {
            //     '$eq': true
            //   }
            // }); // Do not delete!
            var students = studentsColl.data; // Return all the students records
            var record_2;
            var results = students.map(function (student) {
                record_2 = __assign({}, _this.getQueriedRecordsByCurrentDate({
                    studentId: student.id,
                    year: date.year,
                    day: date.day,
                    month: date.month
                }));
                var note = _this.getNoteByDate({
                    id: student.id,
                    event: '',
                    date: __assign({}, date, { month: date.month - 1 })
                });
                var newStudent = {
                    id: student.id,
                    firstName: student.firstName,
                    lastName: student.lastName,
                    initial: student.initial,
                    class: student.class,
                    phoneNumber: student.phoneNumber,
                    picture: student.picture,
                    gender: student.gender,
                    attendance: false,
                    absence: false,
                    notes: null,
                    isActive: student.isActive // Added on Jun 9th 2019
                };
                if (record_2 != null && record_2.id === student.id) {
                    newStudent = __assign({}, newStudent, { attendance: record_2.attendance, absence: record_2.absence });
                }
                if (note.success) {
                    newStudent = __assign({}, newStudent, { notes: note.data.notes });
                }
                return newStudent;
            }); // got results
            return {
                success: true,
                error: null,
                data: results
            };
        }
        catch (error) {
            var response = {
                success: false,
                error: error,
                data: undefined,
                dataStamp: new Date().toString()
            };
            if (!studentsColl) {
                return response;
            }
        }
    };
    AmaranthusDBProvider.prototype.getQueriedRecordsByCurrentDate = function (opts) {
        var _this = this;
        var response;
        try {
            var recordQuery = void 0;
            if (opts['event']) {
                recordQuery = recordsColl.findOne({
                    'id': {
                        '$eq': opts.studentId
                    },
                    'year': {
                        '$eq': opts.year
                    },
                    'day': {
                        '$eq': opts.day
                    },
                    'month': {
                        '$eq': opts.month
                    },
                    'event': {
                        '$eq': opts.event
                    }
                });
            }
            else if (opts.hasOwnProperty('event')) {
                recordQuery = recordsColl.findOne({
                    'id': {
                        '$eq': opts.studentId
                    },
                    'year': {
                        '$eq': opts.year
                    },
                    'day': {
                        '$eq': opts.day
                    },
                    'month': {
                        '$eq': opts.month
                    },
                    'event': {
                        '$eq': ''
                    }
                });
            }
            else {
                recordQuery = recordsColl.findOne({
                    'id': {
                        '$eq': opts.studentId
                    },
                    'year': {
                        '$eq': opts.year
                    },
                    'day': {
                        '$eq': opts.day
                    },
                    'month': {
                        '$eq': opts.month
                    }
                });
            }
            if (recordQuery) {
                response = recordQuery;
                return response;
            }
            return null;
        }
        catch (error) {
            if (recordsColl) {
                setTimeout(function () { return _this.getQueriedRecordsByCurrentDate(opts); }, 5000);
            }
            else {
                return null;
            }
        }
    };
    AmaranthusDBProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_storage__WEBPACK_IMPORTED_MODULE_5__["Storage"]])
    ], AmaranthusDBProvider);
    return AmaranthusDBProvider;
}());



/***/ }),

/***/ "./src/app/services/csv/csv.ts":
/*!*************************************!*\
  !*** ./src/app/services/csv/csv.ts ***!
  \*************************************/
/*! exports provided: CSVProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CSVProvider", function() { return CSVProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_common_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common/constants */ "./src/app/common/constants.ts");
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! xlsx */ "./node_modules/xlsx/xlsx.js");
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(xlsx__WEBPACK_IMPORTED_MODULE_2__);
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var CSVProvider = /** @class */ (function () {
    function CSVProvider() {
    }
    CSVProvider.prototype.exportCSV = function (opts) {
        return __awaiter(this, void 0, void 0, function () {
            var response, data, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        response = {
                            success: false,
                            error: null,
                            data: undefined
                        };
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.createCSV({ type: opts.type, records: opts.records })];
                    case 2:
                        data = _a.sent();
                        response = __assign({}, response, { success: true, data: data });
                        return [2 /*return*/, response];
                    case 3:
                        error_1 = _a.sent();
                        response = __assign({}, response, { error: error_1 });
                        return [2 /*return*/, error_1];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    CSVProvider.prototype.createCSV = function (opts) {
        var headers;
        return new Promise(function (resolve, reject) {
            if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_1__["recordType"].month) {
                headers = ['Id', 'Name', 'Attendance', 'Absence', 'Attendance %'];
            }
            if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_1__["recordType"].day) {
                headers = ['Id', 'Name', 'Attendance', 'Absence'];
            }
            try {
                var studentRecords = opts.records.map(function (record) {
                    var temp = [];
                    if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_1__["recordType"].month) {
                        temp = [record.id, record.fullName, record.attendance, record.absence, record.percent];
                    }
                    if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_1__["recordType"].day) {
                        temp = [record.id, record.fullName, record.attendance, record.absence];
                    }
                    return temp;
                });
                studentRecords.unshift(headers);
                var ws = xlsx__WEBPACK_IMPORTED_MODULE_2__["utils"].aoa_to_sheet(studentRecords);
                var csv = xlsx__WEBPACK_IMPORTED_MODULE_2__["utils"].sheet_to_csv(ws);
                var blob = new Blob([csv], { type: 'application/octet-stream' });
                resolve(blob);
            }
            catch (error) {
                reject('There are no students created in database!');
            }
        });
    };
    CSVProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], CSVProvider);
    return CSVProvider;
}());



/***/ }),

/***/ "./src/app/services/file/file.ts":
/*!***************************************!*\
  !*** ./src/app/services/file/file.ts ***!
  \***************************************/
/*! exports provided: FileProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileProvider", function() { return FileProvider; });
/* harmony import */ var _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ionic-native/file-opener/ngx */ "./node_modules/@ionic-native/file-opener/ngx/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var FileProvider = /** @class */ (function () {
    function FileProvider(fileOpener, file, platform) {
        this.fileOpener = fileOpener;
        this.file = file;
        this.platform = platform;
    }
    /**
     *
     *
     * @param {{
     *     fileName: string,
     *     text: any,
     *     type: string
     *   }} opts
     * @returns {Promise<IResponse<any>>}
     * @memberof FileProvider
     */
    FileProvider.prototype.exportFile = function (opts) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.platform.is('ios')) {
                _this.writeToIOS(opts)
                    .then(function (response) { return resolve(response); })
                    .catch(function (error) { return reject(error); });
            }
            if (_this.platform.is('android')) {
                _this.writeToAndroid(opts)
                    .then(function (response) {
                    return resolve(response);
                })
                    .catch(function (error) { return reject(error); });
            }
            if (_this.platform.is('desktop')) {
                var message = 'This feature is still not available for the web :\'(';
                reject(message);
            }
        });
    };
    /**
     *
     *
     * @param {{ fileName: string, text: any, type: string }} opts
     * @returns {Promise<IResponse<any>>}
     * @memberof FileProvider
     */
    FileProvider.prototype.writeToAndroid = function (opts) {
        var _this = this;
        var options = {
            replace: true
        };
        var path = this.file.externalRootDirectory;
        var outDirectory = 'Attendance Log';
        return new Promise(function (resolve, reject) {
            _this.file.checkDir(path, outDirectory)
                .then(function () {
                _this.file.writeFile(path + outDirectory, opts.fileName, opts.text, options)
                    .then(function () {
                    _this.toFileOpener(__assign({}, opts, { path: path, directory: outDirectory }))
                        .then(function (data) { return resolve(data); })
                        .catch(function (error) { return reject(error); });
                })
                    .catch(function (_) { return reject('There was an error reading the directory, please try again!'); });
            })
                .catch(function () {
                _this.file.createDir(path, outDirectory, true)
                    .then(function (directory) {
                    _this.file.writeFile(path + directory.name, opts.fileName, opts.text, options)
                        .then(function () {
                        _this.toFileOpener(__assign({}, opts, { path: path, directory: directory.name }))
                            .then(function (data) { return resolve(data); })
                            .catch(function (error) { return reject(error); });
                    })
                        .catch(function (_) { return reject('There was an error when the file was created, please try again!'); });
                })
                    .catch(function (_) { return reject('There was an error creating the directory, please try again!'); });
            });
        });
    };
    /**
     *
     *
     * @param {{ fileName: string, text: any, type: string }} opts
     * @returns {Promise<IResponse<any>>}
     * @memberof FileProvider
     */
    FileProvider.prototype.writeToIOS = function (opts) {
        var _this = this;
        var options = {
            replace: true
        };
        var path = this.file.dataDirectory;
        var outDirectory = 'Attendance Log';
        return new Promise(function (resolve, reject) {
            _this.file.checkDir(path, outDirectory)
                .then(function () {
                _this.file.writeFile(path + outDirectory, opts.fileName, opts.text, options)
                    .then(function () {
                    _this.toFileOpener(__assign({}, opts, { path: path, directory: outDirectory }))
                        .then(function (data) { return resolve(data); })
                        .catch(function (error) { return reject(error); });
                })
                    .catch(function (_) { return reject('There was an error reading the directory, please try again!'); });
            })
                .catch(function () {
                _this.file.createDir(path, outDirectory, true)
                    .then(function (directory) {
                    _this.file.writeFile(path + directory.name, opts.fileName, opts.text, options)
                        .then(function (res) {
                        _this.toFileOpener(__assign({}, opts, { path: path, directory: directory.name }))
                            .then(function (data) { return resolve(data); })
                            .catch(function (error) { return reject(error); });
                    })
                        .catch(function (_) { return reject('There was an error when the file was created, please try again!'); });
                })
                    .catch(function (_) { return reject('There was an error creating the directory, please try again!'); });
            });
        });
    };
    /**
     *
     *
     * @param {{ fileName: string, text: any, type: string, path, directory }} opts
     * @returns {Promise<IResponse<any>>}
     * @memberof FileProvider
     */
    FileProvider.prototype.toFileOpener = function (opts) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var response = {
                success: false,
                error: '',
                data: ''
            };
            if (opts.type === 'xlsx') {
                response = __assign({}, response, { success: true, data: opts.fileName + " was exported successfully to the folder " + opts.path + opts.directory + " in your device!" });
                _this.fileOpener.open("" + opts.path + opts.directory + "/" + opts.fileName, 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')
                    .then(function () { return resolve(response); })
                    .catch(function (_) { return reject(opts.fileName + " was exported successfully to the folder " + opts.path + opts.directory + " in your device\n             but there was an error opening the file, please try again!"); });
            }
            if (opts.type === 'txt') {
                response = __assign({}, response, { success: true, data: opts.fileName + " was exported successfully to the folder " + opts.path + opts.directory + " in your device!" });
                _this.fileOpener.open("" + opts.path + opts.directory + "/" + opts.fileName, 'text/plain')
                    .then(function () { return resolve(response); })
                    .catch(function (_) { return reject(opts.fileName + " was exported successfully to the folder " + opts.path + opts.directory + " in your device\n             but there was an error opening the file, please try again!"); });
            }
            if (opts.type === 'csv') {
                response = __assign({}, response, { success: true, data: opts.fileName + " was exported successfully to the folder " + opts.path + opts.directory + " in your device!" });
                _this.fileOpener.open("" + opts.path + opts.directory + "/" + opts.fileName, 'text/csv')
                    .then(function () { return resolve(response); })
                    .catch(function (_) { return reject(opts.fileName + " was exported successfully to the folder " + opts.path + opts.directory + " in your device\n             but there was an error opening the file, please try again!"); });
            }
        });
    };
    FileProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_0__["FileOpener"],
            _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_3__["File"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"]])
    ], FileProvider);
    return FileProvider;
}());



/***/ }),

/***/ "./src/app/services/text-tab-delimited/text-tab-delimited.ts":
/*!*******************************************************************!*\
  !*** ./src/app/services/text-tab-delimited/text-tab-delimited.ts ***!
  \*******************************************************************/
/*! exports provided: TextTabDelimitedProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextTabDelimitedProvider", function() { return TextTabDelimitedProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_common_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common/constants */ "./src/app/common/constants.ts");
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! xlsx */ "./node_modules/xlsx/xlsx.js");
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(xlsx__WEBPACK_IMPORTED_MODULE_2__);
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var TextTabDelimitedProvider = /** @class */ (function () {
    function TextTabDelimitedProvider() {
    }
    TextTabDelimitedProvider.prototype.exportTextTabDelimited = function (opts) {
        return __awaiter(this, void 0, void 0, function () {
            var response, data, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        response = {
                            success: false,
                            error: null,
                            data: undefined
                        };
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.createTextTab({ type: opts.type, records: opts.records })];
                    case 2:
                        data = _a.sent();
                        response = __assign({}, response, { success: true, data: data });
                        return [2 /*return*/, response];
                    case 3:
                        error_1 = _a.sent();
                        response = __assign({}, response, { error: error_1 });
                        return [2 /*return*/, error_1];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    TextTabDelimitedProvider.prototype.createTextTab = function (opts) {
        var headers;
        return new Promise(function (resolve, reject) {
            if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_1__["recordType"].month) {
                headers = ['Id', 'Name', 'Attendance', 'Absence', 'Attendance %'];
            }
            if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_1__["recordType"].day) {
                headers = ['Id', 'Name', 'Attendance', 'Absence'];
            }
            try {
                var studentRecords = opts.records.map(function (record) {
                    var temp = [];
                    if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_1__["recordType"].month) {
                        temp = [record.id, record.fullName, record.attendance, record.absence, record.percent];
                    }
                    if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_1__["recordType"].day) {
                        temp = [record.id, record.fullName, record.attendance, record.absence];
                    }
                    return temp;
                });
                studentRecords.unshift(headers);
                var ws = xlsx__WEBPACK_IMPORTED_MODULE_2__["utils"].aoa_to_sheet(studentRecords);
                var txt = xlsx__WEBPACK_IMPORTED_MODULE_2__["utils"].sheet_to_txt(ws);
                var blob = new Blob([txt], { type: 'application/octet-stream' });
                resolve(blob);
            }
            catch (error) {
                reject('There are no students created in database!');
            }
        });
    };
    TextTabDelimitedProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], TextTabDelimitedProvider);
    return TextTabDelimitedProvider;
}());



/***/ }),

/***/ "./src/app/services/xslx/xslx.ts":
/*!***************************************!*\
  !*** ./src/app/services/xslx/xslx.ts ***!
  \***************************************/
/*! exports provided: XLSXProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XLSXProvider", function() { return XLSXProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! xlsx */ "./node_modules/xlsx/xlsx.js");
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(xlsx__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var src_app_common_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/common/constants */ "./src/app/common/constants.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var XLSXProvider = /** @class */ (function () {
    function XLSXProvider() {
    }
    XLSXProvider.prototype.exportXLSXToFile = function (opts) {
        return __awaiter(this, void 0, void 0, function () {
            var response, data, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        response = {
                            success: false,
                            error: null,
                            data: undefined
                        };
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.createXLSX({ type: opts.type, records: opts.records })];
                    case 2:
                        data = _a.sent();
                        response = __assign({}, response, { success: true, data: data });
                        return [2 /*return*/, response];
                    case 3:
                        error_1 = _a.sent();
                        response = __assign({}, response, { error: error_1 });
                        return [2 /*return*/, error_1];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    XLSXProvider.prototype.createXLSX = function (opts) {
        var headers;
        return new Promise(function (resolve, reject) {
            if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_2__["recordType"].month) {
                headers = ['Id', 'Name', 'Attendance', 'Absence', 'Attendance %'];
            }
            if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_2__["recordType"].day) {
                headers = ['Id', 'Name', 'Attendance', 'Absence'];
            }
            try {
                var studentRecords = opts.records.map(function (record) {
                    var temp = [];
                    if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_2__["recordType"].month) {
                        temp = [record.id, record.fullName, record.attendance, record.absence, record.percent];
                    }
                    if (opts.type === src_app_common_constants__WEBPACK_IMPORTED_MODULE_2__["recordType"].day) {
                        temp = [record.id, record.fullName, record.attendance, record.absence];
                    }
                    return temp;
                });
                studentRecords.unshift(headers);
                var ws = xlsx__WEBPACK_IMPORTED_MODULE_1__["utils"].aoa_to_sheet(studentRecords);
                var wb = xlsx__WEBPACK_IMPORTED_MODULE_1__["utils"].book_new();
                xlsx__WEBPACK_IMPORTED_MODULE_1__["utils"].book_append_sheet(wb, ws, 'Students Attendance Records');
                var wbout = xlsx__WEBPACK_IMPORTED_MODULE_1__["write"](wb, {
                    bookType: 'xlsx',
                    type: 'array'
                });
                var blob = new Blob([wbout], { type: 'application/octet-stream' });
                resolve(blob);
            }
            catch (error) {
                reject('There are no students created in database!');
            }
        });
    };
    XLSXProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], XLSXProvider);
    return XLSXProvider;
}());



/***/ }),

/***/ "./src/app/stats/stats.module.ts":
/*!***************************************!*\
  !*** ./src/app/stats/stats.module.ts ***!
  \***************************************/
/*! exports provided: StatsPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatsPageModule", function() { return StatsPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _stats_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./stats.page */ "./src/app/stats/stats.page.ts");
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/components.module */ "./src/app/components/components.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: '',
        component: _stats_page__WEBPACK_IMPORTED_MODULE_5__["StatsPage"]
    }
];
var StatsPageModule = /** @class */ (function () {
    function StatsPageModule() {
    }
    StatsPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _components_components_module__WEBPACK_IMPORTED_MODULE_6__["ComponentsModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes)
            ],
            declarations: [_stats_page__WEBPACK_IMPORTED_MODULE_5__["StatsPage"]]
        })
    ], StatsPageModule);
    return StatsPageModule;
}());



/***/ }),

/***/ "./src/app/stats/stats.page.html":
/*!***************************************!*\
  !*** ./src/app/stats/stats.page.html ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-title>{{htmlControls.toolbar.title}}</ion-title>\n    <ion-buttons slot=\"start\">\n      <ion-back-button *ngIf=\"event\"></ion-back-button>\n      <app-menu-button *ngIf=\"!event\"></app-menu-button>\n    </ion-buttons>\n    <ion-buttons slot=\"end\">\n      <ion-button *ngIf=\"students.length > 0\" (click)=\"toExportPage()\">\n        {{htmlControls.toolbar.buttons.export}}\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding id=\"stats\">\n  <ion-item>\n    <ion-label>{{htmlControls.filter}}</ion-label>\n    <ion-select interface=\"popover\" (ionCancel)=\"initializeStudents()\" multiple=\"false\" #filter\n      (ionChange)=\"queryData(filter.value)\">\n      <ion-select-option *ngFor=\"let option of selectOptions\" value=\"{{option}}\">{{option}}</ion-select-option>\n    </ion-select>\n  </ion-item>\n  <div *ngIf=\"query == 'Date'\">\n    <ion-item>\n      <ion-label>{{htmlControls.year}}</ion-label>\n      <ion-select interface=\"popover\" multiple=\"false\" #year (ionChange)=\"queryDataByYear(year.value)\">\n        <ion-select-option *ngFor=\"let year of years\" value=\"{{year}}\">{{year}}</ion-select-option>\n      </ion-select>\n    </ion-item>\n    <ion-item>\n      <ion-label>{{htmlControls.month}}</ion-label>\n      <ion-select interface=\"popover\" multiple=\"false\" #month (ionChange)=\"queryDataByMonth(month.value)\">\n        <ion-select-option *ngFor=\"let month of months\" value=\"{{month}}\">{{month}}</ion-select-option>\n      </ion-select>\n    </ion-item>\n  </div>\n  <div id=\"table\">\n    <table>\n      <caption [ngSwitch]=\"query\">\n        <ng-template ngSwitchWhen=\"Date\">{{htmlControls.tableTitle}}{{monthQuery}},\n          {{yearQuery}}</ng-template>\n        <ng-template ngSwitchDefault>{{htmlControls.tableTitle}}{{monthQuery}}, {{yearQuery}}</ng-template>\n      </caption>\n      <tr>\n        <th>\n          Id\n        </th>\n        <th>\n          {{htmlControls.tableHeaders.name}}\n        </th>\n        <th>\n          {{htmlControls.tableHeaders.attendance}}\n        </th>\n        <th>\n          {{htmlControls.tableHeaders.absence}}\n        </th>\n        <th>\n          {{htmlControls.tableHeaders.percent}}\n        </th>\n      </tr>\n      <tr *ngFor=\"let student of students\">\n        <td>\n          {{student.id}}\n        </td>\n        <td>\n          {{student.fullName}}\n        </td>\n        <td>\n          {{student.attendance}}\n        </td>\n        <td>\n          {{student.absence}}\n        </td>\n        <td>\n          {{student.percent}}\n        </td>\n      </tr>\n    </table>\n  </div>\n\n</ion-content>"

/***/ }),

/***/ "./src/app/stats/stats.page.scss":
/*!***************************************!*\
  !*** ./src/app/stats/stats.page.scss ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#stats .exportColor {\n  color: #c4c4c4; }\n\n#stats table {\n  border: 1px solid black;\n  border-spacing: 5px;\n  width: 100%;\n  height: auto;\n  text-align: center; }\n\n#stats th, #stats td {\n  padding: 15px;\n  border-bottom: 1px solid #ddd; }\n\n#stats th {\n  background-color: var(--ion-color-secondary);\n  color: white; }\n\n#stats tr:nth-child(even) {\n  background-color: #f2f2f2; }\n\n#stats div#table {\n  overflow-x: auto; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lc3RlYmFubW9yYWxlcy9Qcm9qZWN0cy9hbWFyYW50aHVzMi9zcmMvYXBwL3N0YXRzL3N0YXRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVRLGNBQ0osRUFBQTs7QUFISjtFQUtRLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsV0FBVTtFQUNWLFlBQVc7RUFDWCxrQkFBa0IsRUFBQTs7QUFUMUI7RUFZUSxhQUFhO0VBQ2IsNkJBQTZCLEVBQUE7O0FBYnJDO0VBZ0JRLDRDQUE0QztFQUM1QyxZQUFZLEVBQUE7O0FBakJwQjtFQW1CeUIseUJBQXlCLEVBQUE7O0FBbkJsRDtFQXFCUSxnQkFDSCxFQUFBIiwiZmlsZSI6InNyYy9hcHAvc3RhdHMvc3RhdHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI3N0YXRzIHtcbiAgICAuZXhwb3J0Q29sb3J7XG4gICAgICAgIGNvbG9yOiNjNGM0YzRcbiAgICB9XG4gICAgdGFibGUge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgYm9yZGVyLXNwYWNpbmc6IDVweDtcbiAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgaGVpZ2h0OmF1dG87XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgdGgsIHRkIHtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XG4gICAgfVxuICAgIHRoIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG4gICAgIHRyOm50aC1jaGlsZChldmVuKSB7YmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjt9IFxuICAgICBkaXYjdGFibGV7XG4gICAgICAgIG92ZXJmbG93LXg6YXV0b1xuICAgICB9XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/stats/stats.page.ts":
/*!*************************************!*\
  !*** ./src/app/stats/stats.page.ts ***!
  \*************************************/
/*! exports provided: StatsPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatsPage", function() { return StatsPage; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _common_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../common/constants */ "./src/app/common/constants.ts");
/* harmony import */ var _export_export_page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../export/export.page */ "./src/app/export/export.page.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/amaranthus-db/amaranthus-db */ "./src/app/services/amaranthus-db/amaranthus-db.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var src_app_common_handleError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/common/handleError */ "./src/app/common/handleError.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var StatsPage = /** @class */ (function () {
    function StatsPage(db, alertCtrl, modalCtrl, route, storage) {
        this.db = db;
        this.alertCtrl = alertCtrl;
        this.modalCtrl = modalCtrl;
        this.route = route;
        this.storage = storage;
        this.unfilteredStudents = [];
        this.months = [];
        this.currentDate = new Date();
        this.years = _common_constants__WEBPACK_IMPORTED_MODULE_1__["YEARLABELS"].slice();
        this.htmlControls = {
            toolbar: {
                title: '',
                buttons: {
                    export: ''
                }
            },
            filter: '',
            year: '',
            month: '',
            tableTitle: '',
            tableHeaders: {
                name: '',
                attendance: '',
                absence: '',
                percent: ''
            }
        };
        this.LANGUAGE = {
            english: {
                toolbar: {
                    title: 'STATS',
                    buttons: {
                        export: 'EXPORT'
                    }
                },
                filter: 'Filter by: ',
                year: 'Year: ',
                month: 'Month: ',
                tableTitle: 'Total Attendance in ',
                tableHeaders: {
                    name: 'Name',
                    attendance: 'Attendance',
                    absence: 'Absence',
                    percent: 'Attendance %'
                }
            },
            spanish: {
                toolbar: {
                    title: 'Estadísticas',
                    buttons: {
                        export: 'Exportar'
                    }
                },
                filter: 'Filtrar por: ',
                year: 'Año',
                month: 'Mes',
                tableTitle: 'Asistencia Total en ',
                tableHeaders: {
                    name: 'Nombre',
                    attendance: 'Asistencia',
                    absence: 'Ausencia',
                    percent: 'Asistence %'
                }
            }
        };
    }
    StatsPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.storage.get('language').then(function (value) {
            if (value) {
                _this.language = value;
            }
            else {
                _this.language = 'english';
            }
            _this.htmlControls = _this.LANGUAGE[_this.language];
            if (_this.language === 'spanish') {
                _this.filterElement.value = 'Sin filtro';
                _this.selectOptions = ['Id', 'Asistencia', 'Ausencia', 'Fecha', 'Nombre', 'Sin filtro'];
                _this.months = _common_constants__WEBPACK_IMPORTED_MODULE_1__["MESESLABELS"];
            }
            else {
                _this.selectOptions = ['Id', 'Attendance', 'Absence', 'Date', 'Name', 'None'];
                _this.filterElement.value = 'None';
                _this.months = _common_constants__WEBPACK_IMPORTED_MODULE_1__["MESESLABELS"];
                _this.months = _common_constants__WEBPACK_IMPORTED_MODULE_1__["MONTHSLABELS"];
            }
            _this.monthQuery = _this.months[_this.currentDate.getMonth()];
            _this.yearQuery = _this.currentDate.getFullYear().toString();
        });
        this.query = '';
        this.event = this.route.snapshot.paramMap.get('event');
        if (!this.event) {
            this.event = '';
        }
        try {
            this.studentIds = this.route.snapshot.paramMap.get('ids').split(',');
        }
        catch (error) {
            this.studentIds = [];
        }
        this.getStudentsRecords();
    };
    StatsPage.prototype.ngOnInit = function () {
        this.students = [];
        this.unfilteredStudents = [];
    };
    StatsPage.prototype.initializeStudents = function () {
        this.students = this.unfilteredStudents;
    };
    /**
     *
     *
     * @param {string} option
     * @memberof StatsPage
     */
    StatsPage.prototype.queryData = function (option) {
        this.initializeStudents();
        this.query = '';
        switch (option) {
            case 'Id':
                this.queryStudentsbyId();
                break;
            case 'Attendance':
            case 'Asistencia':
                this.queryStudentsbyAttendance();
                break;
            case 'Absence':
            case 'Ausencia':
                this.queryStudentsbyAbsence();
                break;
            case 'Name':
            case 'Nombre':
                this.queryStudentsName();
                break;
            case 'Date':
            case 'Fecha':
                this.query = 'Date';
                this.queryDataByYear(new Date().getFullYear());
                break;
            default:
                this.initializeStudents();
        }
    };
    /**
     *
     *
     * @param {number} year
     * @memberof StatsPage
     */
    StatsPage.prototype.queryDataByYear = function (year) {
        var date = {
            year: +year,
            month: this.months.indexOf(this.monthQuery) + 1,
            day: null
        };
        try {
            var response = this.db.getQueriedRecordsByDate({ event: this.event, date: date });
            if (response.success === true) {
                this.students = response.data.slice();
            }
        }
        catch (error) {
            Object(src_app_common_handleError__WEBPACK_IMPORTED_MODULE_6__["handleError"])(error);
        }
    };
    /**
     *
     *
     * @param {*} month
     * @memberof StatsPage
     */
    StatsPage.prototype.queryDataByMonth = function (month) {
        var date;
        var index = parseInt(_common_constants__WEBPACK_IMPORTED_MODULE_1__["MONTHS"][month]);
        date = {
            year: +this.yearQuery,
            month: index + 1,
            day: null
        };
        try {
            var response = this.db.getQueriedRecordsByDate({ event: this.event, date: date });
            if (response.success === true) {
                this.students = response.data.slice();
            }
        }
        catch (error) {
            Object(src_app_common_handleError__WEBPACK_IMPORTED_MODULE_6__["handleError"])(error);
        }
    };
    /**
     *
     *
     * @memberof StatsPage
     */
    StatsPage.prototype.getStudentsRecords = function () {
        try {
            var response = this.db.getQueriedRecords({ event: this.event, query: this.query });
            if (response.success === true) {
                if (this.studentIds.length > 0) {
                    var list = [];
                    var _loop_1 = function (id) {
                        var found = response.data.find(function (student) { return id === student.id; });
                        if (found) {
                            list = list.concat([found]);
                        }
                    };
                    for (var _i = 0, _a = this.studentIds; _i < _a.length; _i++) {
                        var id = _a[_i];
                        _loop_1(id);
                    }
                    this.students = list;
                    this.unfilteredStudents = list;
                }
                else {
                    this.students = response.data;
                    this.unfilteredStudents = response.data;
                }
            }
            else {
                Object(src_app_common_handleError__WEBPACK_IMPORTED_MODULE_6__["handleError"])(response.error);
            }
        }
        catch (error) {
            Object(src_app_common_handleError__WEBPACK_IMPORTED_MODULE_6__["handleError"])(error);
        }
    };
    /**
     *
     *
     * @memberof StatsPage
     */
    StatsPage.prototype.queryStudentsName = function () {
        this.students = this.students.sort(function (a, b) {
            if (a.fullName.toLowerCase() < b.fullName.toLowerCase()) {
                return -1;
            }
            if (a.fullName.toLowerCase() > b.fullName.toLowerCase()) {
                return 1;
            }
            return 0;
        }).slice();
    };
    /**
     *
     *
     * @memberof StatsPage
     */
    StatsPage.prototype.queryStudentsbyAttendance = function () {
        this.students = this.students.sort(function (a, b) {
            if (a.attendance < b.attendance) {
                return 1;
            }
            if (a.attendance > b.attendance) {
                return -1;
            }
            return 0;
        }).slice();
    };
    /**
     *
     *
     * @memberof StatsPage
     */
    StatsPage.prototype.queryStudentsbyAbsence = function () {
        this.students = this.students.sort(function (a, b) {
            if (a.absence < b.absence) {
                return 1;
            }
            if (a.absence > b.absence) {
                return -1;
            }
            return 0;
        }).slice();
    };
    /**
     *
     *
     * @memberof StatsPage
     */
    StatsPage.prototype.queryStudentsbyId = function () {
        this.students = this.students.sort(function (a, b) {
            if (a.id < b.id) {
                return -1;
            }
            if (a.id > b.id) {
                return 1;
            }
            return 0;
        }).slice();
    };
    /**
     *
     *
     * @memberof StatsPage
     */
    StatsPage.prototype.toExportPage = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.modalCtrl.create({
                            component: _export_export_page__WEBPACK_IMPORTED_MODULE_2__["ExportPage"],
                            componentProps: { students: this.students }
                        })];
                    case 1:
                        modal = _a.sent();
                        modal.present();
                        modal.onDidDismiss().then(function (response) {
                            try {
                                if (response.data) {
                                    _this.showSimpleAlert({
                                        buttons: ['OK'],
                                        header: 'Information!',
                                        message: response.data
                                    });
                                }
                            }
                            catch (error) {
                                console.error(error);
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     *
     *
     * @private
     * @param {ISimpleAlertOptions} options
     * @memberof StatsPage
     */
    StatsPage.prototype.showSimpleAlert = function (options) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl
                            .create({
                            header: options.header,
                            message: options.message,
                            buttons: options.buttons
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ViewChild"])('filter'),
        __metadata("design:type", Object)
    ], StatsPage.prototype, "filterElement", void 0);
    StatsPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
            selector: 'app-stats',
            template: __webpack_require__(/*! ./stats.page.html */ "./src/app/stats/stats.page.html"),
            styles: [__webpack_require__(/*! ./stats.page.scss */ "./src/app/stats/stats.page.scss")]
        }),
        __metadata("design:paramtypes", [src_app_services_amaranthus_db_amaranthus_db__WEBPACK_IMPORTED_MODULE_4__["AmaranthusDBProvider"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ModalController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_0__["ActivatedRoute"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_7__["Storage"]])
    ], StatsPage);
    return StatsPage;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/estebanmorales/Projects/amaranthus2/src/main.ts */"./src/main.ts");


/***/ }),

/***/ 1:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3:
/*!************************!*\
  !*** stream (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map
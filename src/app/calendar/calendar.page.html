<ion-header>
  <ion-toolbar>
    <ion-title>Calendar</ion-title>
    <ion-buttons slot="start">
      <app-goback></app-goback>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding class="calendar" >
    <calendar-component (getDate)="getDate($event)"></calendar-component>
    <h4>{{currentDate}}</h4>
    <ion-searchbar [(ngModel)]="search" (ionInput)="searchStudent()" animated="true" type="search">
    </ion-searchbar>
    <ion-list *ngIf="students">
      <ion-item-sliding *ngFor="let student of students" #slidingUser>
        <ion-item>
          <ion-avatar slot="start">
            <img src="{{student.picture}}" alt="no image">
          </ion-avatar>
          <ion-label>
            <p>
              <span class="label name">Name: </span>
              <span class="name">{{student.fullName}}</span>
            </p>
            <p>
              <span class="label">ID: </span>{{student.id}}
            </p>
              <textarea #notes (keyup)="addNotes({id: student.id, notes:notes.value})" padding>{{student.notes}}</textarea>
            <div>
              <p class="left attended" *ngIf="student.attendance">
                {{student.firstName}}'s is present this day!
              </p>
              <p class="left attended" *ngIf="student.absence">
                {{student.firstName}}'s is absent this day!
              </p>
  
              <p class="right">
                Swipe for more options
              </p>
            </div>
          </ion-label>
        </ion-item>
        <ion-item-options>
          <ion-item-option color="primary" (click)="addAttendance({id: student.id})">
            Attended
          </ion-item-option>
          <ion-item-option color="secondary" (click)="addAbsence({id: student.id})">
            Absent
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
  </ion-content>

<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Edit</ion-title>
    <ion-buttons slot="start">
      <app-cancel></app-cancel>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="editStudent({
        firstName: firstName.value,
        initial: initial.value,
        lastName: lastName.value,
        id: id.value,
        address: address.value,
        phoneNumber:phoneNumber.value,
        town:town.value,
        state:state.value,
        class: class.value,
        fatherName:fatherName.value,
        motherName:motherName.value,
        emergencyContactName:emergencyContactName.value,
        emergencyRelationship:emergencyRelationship.value,
        emergencyContactPhoneNumber:emergencyContactPhoneNumber.value,
        picture:null,
        gender: null,
        isActive: null
        })">
        Save
      </ion-button>
    </ion-buttons>

  </ion-toolbar>
</ion-header>

<ion-content padding id="edit">
  <!-- Picture will be taken from gallery or camera.  If the input is empty a default one will
       be chosen from based by gender. -->
  <div class="profile-image">
    <img src="{{picture}}" alt="A profile picture">
  </div>
  <form #studentForm="ngForm" (ngSubmit)="editStudent({
        firstName: firstName.value,
        initial: initial.value,
        lastName: lastName.value,
        id: id.value,
        address: address.value,
        phoneNumber:phoneNumber.value,
        town:town.value,
        state:state.value,
        class: class.value,
        fatherName:fatherName.value,
        motherName:motherName.value,
        emergencyContactName:emergencyContactName.value,
        emergencyRelationship:emergencyRelationship.value,
        emergencyContactPhoneNumber:emergencyContactPhoneNumber.value,
        picture:null,
        gender: null,
        isActive: null
        })">
    <ion-item-group>
      <ion-button (click)="browsePicture()" color="primary">Change</ion-button>
      <ion-button (click)="picture = ''" color="secondary">Reset</ion-button>
      <ion-item>
        <ion-label stacked>ID</ion-label>
        <ion-input [value]="student.id" type="text" #id readonly="true"></ion-input>
        <ion-icon id="form-icon" item-right name="warning" *ngIf="!id.value"></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label stacked>First Name</ion-label>
        <ion-input [value]="student.firstName" type="text" #firstName></ion-input>
        <ion-icon id="form-icon" item-right name="warning" *ngIf="!firstName.value"></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label stacked>Middle Name</ion-label>
        <ion-input [value]="student.initial" type="text" #initial></ion-input>
      </ion-item>
      <ion-item>
        <ion-label stacked>Last Name</ion-label>
        <ion-input [value]="student.lastName" type="text" #lastName></ion-input>
        <ion-icon id="form-icon" item-right name="warning" *ngIf="!lastName.value"></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label stacked>Address</ion-label>
        <ion-input [value]="student.address" type="text" #address></ion-input>
        <!-- <ion-icon id="form-icon" item-right name="warning" *ngIf="!address.value"></ion-icon> -->
      </ion-item>
      <ion-item>
        <ion-label stacked>Phone Number</ion-label>
        <ion-input [value]="student.phoneNumber" type="text" #phoneNumber></ion-input>
        <!-- <ion-icon id="form-icon" item-right name="warning" *ngIf="!phoneNumber.value"></ion-icon> -->
      </ion-item>
      <ion-item>
        <ion-label stacked>City</ion-label>
        <ion-input [value]="student.town" type="text" #town></ion-input>
        <!-- <ion-icon id="form-icon" item-right name="warning" *ngIf="!town.value"></ion-icon> -->
      </ion-item>
      <ion-item>
        <ion-label stacked>State</ion-label>
        <ion-input [value]="student.state" type="text" #state></ion-input>
        <!-- <ion-icon id="form-icon" item-right name="warning" *ngIf="!state.value"></ion-icon> -->
      </ion-item>
      <ion-item>
        <ion-label stacked>Class</ion-label>
        <ion-input [value]="student.class" type="text" #class></ion-input>
      </ion-item>
      <ion-list lines="none">
        <ion-radio-group [(ngModel)]="gender" name="gender" ngDefaultControl>
          <ion-list-header>Gender</ion-list-header>
          <ion-item>
            <ion-label>Male</ion-label>
            <ion-radio slot="start" value="male" checked></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>Female</ion-label>
            <ion-radio slot="start" value="female"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>Undisclosed</ion-label>
            <ion-radio slot="start" value="undisclosed"></ion-radio>
          </ion-item>
        </ion-radio-group>
      </ion-list>
      <h6>Father</h6>
      <ion-item>
        <ion-label stacked>Name</ion-label>
        <ion-input [value]="student.fatherName" type="text" #fatherName></ion-input>
        <!-- <ion-icon id="form-icon" item-right name="warning" *ngIf="!fatherName.value"></ion-icon> -->
      </ion-item>
      <h6>Mother</h6>
      <ion-item>
        <ion-label stacked>Name</ion-label>
        <ion-input [value]="student.motherName" type="text" #motherName></ion-input>
        <!-- <ion-icon id="form-icon" item-right name="warning" *ngIf="!motherName.value"></ion-icon> -->
      </ion-item>
      <h6>Emergency Contact</h6>
      <ion-item>
        <ion-label stacked>Name</ion-label>
        <ion-input [value]="student.emergencyContactName" type="text" #emergencyContactName></ion-input>
        <!-- <ion-icon id="form-icon" item-right name="warning" *ngIf="!emergencyContactName.value"></ion-icon> -->
      </ion-item>
      <ion-item>
        <ion-label stacked>Relationship</ion-label>
        <ion-input [value]="student.emergencyRelationship" type="text" #emergencyRelationship></ion-input>
        <!-- <ion-icon id="form-icon" item-right name="warning" *ngIf="!emergencyRelationship.value"></ion-icon> -->
      </ion-item>
      <ion-item>
        <ion-label stacked>Phone Number</ion-label>
        <ion-input [value]="student.emergencyContactPhoneNumber" type="text" #emergencyContactPhoneNumber></ion-input>
        <!-- <ion-icon id="form-icon" item-right name="warning" *ngIf="validatePhoneNumber(emergencyContactPhoneNumber.value)"></ion-icon> -->
      </ion-item>
      <ion-item>
        <ion-label>Is {{student.firstName}} {{student.lastName}} active?</ion-label>
        <ion-checkbox name="isActive" [(ngModel)]='isActive'></ion-checkbox>
      </ion-item>
    </ion-item-group>
    <ion-button type="submit" color="primary">Save</ion-button>
    <ion-button type="button" color="danger" (click)="deleteStudent({id:id.value})">Delete</ion-button>
  </form>

</ion-content>
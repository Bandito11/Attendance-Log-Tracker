<ion-header>
  <ion-toolbar>
    <ion-title>Roster</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="goToCreate()">
        Add
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content id="student-list">
  <ion-searchbar placeholder="Search by ID or Name" (ionInput)="searchStudent($event)" animated="true" type="search">
  </ion-searchbar>
  <ion-item>
    <ion-label>Sort by:</ion-label>
    <ion-select interface="popover" multiple="false" #sort (ionChange)="sortData(sort.value)">
      <ion-select-option *ngFor="let option of selectOptions" value="{{option}}">{{option}}</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-label>Filter by class: </ion-label>
    <ion-select interface="popover" multiple="false" placeholder="None" #filter (ionChange)="filterByClass(filter.value)">
      <ion-select-option *ngFor="let class of filterOptions" value="{{class}}">{{class}}</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-list lines="none">
    <ion-card *ngFor="let student of students" (click)="goToProfile(student.id)">
      <ion-card-header>
        <ion-card-title>{{student.firstName}}
          <span *ngIf="student.initial">{{student.initial[0]}}.</span> {{student.lastName}}
        </ion-card-title>
        <ion-card-subtitle><span class="label">ID: </span>{{student.id}}</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col size="2">
              <ion-thumbnail>
                <img src="{{student.picture}}" alt="An image of user">
              </ion-thumbnail>
            </ion-col>
            <ion-col size="10">
              <ion-item>
                <ion-label>
                  <span class="label">Address: </span>{{student.address}}
                </ion-label>
              </ion-item>
            <ion-item>
                <ion-label>
                  <span class="label">Town: </span>{{student.town}}
                </ion-label>
              </ion-item>
            <ion-item>
                <ion-label>
                  <span class="label">State: </span>{{student.state}}
                </ion-label>
              </ion-item>
            <ion-item>
                <ion-label *ngIf="student.class">
                  <span class="label">Class: </span>{{student.class}}
                </ion-label>
              </ion-item>
              <ion-item>
                <ion-label *ngIf="student.phoneNumber">
                  <span class="label">Phone: </span>{{student.phoneNumber}}
                </ion-label>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-grid>
        <p class="attended">
          Tap to see {{student.firstName}}'s profile!
        </p>
      </ion-card-content>
    </ion-card>
  </ion-list>

</ion-content>
{"version":3,"file":"feedback-component.js","sourceRoot":"","sources":["../../../../../src/components/feedback-component/feedback-component.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AAClE,OAAO,EAAE,KAAK,EAAgB,MAAM,eAAe,CAAC;AACpD,OAAO,EAAE,WAAW,EAAE,MAAM,iCAAiC,CAAC;AAO9D,MAAM,OAAO,iBAAiB;EAU5B;;;IACE,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACnB,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;MACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;KACjD;GACF;EAED,gBAAgB;IACd,MAAM,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IACxD,KAAK,CAAC,KAAK,EAAE,CAAC;EAChB,CAAC;EAED,MAAM;IACJ,OAAO,CACL,EAAC,IAAI;MACH;QACE,aAAO,IAAI,EAAC,MAAM,EAAC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAI;QACnE;UACE,cACE,KAAK,EAAE,IAAI,CAAC,QAAQ,GAAG,SAAS,EAChC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,aAGjC;UACT,cACE,KAAK,EAAE,IAAI,CAAC,QAAQ,GAAG,UAAU,EACjC,IAAI,EAAC,QAAQ,EACb,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,eAGpC,CACL,CACD,CACF,CACR,CAAC;EACJ,CAAC;EACD,YAAY,CAAC,KAAK;IAChB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;EACrC,CAAC;EACD,KAAK,CAAC,WAAW,CAAC,KAAK;IACrB,KAAK,CAAC,cAAc,EAAE,CAAC;IACvB,IAAI,IAAI,CAAC,QAAQ,EAAE;MACjB,IAAI;QACF,MAAM,OAAO,GAAG,MAAM,WAAW,CAAC;UAChC,YAAY,EAAE,IAAI,CAAC,YAAY;UAC/B,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACxB,CAAC,CAAC;QACH,IAAI,OAAO,KAAK,IAAI,EAAE;UACpB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACpC;aAAM;UACL,2DAA2D;UAC3D,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;SACxB;OACF;MAAC,OAAO,KAAK,EAAE;QACd,2DAA2D;QAC3D,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;OACtB;KACF;EACH,CAAC;EAED,QAAQ,CAAC,KAAK;IACZ,KAAK,CAAC,cAAc,EAAE,CAAC;IACvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;EAChC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Host, Element, h, Prop } from '@stencil/core';\nimport { Event, EventEmitter } from '@stencil/core';\nimport { addFeedback } from '../../services/feedback-service';\n\n@Component({\n  tag: 'feedback-component',\n  styleUrl: 'feedback-component.css',\n  shadow: true,\n})\nexport class FeedbackComponent {\n  @Prop() componentKey: string;\n  @Prop() shadow: boolean;\n  cssClass: string;\n\n  @Event() cancelClicked: EventEmitter<boolean>;\n  @Event() feedbackCreated: EventEmitter<boolean>;\n  @Element() el: HTMLElement;\n  feedback: string;\n\n  constructor() {\n    this.cssClass = '';\n    if (this.shadow === true) {\n      this.cssClass = this.cssClass.concat('shadow ');\n    }\n  }\n\n  componentDidLoad() {\n    const input = this.el.shadowRoot.querySelector('input');\n    input.focus();\n  }\n\n  render() {\n    return (\n      <Host>\n        <form>\n          <input type='text' onInput={(event) => this.handleChange(event)} />\n          <div>\n            <button\n              class={this.cssClass + 'cancel '}\n              onClick={(event) => this.onCancel(event)}\n            >\n              Cancel\n            </button>\n            <button\n              class={this.cssClass + 'confirm '}\n              type='submit'\n              onClick={(event) => this.addFeedback(event)}\n            >\n              Feedback\n            </button>\n          </div>\n        </form>\n      </Host>\n    );\n  }\n  handleChange(event): void {\n    this.feedback = event.target.value;\n  }\n  async addFeedback(event): Promise<void> {\n    event.preventDefault();\n    if (this.feedback) {\n      try {\n        const message = await addFeedback({\n          componentKey: this.componentKey,\n          feedback: this.feedback,\n        });\n        if (message === true) {\n          this.feedbackCreated.emit(message);\n        } else {\n          //TODO: Check if this error can be catch outside via events\n          console.error(message);\n        }\n      } catch (error) {\n        //TODO: Check if this error can be catch outside via events\n        console.error(error);\n      }\n    }\n  }\n\n  onCancel(event) {\n    event.preventDefault();\n    this.cancelClicked.emit(true);\n  }\n}\n"]}
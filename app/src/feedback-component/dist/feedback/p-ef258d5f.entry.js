import{r as e,c as t,h as n,H as o,g as i}from"./p-e1480549.js";const s="https://feedback-d71f5.uc.r.appspot.com/add";async function a(e){if(!e.feedback){throw`Feedback property is empty`}if(!e.componentKey){throw`component Id property is empty`}const t={feedback:e.feedback};const n=await fetch(s,{headers:[["component-key",e.componentKey]],body:JSON.stringify(t),method:"POST",mode:"cors"});if(n.status===200){const e=await n.text();if(e==="true"){return true}else{try{const t=JSON.parse(e);return t.error}catch(e){return e}}}}const r=":host{display:block}input{padding:0.2em}button{margin-top:0.3em;border-radius:4px;border:none;padding:6px;text-align:center;text-decoration:none}.confirm{background-color:#0074d9;color:#f6f6f6;margin-left:2em}.cancel{background-color:#e1e1e1}.shadow:hover{box-shadow:0 8px 12px 0 rgba(0, 0, 0, 0.24), 0 7px 8px 0 rgba(0, 0, 0, 0.19)}";const c=class{constructor(n){e(this,n);this.cancelClicked=t(this,"cancelClicked",7);this.feedbackCreated=t(this,"feedbackCreated",7);this.componentKey=undefined;this.shadow=undefined;this.cssClass="";if(this.shadow===true){this.cssClass=this.cssClass.concat("shadow ")}}componentDidLoad(){const e=this.el.shadowRoot.querySelector("input");e.focus()}render(){return n(o,null,n("form",null,n("input",{type:"text",onInput:e=>this.handleChange(e)}),n("div",null,n("button",{class:this.cssClass+"cancel ",onClick:e=>this.onCancel(e)},"Cancel"),n("button",{class:this.cssClass+"confirm ",type:"submit",onClick:e=>this.addFeedback(e)},"Feedback"))))}handleChange(e){this.feedback=e.target.value}async addFeedback(e){e.preventDefault();if(this.feedback){try{const e=await a({componentKey:this.componentKey,feedback:this.feedback});if(e===true){this.feedbackCreated.emit(e)}else{console.error(e)}}catch(e){console.error(e)}}}onCancel(e){e.preventDefault();this.cancelClicked.emit(true)}get el(){return i(this)}};c.style=r;const d=":host{display:block}button{border-radius:4px;border:none;background-color:#f6f6f6;padding:6px;text-align:center;text-decoration:none}.shadow:hover{box-shadow:0 8px 12px 0 rgba(0, 0, 0, 0.24), 0 7px 8px 0 rgba(0, 0, 0, 0.19)}.thank-you{border:2px solid #f6f6f6;width:13em;padding:0.4em;color:#2ecc40;box-shadow:0 5px 8px 0 rgba(17, 17, 17, 0.24),\n    0 4px 5px 0 rgba(31, 31, 31, 0.19);animation:fadeInAnimation ease 1s;animation-iteration-count:1;animation-fill-mode:forwards}@keyframes fadeInAnimation{0%{opacity:0}100%{opacity:1}}.heart-icon{color:#ff4136;font-size:1.1em}";const h=class{cancelClickedHandler(e){this.hidden=e.detail}feedbackCreatedHandler(e){this.feedbackCreated=e.detail}constructor(t){e(this,t);this.componentKey=undefined;this.shadow=undefined;this.hidden=undefined;this.feedbackCreated=undefined;this.hidden=true;this.feedbackCreated=false;this.cssClass="";if(this.shadow===true){this.cssClass=this.cssClass.concat("shadow ")}}getFeedbackCreated(){if(this.feedbackCreated){return n("div",{class:"ripple-back",id:"ripple-loader"},n("p",{class:"thank-you ripple-loader"},n("span",{class:"heart-icon"},"â™¥")," Thanks for the feedback!"))}else{return this.getFeedbackComponent()}}getFeedbackComponent(){if(this.hidden){return n("button",{class:this.cssClass,onClick:()=>this.showFeedbackComponent()},"Feedback?")}else{return n("feedback-component",{componentKey:this.componentKey,shadow:this.shadow})}}render(){return n(o,null,this.getFeedbackCreated())}showFeedbackComponent(){if(this.hidden){this.hidden=false}else{this.hidden=true}}};h.style=d;export{c as feedback_component,h as feedback_container};
//# sourceMappingURL=p-ef258d5f.entry.js.map